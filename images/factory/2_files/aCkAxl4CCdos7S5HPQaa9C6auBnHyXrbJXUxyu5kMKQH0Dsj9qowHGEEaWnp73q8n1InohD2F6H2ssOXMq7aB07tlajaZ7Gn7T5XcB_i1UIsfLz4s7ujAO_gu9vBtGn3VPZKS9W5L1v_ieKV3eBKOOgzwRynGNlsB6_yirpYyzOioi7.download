;/*FB_PKG_DELIM*/

/**
 *
 * This file is generated from fbsource. Please do not modify it directly.
 *
 *
 * @nolint
 * @generated
 * @nopackage
 * @fullSyntaxTransform
 * @preserve-whitespace
 */__d("ls_voprf_utils_v2",["Promise"],(function $module_ls_voprf_utils_v2(global,require,requireDynamic,requireLazy,module,exports){var _require_closure_Promise;


var Module=function(){
var _scriptDir=typeof document!=='undefined'&&document.currentScript?document.currentScript.src:undefined;

return(
function(moduleArg){if(moduleArg===void 0){moduleArg={};}

var Module=moduleArg;var readyPromiseResolve,readyPromiseReject;Module["ready"]=new(_require_closure_Promise||(_require_closure_Promise=require("Promise")))(function(resolve,reject){readyPromiseResolve=resolve;readyPromiseReject=reject;});["_main","getExceptionMessage","___get_exception_message","_free","_memory","_curve_create","_curve_free","_curve_init_ristretto","_get_curve_element_bytes","_get_curve_scalar_bytes","_kdf_create","_kdf_free","_kdf_init_naor_reingold","_sodiumInit","_voprf_create","_voprf_free","_voprf_init_exp_twohashdh","_blind","_verifiable_unblind","_voprf_client_finalize","_voprf_setup","_voprf_evaluate","_voprf_server_finalize","_get_voprf_final_evaluation_bytes","___indirect_function_table","__embind_initialize_bindings","_fflush","___start_em_asm","___stop_em_asm","onRuntimeInitialized"].forEach(function(prop){if(!Object.getOwnPropertyDescriptor(Module["ready"],prop)){Object.defineProperty(Module["ready"],prop,{get:function get(){return abort("You are getting "+prop+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js");},set:function set(){return abort("You are setting "+prop+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js");}});}});var moduleOverrides=Object.assign({},Module);var arguments_=[];var thisProgram="./this.program";var quit_=function quit_(status,toThrow){throw toThrow;};var ENVIRONMENT_IS_WEB=true;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;if(Module["ENVIRONMENT"]){throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");}var scriptDirectory="";function locateFile(path){if(Module["locateFile"]){return Module["locateFile"](path,scriptDirectory);}return scriptDirectory+path;}var read_,readAsync,readBinary,setWindowTitle;if(ENVIRONMENT_IS_SHELL){if(typeof process=="object"&&typeof require==="function"||typeof window=="object"||typeof importScripts=="function")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");if(typeof read!="undefined"){read_=read;}readBinary=function readBinary(f){if(typeof readbuffer=="function"){return new Uint8Array(readbuffer(f));}var data=read(f,"binary");assert(typeof data=="object");return data;};readAsync=function readAsync(f,onload,onerror){setTimeout(function(){return onload(readBinary(f));});};if(typeof clearTimeout=="undefined"){globalThis.clearTimeout=function(id){};}if(typeof setTimeout=="undefined"){globalThis.setTimeout=function(f){return typeof f=="function"?f():abort();};}if(typeof scriptArgs!="undefined"){arguments_=scriptArgs;}else if(typeof arguments!="undefined"){arguments_=arguments;}if(typeof quit=="function"){quit_=function quit_(status,toThrow){setTimeout(function(){if(!(toThrow instanceof ExitStatus)){var toLog=toThrow;if(toThrow&&typeof toThrow=="object"&&toThrow.stack){toLog=[toThrow,toThrow.stack];}err("exiting due to exception: "+toLog);}quit(status);});throw toThrow;};}if(typeof print!="undefined"){if(typeof console=="undefined")console={};console.log=print;console.warn=console.error=typeof printErr!="undefined"?printErr:print;}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href;}else if(typeof document!="undefined"&&document.currentScript){scriptDirectory=document.currentScript.src;}if(_scriptDir){scriptDirectory=_scriptDir;}if(scriptDirectory.indexOf("blob:")!==0){scriptDirectory=scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1);}else{scriptDirectory="";}if(!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");{read_=function read_(url){var xhr=new XMLHttpRequest();xhr.open("GET",url,false);xhr.send(null);return xhr.responseText;};if(ENVIRONMENT_IS_WORKER){readBinary=function readBinary(url){var xhr=new XMLHttpRequest();xhr.open("GET",url,false);xhr.responseType="arraybuffer";xhr.send(null);return new Uint8Array(xhr.response);};}readAsync=function readAsync(url,onload,onerror){var xhr=new XMLHttpRequest();xhr.open("GET",url,true);xhr.responseType="arraybuffer";xhr.onload=function(){if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return;}onerror();};xhr.onerror=onerror;xhr.send(null);};}setWindowTitle=function setWindowTitle(title){return document.title=title;};}else{throw new Error("environment detection error");}var out=Module["print"]||console.log.bind(console);var err=Module["printErr"]||console.error.bind(console);Object.assign(Module,moduleOverrides);moduleOverrides=null;checkIncomingModuleAPI();if(Module["arguments"])arguments_=Module["arguments"];legacyModuleProp("arguments","arguments_");if(Module["thisProgram"])thisProgram=Module["thisProgram"];legacyModuleProp("thisProgram","thisProgram");if(Module["quit"])quit_=Module["quit"];legacyModuleProp("quit","quit_");assert(typeof Module["memoryInitializerPrefixURL"]=="undefined","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["pthreadMainPrefixURL"]=="undefined","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["cdInitializerPrefixURL"]=="undefined","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["filePackagePrefixURL"]=="undefined","Module.filePackagePrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["read"]=="undefined","Module.read option was removed (modify read_ in JS)");assert(typeof Module["readAsync"]=="undefined","Module.readAsync option was removed (modify readAsync in JS)");assert(typeof Module["readBinary"]=="undefined","Module.readBinary option was removed (modify readBinary in JS)");assert(typeof Module["setWindowTitle"]=="undefined","Module.setWindowTitle option was removed (modify setWindowTitle in JS)");assert(typeof Module["TOTAL_MEMORY"]=="undefined","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY");legacyModuleProp("asm","wasmExports");legacyModuleProp("read","read_");legacyModuleProp("readAsync","readAsync");legacyModuleProp("readBinary","readBinary");legacyModuleProp("setWindowTitle","setWindowTitle");assert(!ENVIRONMENT_IS_WORKER,"worker environment detected but not enabled at build time.  Add 'worker' to `-sENVIRONMENT` to enable.");assert(!ENVIRONMENT_IS_NODE,"node environment detected but not enabled at build time.  Add 'node' to `-sENVIRONMENT` to enable.");assert(!ENVIRONMENT_IS_SHELL,"shell environment detected but not enabled at build time.  Add 'shell' to `-sENVIRONMENT` to enable.");var wasmBinary;if(Module["wasmBinary"])wasmBinary=Module["wasmBinary"];legacyModuleProp("wasmBinary","wasmBinary");var noExitRuntime=Module["noExitRuntime"]||true;legacyModuleProp("noExitRuntime","noExitRuntime");if(typeof WebAssembly!="object"){abort("no native wasm support detected");}var wasmMemory;var wasmExports;var ABORT=false;var EXITSTATUS;function assert(condition,text){if(!condition){abort("Assertion failed"+(text?": "+text:""));}}var HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateMemoryViews(){var b=wasmMemory.buffer;Module["HEAP8"]=HEAP8=new Int8Array(b);Module["HEAP16"]=HEAP16=new Int16Array(b);Module["HEAP32"]=HEAP32=new Int32Array(b);Module["HEAPU8"]=HEAPU8=new Uint8Array(b);Module["HEAPU16"]=HEAPU16=new Uint16Array(b);Module["HEAPU32"]=HEAPU32=new Uint32Array(b);Module["HEAPF32"]=HEAPF32=new Float32Array(b);Module["HEAPF64"]=HEAPF64=new Float64Array(b);}assert(!Module["STACK_SIZE"],"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time");assert(typeof Int32Array!="undefined"&&typeof Float64Array!=="undefined"&&Int32Array.prototype.subarray!=undefined&&Int32Array.prototype.set!=undefined,"JS engine does not provide full typed array support");assert(!Module["wasmMemory"],"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally");assert(!Module["INITIAL_MEMORY"],"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");var wasmTable;function writeStackCookie(){var max=_emscripten_stack_get_end2();assert((max&3)==0);if(max==0){max+=4;}HEAPU32[max>>2]=34821223;HEAPU32[max+4>>2]=2310721022;HEAPU32[0>>2]=1668509029;}function checkStackCookie(){if(ABORT)return;var max=_emscripten_stack_get_end2();if(max==0){max+=4;}var cookie1=HEAPU32[max>>2];var cookie2=HEAPU32[max+4>>2];if(cookie1!=34821223||cookie2!=2310721022){abort("Stack overflow! Stack cookie has been overwritten at "+ptrToString(max)+", expected hex dwords 0x89BACDFE and 0x2135467, but received "+ptrToString(cookie2)+" "+ptrToString(cookie1));}if(HEAPU32[0>>2]!=1668509029){abort("Runtime error: The application has corrupted its heap memory area (address zero)!");}}(function(){var h16=new Int16Array(1);var h8=new Int8Array(h16.buffer);h16[0]=25459;if(h8[0]!==115||h8[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)";})();var __ATPRERUN__=[];var __ATINIT__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeKeepaliveCounter=0;function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift());}}callRuntimeCallbacks(__ATPRERUN__);}function initRuntime(){assert(!runtimeInitialized);runtimeInitialized=true;checkStackCookie();callRuntimeCallbacks(__ATINIT__);}function postRun(){checkStackCookie();if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift());}}callRuntimeCallbacks(__ATPOSTRUN__);}function addOnPreRun(cb){__ATPRERUN__.unshift(cb);}function addOnInit(cb){__ATINIT__.unshift(cb);}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb);}assert(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;var runDependencyTracking={};function addRunDependency(id){runDependencies++;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies);}if(id){assert(!runDependencyTracking[id]);runDependencyTracking[id]=1;if(runDependencyWatcher===null&&typeof setInterval!="undefined"){runDependencyWatcher=setInterval(function(){if(ABORT){clearInterval(runDependencyWatcher);runDependencyWatcher=null;return;}var shown=false;for(var dep in runDependencyTracking){if(!shown){shown=true;err("still waiting on run dependencies:");}err("dependency: "+dep);}if(shown){err("(end of list)");}},1e4);}}else{err("warning: run dependency added without ID");}}function removeRunDependency(id){runDependencies--;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies);}if(id){assert(runDependencyTracking[id]);delete runDependencyTracking[id];}else{err("warning: run dependency removed without ID");}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null;}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback();}}}function abort(what){if(Module["onAbort"]){Module["onAbort"](what);}what="Aborted("+what+")";err(what);ABORT=true;EXITSTATUS=1;var e=new WebAssembly.RuntimeError(what);readyPromiseReject(e);throw e;}var FS={error:function error(){abort("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM");},init:function init(){FS.error();},createDataFile:function createDataFile(){FS.error();},createPreloadedFile:function createPreloadedFile(){FS.error();},createLazyFile:function createLazyFile(){FS.error();},open:function open(){FS.error();},mkdev:function mkdev(){FS.error();},registerDevice:function registerDevice(){FS.error();},analyzePath:function analyzePath(){FS.error();},ErrnoError:function ErrnoError(){FS.error();}};Module["FS_createDataFile"]=FS.createDataFile;Module["FS_createPreloadedFile"]=FS.createPreloadedFile;var dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(filename){return filename.startsWith(dataURIPrefix);}function isFileURI(filename){return filename.startsWith("file://");}function createExportWrapper(name){return function(){assert(runtimeInitialized,"native function `"+name+"` called before runtime initialization");var f=wasmExports[name];assert(f,"exported native function `"+name+"` not found");return f.apply(null,arguments);};}var EmscriptenEH=function(_Error){"use strict";babelHelpers.inheritsLoose(EmscriptenEH,_Error);function EmscriptenEH(){return _Error.apply(this,arguments)||this;}return EmscriptenEH;}(babelHelpers.wrapNativeSuper(Error));var EmscriptenSjLj=function(_EmscriptenEH){"use strict";babelHelpers.inheritsLoose(EmscriptenSjLj,_EmscriptenEH);function EmscriptenSjLj(){return _EmscriptenEH.apply(this,arguments)||this;}return EmscriptenSjLj;}(EmscriptenEH);var CppException=function(_EmscriptenEH2){"use strict";babelHelpers.inheritsLoose(CppException,_EmscriptenEH2);function CppException(excPtr){var _this;_this=_EmscriptenEH2.call(this,excPtr)||this;_this.excPtr=excPtr;var excInfo=getExceptionMessage(excPtr);_this.name=excInfo[0];_this.message=excInfo[1];return _this;}return CppException;}(EmscriptenEH);var wasmBinaryFile;wasmBinaryFile="crypto_utils_v2.wasm";if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=locateFile(wasmBinaryFile);}function getBinarySync(file){if(file==wasmBinaryFile&&wasmBinary){return new Uint8Array(wasmBinary);}if(readBinary){return readBinary(file);}throw"both async and sync fetching of the wasm failed";}function getBinaryPromise(binaryFile){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"){return fetch(binaryFile,{credentials:"same-origin"}).then(function(response){if(!response["ok"]){throw"failed to load wasm binary file at '"+binaryFile+"'";}return response["arrayBuffer"]();})["catch"](function(){return getBinarySync(binaryFile);});}}return(_require_closure_Promise||(_require_closure_Promise=require("Promise"))).resolve().then(function(){return getBinarySync(binaryFile);});}function instantiateArrayBuffer(binaryFile,imports,receiver){return getBinaryPromise(binaryFile).then(function(binary){return WebAssembly.instantiate(binary,imports);}).then(function(instance){return instance;}).then(receiver,function(reason){err("failed to asynchronously prepare wasm: "+reason);if(isFileURI(wasmBinaryFile)){err("warning: Loading from a file URI ("+wasmBinaryFile+") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing");}abort(reason);});}function instantiateAsync(binary,binaryFile,imports,callback){if(!binary&&typeof WebAssembly.instantiateStreaming=="function"&&!isDataURI(binaryFile)&&typeof fetch=="function"){return fetch(binaryFile,{credentials:"same-origin"}).then(function(response){var result=WebAssembly.instantiateStreaming(response,imports);return result.then(callback,function(reason){err("wasm streaming compile failed: "+reason);err("falling back to ArrayBuffer instantiation");return instantiateArrayBuffer(binaryFile,imports,callback);});});}return instantiateArrayBuffer(binaryFile,imports,callback);}function createWasm(){var info={"env":wasmImports,"wasi_snapshot_preview1":wasmImports};function receiveInstance(instance,module){var exports=instance.exports;wasmExports=exports;wasmMemory=wasmExports["memory"];Module["wasmMemory"]=wasmMemory;assert(wasmMemory,"memory not found in wasm exports");updateMemoryViews();wasmTable=wasmExports["__indirect_function_table"];assert(wasmTable,"table not found in wasm exports");addOnInit(wasmExports["__wasm_call_ctors"]);removeRunDependency("wasm-instantiate");return exports;}addRunDependency("wasm-instantiate");var trueModule=Module;function receiveInstantiationResult(result){assert(Module===trueModule,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?");trueModule=null;receiveInstance(result["instance"]);}if(Module["instantiateWasm"]){try{return Module["instantiateWasm"](info,receiveInstance);}catch(e){err("Module.instantiateWasm callback failed with error: "+e);readyPromiseReject(e);}}instantiateAsync(wasmBinary,wasmBinaryFile,info,receiveInstantiationResult)["catch"](readyPromiseReject);return{};}function legacyModuleProp(prop,newName,incomming){if(incomming===void 0){incomming=true;}if(!Object.getOwnPropertyDescriptor(Module,prop)){Object.defineProperty(Module,prop,{configurable:true,get:function get(){var extra=incomming?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";abort("`Module."+prop+"` has been replaced by `"+newName+"`"+extra);}});}}function ignoredModuleProp(prop){if(Object.getOwnPropertyDescriptor(Module,prop)){abort("`Module."+prop+"` was supplied but `"+prop+"` not included in INCOMING_MODULE_JS_API");}}function isExportedByForceFilesystem(name){return name==="FS_createPath"||name==="FS_createDataFile"||name==="FS_createPreloadedFile"||name==="FS_unlink"||name==="addRunDependency"||name==="FS_createLazyFile"||name==="FS_createDevice"||name==="removeRunDependency";}function missingGlobal(sym,msg){if(typeof globalThis!=="undefined"){Object.defineProperty(globalThis,sym,{configurable:true,get:function get(){warnOnce("`"+sym+"` is not longer defined by emscripten. "+msg);return undefined;}});}}missingGlobal("buffer","Please use HEAP8.buffer or wasmMemory.buffer");function missingLibrarySymbol(sym){if(typeof globalThis!=="undefined"&&!Object.getOwnPropertyDescriptor(globalThis,sym)){Object.defineProperty(globalThis,sym,{configurable:true,get:function get(){var msg="`"+sym+"` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line";var librarySymbol=sym;if(!librarySymbol.startsWith("_")){librarySymbol="$"+sym;}msg+=" (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='"+librarySymbol+"')";if(isExportedByForceFilesystem(sym)){msg+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you";}warnOnce(msg);return undefined;}});}unexportedRuntimeSymbol(sym);}function unexportedRuntimeSymbol(sym){if(!Object.getOwnPropertyDescriptor(Module,sym)){Object.defineProperty(Module,sym,{configurable:true,get:function get(){var msg="'"+sym+"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)";if(isExportedByForceFilesystem(sym)){msg+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you";}abort(msg);}});}}var ASM_CONSTS={50356:function _(){return Module.getRandomValue();},50392:function _(){if(Module.getRandomValue===undefined){try{var window_="object"===typeof window?window:self;var crypto_=typeof window_.crypto!=="undefined"?window_.crypto:window_.msCrypto;var randomValuesStandard=function randomValuesStandard(){var buf=new Uint32Array(1);crypto_.getRandomValues(buf);return buf[0]>>>0;};randomValuesStandard();Module.getRandomValue=randomValuesStandard;}catch(e){{throw"No secure random number generator found";}}}}};function ExitStatus(status){this.name="ExitStatus";this.message="Program terminated with exit("+status+")";this.status=status;}var callRuntimeCallbacks=function callRuntimeCallbacks(callbacks){while(callbacks.length>0){callbacks.shift()(Module);}};var withStackSave=function withStackSave(f){var stack=stackSave();var ret=f();stackRestore(stack);return ret;};var UTF8Decoder=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):undefined;var UTF8ArrayToString=function UTF8ArrayToString(heapOrArray,idx,maxBytesToRead){var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heapOrArray[endPtr]&&!(endPtr>=endIdx)){++endPtr;}if(endPtr-idx>16&&heapOrArray.buffer&&UTF8Decoder){return UTF8Decoder.decode(heapOrArray.subarray(idx,endPtr));}var str="";while(idx<endPtr){var u0=heapOrArray[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue;}var u1=heapOrArray[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue;}var u2=heapOrArray[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2;}else{if((u0&248)!=240)warnOnce("Invalid UTF-8 leading byte "+ptrToString(u0)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!");u0=(u0&7)<<18|u1<<12|u2<<6|heapOrArray[idx++]&63;}if(u0<65536){str+=String.fromCharCode(u0);}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023);}}return str;};var UTF8ToString=function UTF8ToString(ptr,maxBytesToRead){assert(typeof ptr=="number");return ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):"";};var getExceptionMessageCommon=function getExceptionMessageCommon(ptr){return withStackSave(function(){var type_addr_addr=stackAlloc(4);var message_addr_addr=stackAlloc(4);___get_exception_message(ptr,type_addr_addr,message_addr_addr);var type_addr=HEAPU32[type_addr_addr>>2];var message_addr=HEAPU32[message_addr_addr>>2];var type=UTF8ToString(type_addr);_free(type_addr);var message;if(message_addr){message=UTF8ToString(message_addr);_free(message_addr);}return[type,message];});};function getExceptionMessage(ptr){return getExceptionMessageCommon(ptr);}Module["getExceptionMessage"]=getExceptionMessage;function getValue(ptr,type){if(type===void 0){type="i8";}if(type.endsWith("*"))type="*";switch(type){case"i1":return HEAP8[ptr>>0];case"i8":return HEAP8[ptr>>0];case"i16":return HEAP16[ptr>>1];case"i32":return HEAP32[ptr>>2];case"i64":abort("to do getValue(i64) use WASM_BIGINT");case"float":return HEAPF32[ptr>>2];case"double":return HEAPF64[ptr>>3];case"*":return HEAPU32[ptr>>2];default:abort("invalid type for getValue: "+type);}}var ptrToString=function ptrToString(ptr){assert(typeof ptr==="number");ptr>>>=0;return"0x"+ptr.toString(16).padStart(8,"0");};var warnOnce=function warnOnce(text){if(!warnOnce.shown)warnOnce.shown={};if(!warnOnce.shown[text]){warnOnce.shown[text]=1;err(text);}};var ___assert_fail=function ___assert_fail(condition,filename,line,func){abort("Assertion failed: "+UTF8ToString(condition)+", at: "+[filename?UTF8ToString(filename):"unknown filename",line,func?UTF8ToString(func):"unknown function"]);};var exceptionCaught=[];var uncaughtExceptionCount=0;function ___cxa_begin_catch(ptr){var info=new ExceptionInfo(ptr);if(!info.get_caught()){info.set_caught(true);uncaughtExceptionCount--;}info.set_rethrown(false);exceptionCaught.push(info);___cxa_increment_exception_refcount(info.excPtr);return info.get_exception_ptr();}var exceptionLast=0;function ExceptionInfo(excPtr){this.excPtr=excPtr;this.ptr=excPtr-24;this.set_type=function(type){HEAPU32[this.ptr+4>>2]=type;};this.get_type=function(){return HEAPU32[this.ptr+4>>2];};this.set_destructor=function(destructor){HEAPU32[this.ptr+8>>2]=destructor;};this.get_destructor=function(){return HEAPU32[this.ptr+8>>2];};this.set_caught=function(caught){caught=caught?1:0;HEAP8[this.ptr+12>>0]=caught;};this.get_caught=function(){return HEAP8[this.ptr+12>>0]!=0;};this.set_rethrown=function(rethrown){rethrown=rethrown?1:0;HEAP8[this.ptr+13>>0]=rethrown;};this.get_rethrown=function(){return HEAP8[this.ptr+13>>0]!=0;};this.init=function(type,destructor){this.set_adjusted_ptr(0);this.set_type(type);this.set_destructor(destructor);};this.set_adjusted_ptr=function(adjustedPtr){HEAPU32[this.ptr+16>>2]=adjustedPtr;};this.get_adjusted_ptr=function(){return HEAPU32[this.ptr+16>>2];};this.get_exception_ptr=function(){var isPointer=___cxa_is_pointer_type(this.get_type());if(isPointer){return HEAPU32[this.excPtr>>2];}var adjusted=this.get_adjusted_ptr();if(adjusted!==0)return adjusted;return this.excPtr;};}function ___resumeException(ptr){if(!exceptionLast){exceptionLast=new CppException(ptr);}throw exceptionLast;}var findMatchingCatch=function findMatchingCatch(args){var thrown=exceptionLast&&exceptionLast.excPtr;if(!thrown){setTempRet0(0);return 0;}var info=new ExceptionInfo(thrown);info.set_adjusted_ptr(thrown);var thrownType=info.get_type();if(!thrownType){setTempRet0(0);return thrown;}for(var arg in args){var caughtType=args[arg];if(caughtType===0||caughtType===thrownType){break;}var adjusted_ptr_addr=info.ptr+16;if(___cxa_can_catch(caughtType,thrownType,adjusted_ptr_addr)){setTempRet0(caughtType);return thrown;}}setTempRet0(thrownType);return thrown;};var ___cxa_find_matching_catch_2=function ___cxa_find_matching_catch_2(){return findMatchingCatch([]);};var ___cxa_find_matching_catch_3=function ___cxa_find_matching_catch_3(arg0){return findMatchingCatch([arg0]);};function __embind_register_bigint(primitiveType,name,size,minRange,maxRange){}function getShiftFromSize(size){switch(size){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+size);}}function embind_init_charCodes(){var codes=new Array(256);for(var i=0;i<256;++i){codes[i]=String.fromCharCode(i);}embind_charCodes=codes;}var embind_charCodes=undefined;function readLatin1String(ptr){var ret="";var c=ptr;while(HEAPU8[c]){ret+=embind_charCodes[HEAPU8[c++]];}return ret;}var awaitingDependencies={};var registeredTypes={};var typeDependencies={};var BindingError=undefined;function throwBindingError(message){throw new BindingError(message);}var InternalError=undefined;function throwInternalError(message){throw new InternalError(message);}function sharedRegisterType(rawType,registeredInstance,options){if(options===void 0){options={};}var name=registeredInstance.name;if(!rawType){throwBindingError("type \""+name+"\" must have a positive integer typeid pointer");}if(Object.prototype.hasOwnProperty.call(registeredTypes,rawType)){if(options.ignoreDuplicateRegistrations){return;}else{throwBindingError("Cannot register type '"+name+"' twice");}}registeredTypes[rawType]=registeredInstance;delete typeDependencies[rawType];if(Object.prototype.hasOwnProperty.call(awaitingDependencies,rawType)){var callbacks=awaitingDependencies[rawType];delete awaitingDependencies[rawType];callbacks.forEach(function(cb){return cb();});}}function registerType(rawType,registeredInstance,options){if(options===void 0){options={};}if(!("argPackAdvance"in registeredInstance)){throw new TypeError("registerType registeredInstance requires argPackAdvance");}return sharedRegisterType(rawType,registeredInstance,options);}function __embind_register_bool(rawType,name,size,trueValue,falseValue){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(wt){return!!wt;},"toWireType":function toWireType(destructors,o){return o?trueValue:falseValue;},"argPackAdvance":8,"readValueFromPointer":function readValueFromPointer(pointer){var heap;if(size===1){heap=HEAP8;}else if(size===2){heap=HEAP16;}else if(size===4){heap=HEAP32;}else{throw new TypeError("Unknown boolean type size: "+name);}return this["fromWireType"](heap[pointer>>shift]);},destructorFunction:null});}function handleAllocatorInit(){Object.assign(HandleAllocator.prototype,{get:function get(id){assert(this.allocated[id]!==undefined,"invalid handle: "+id);return this.allocated[id];},has:function has(id){return this.allocated[id]!==undefined;},allocate:function allocate(handle){var id=this.freelist.pop()||this.allocated.length;this.allocated[id]=handle;return id;},free:function free(id){assert(this.allocated[id]!==undefined);this.allocated[id]=undefined;this.freelist.push(id);}});}function HandleAllocator(){this.allocated=[undefined];this.freelist=[];}var emval_handles=new HandleAllocator();function __emval_decref(handle){if(handle>=emval_handles.reserved&&0===--emval_handles.get(handle).refcount){emval_handles.free(handle);}}function count_emval_handles(){var count=0;for(var i=emval_handles.reserved;i<emval_handles.allocated.length;++i){if(emval_handles.allocated[i]!==undefined){++count;}}return count;}function init_emval(){emval_handles.allocated.push({value:undefined},{value:null},{value:true},{value:false});emval_handles.reserved=emval_handles.allocated.length;Module["count_emval_handles"]=count_emval_handles;}var Emval={toValue:function toValue(handle){if(!handle){throwBindingError("Cannot use deleted val. handle = "+handle);}return emval_handles.get(handle).value;},toHandle:function toHandle(value){switch(value){case undefined:return 1;case null:return 2;case true:return 3;case false:return 4;default:{return emval_handles.allocate({refcount:1,value:value});}}}};function simpleReadValueFromPointer(pointer){return this["fromWireType"](HEAP32[pointer>>2]);}function __embind_register_emval(rawType,name){name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(handle){var rv=Emval.toValue(handle);__emval_decref(handle);return rv;},"toWireType":function toWireType(destructors,value){return Emval.toHandle(value);},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:null});}function embindRepr(v){if(v===null){return"null";}var t=typeof v;if(t==="object"||t==="array"||t==="function"){return v.toString();}else{return""+v;}}function floatReadValueFromPointer(name,shift){switch(shift){case 2:return function(pointer){return this["fromWireType"](HEAPF32[pointer>>2]);};case 3:return function(pointer){return this["fromWireType"](HEAPF64[pointer>>3]);};default:throw new TypeError("Unknown float type: "+name);}}function __embind_register_float(rawType,name,size){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(value){return value;},"toWireType":function toWireType(destructors,value){if(typeof value!="number"&&typeof value!="boolean"){throw new TypeError("Cannot convert "+embindRepr(value)+" to "+this.name);}return value;},"argPackAdvance":8,"readValueFromPointer":floatReadValueFromPointer(name,shift),destructorFunction:null});}function integerReadValueFromPointer(name,shift,signed){switch(shift){case 0:return signed?function readS8FromPointer(pointer){return HEAP8[pointer];}:function readU8FromPointer(pointer){return HEAPU8[pointer];};case 1:return signed?function readS16FromPointer(pointer){return HEAP16[pointer>>1];}:function readU16FromPointer(pointer){return HEAPU16[pointer>>1];};case 2:return signed?function readS32FromPointer(pointer){return HEAP32[pointer>>2];}:function readU32FromPointer(pointer){return HEAPU32[pointer>>2];};default:throw new TypeError("Unknown integer type: "+name);}}function __embind_register_integer(primitiveType,name,size,minRange,maxRange){name=readLatin1String(name);if(maxRange===-1){maxRange=4294967295;}var shift=getShiftFromSize(size);var fromWireType=function fromWireType(value){return value;};if(minRange===0){var bitshift=32-8*size;fromWireType=function fromWireType(value){return value<<bitshift>>>bitshift;};}var isUnsignedType=name.includes("unsigned");var checkAssertions=function checkAssertions(value,toTypeName){if(typeof value!="number"&&typeof value!="boolean"){throw new TypeError("Cannot convert \""+embindRepr(value)+"\" to "+toTypeName);}if(value<minRange||value>maxRange){throw new TypeError("Passing a number \""+embindRepr(value)+"\" from JS side to C/C++ side to an argument of type \""+name+"\", which is outside the valid range ["+minRange+", "+maxRange+"]!");}};var toWireType;if(isUnsignedType){toWireType=function toWireType(destructors,value){checkAssertions(value,this.name);return value>>>0;};}else{toWireType=function toWireType(destructors,value){checkAssertions(value,this.name);return value;};}registerType(primitiveType,{name:name,"fromWireType":fromWireType,"toWireType":toWireType,"argPackAdvance":8,"readValueFromPointer":integerReadValueFromPointer(name,shift,minRange!==0),destructorFunction:null});}function __embind_register_memory_view(rawType,dataTypeIndex,name){var typeMapping=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];var TA=typeMapping[dataTypeIndex];function decodeMemoryView(handle){handle=handle>>2;var heap=HEAPU32;var size=heap[handle];var data=heap[handle+1];return new TA(heap.buffer,data,size);}name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":decodeMemoryView,"argPackAdvance":8,"readValueFromPointer":decodeMemoryView},{ignoreDuplicateRegistrations:true});}var stringToUTF8Array=function stringToUTF8Array(str,heap,outIdx,maxBytesToWrite){assert(typeof str==="string");if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023;}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u;}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63;}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63;}else{if(outIdx+3>=endIdx)break;if(u>1114111)warnOnce("Invalid Unicode code point "+ptrToString(u)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF).");heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63;}}heap[outIdx]=0;return outIdx-startIdx;};var stringToUTF8=function stringToUTF8(str,outPtr,maxBytesToWrite){assert(typeof maxBytesToWrite=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite);};var lengthBytesUTF8=function lengthBytesUTF8(str){var len=0;for(var i=0;i<str.length;++i){var c=str.charCodeAt(i);if(c<=127){len++;}else if(c<=2047){len+=2;}else if(c>=55296&&c<=57343){len+=4;++i;}else{len+=3;}}return len;};function __embind_register_std_string(rawType,name){name=readLatin1String(name);var stdStringIsUTF8=name==="std::string";registerType(rawType,{name:name,"fromWireType":function fromWireType(value){var length=HEAPU32[value>>2];var payload=value+4;var str;if(stdStringIsUTF8){var decodeStartPtr=payload;for(var i=0;i<=length;++i){var currentBytePtr=payload+i;if(i==length||HEAPU8[currentBytePtr]==0){var maxRead=currentBytePtr-decodeStartPtr;var stringSegment=UTF8ToString(decodeStartPtr,maxRead);if(str===undefined){str=stringSegment;}else{str+=String.fromCharCode(0);str+=stringSegment;}decodeStartPtr=currentBytePtr+1;}}}else{var a=new Array(length);for(var i=0;i<length;++i){a[i]=String.fromCharCode(HEAPU8[payload+i]);}str=a.join("");}_free(value);return str;},"toWireType":function toWireType(destructors,value){if(value instanceof ArrayBuffer){value=new Uint8Array(value);}var length;var valueIsOfTypeString=typeof value=="string";if(!(valueIsOfTypeString||value instanceof Uint8Array||value instanceof Uint8ClampedArray||value instanceof Int8Array)){throwBindingError("Cannot pass non-string to std::string");}if(stdStringIsUTF8&&valueIsOfTypeString){length=lengthBytesUTF8(value);}else{length=value.length;}var base=_malloc(4+length+1);var ptr=base+4;HEAPU32[base>>2]=length;if(stdStringIsUTF8&&valueIsOfTypeString){stringToUTF8(value,ptr,length+1);}else{if(valueIsOfTypeString){for(var i=0;i<length;++i){var charCode=value.charCodeAt(i);if(charCode>255){_free(ptr);throwBindingError("String has UTF-16 code units that do not fit in 8 bits");}HEAPU8[ptr+i]=charCode;}}else{for(var i=0;i<length;++i){HEAPU8[ptr+i]=value[i];}}}if(destructors!==null){destructors.push(_free,base);}return base;},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function destructorFunction(ptr){_free(ptr);}});}var UTF16Decoder=typeof TextDecoder!="undefined"?new TextDecoder("utf-16le"):undefined;var UTF16ToString=function UTF16ToString(ptr,maxBytesToRead){assert(ptr%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");var endPtr=ptr;var idx=endPtr>>1;var maxIdx=idx+maxBytesToRead/2;while(!(idx>=maxIdx)&&HEAPU16[idx]){++idx;}endPtr=idx<<1;if(endPtr-ptr>32&&UTF16Decoder)return UTF16Decoder.decode(HEAPU8.subarray(ptr,endPtr));var str="";for(var i=0;!(i>=maxBytesToRead/2);++i){var codeUnit=HEAP16[ptr+i*2>>1];if(codeUnit==0)break;str+=String.fromCharCode(codeUnit);}return str;};var stringToUTF16=function stringToUTF16(str,outPtr,maxBytesToWrite){assert(outPtr%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647;}if(maxBytesToWrite<2)return 0;maxBytesToWrite-=2;var startPtr=outPtr;var numCharsToWrite=maxBytesToWrite<str.length*2?maxBytesToWrite/2:str.length;for(var i=0;i<numCharsToWrite;++i){var codeUnit=str.charCodeAt(i);HEAP16[outPtr>>1]=codeUnit;outPtr+=2;}HEAP16[outPtr>>1]=0;return outPtr-startPtr;};var lengthBytesUTF16=function lengthBytesUTF16(str){return str.length*2;};var UTF32ToString=function UTF32ToString(ptr,maxBytesToRead){assert(ptr%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");var i=0;var str="";while(!(i>=maxBytesToRead/4)){var utf32=HEAP32[ptr+i*4>>2];if(utf32==0)break;++i;if(utf32>=65536){var ch=utf32-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023);}else{str+=String.fromCharCode(utf32);}}return str;};var stringToUTF32=function stringToUTF32(str,outPtr,maxBytesToWrite){assert(outPtr%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647;}if(maxBytesToWrite<4)return 0;var startPtr=outPtr;var endPtr=startPtr+maxBytesToWrite-4;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343){var trailSurrogate=str.charCodeAt(++i);codeUnit=65536+((codeUnit&1023)<<10)|trailSurrogate&1023;}HEAP32[outPtr>>2]=codeUnit;outPtr+=4;if(outPtr+4>endPtr)break;}HEAP32[outPtr>>2]=0;return outPtr-startPtr;};var lengthBytesUTF32=function lengthBytesUTF32(str){var len=0;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343)++i;len+=4;}return len;};var __embind_register_std_wstring=function __embind_register_std_wstring(rawType,charSize,name){name=readLatin1String(name);var decodeString,encodeString,getHeap,lengthBytesUTF,shift;if(charSize===2){decodeString=UTF16ToString;encodeString=stringToUTF16;lengthBytesUTF=lengthBytesUTF16;getHeap=function getHeap(){return HEAPU16;};shift=1;}else if(charSize===4){decodeString=UTF32ToString;encodeString=stringToUTF32;lengthBytesUTF=lengthBytesUTF32;getHeap=function getHeap(){return HEAPU32;};shift=2;}registerType(rawType,{name:name,"fromWireType":function fromWireType(value){var length=HEAPU32[value>>2];var HEAP=getHeap();var str;var decodeStartPtr=value+4;for(var i=0;i<=length;++i){var currentBytePtr=value+4+i*charSize;if(i==length||HEAP[currentBytePtr>>shift]==0){var maxReadBytes=currentBytePtr-decodeStartPtr;var stringSegment=decodeString(decodeStartPtr,maxReadBytes);if(str===undefined){str=stringSegment;}else{str+=String.fromCharCode(0);str+=stringSegment;}decodeStartPtr=currentBytePtr+charSize;}}_free(value);return str;},"toWireType":function toWireType(destructors,value){if(!(typeof value=="string")){throwBindingError("Cannot pass non-string to C++ string type "+name);}var length=lengthBytesUTF(value);var ptr=_malloc(4+length+charSize);HEAPU32[ptr>>2]=length>>shift;encodeString(value,ptr+4,length+charSize);if(destructors!==null){destructors.push(_free,ptr);}return ptr;},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function destructorFunction(ptr){_free(ptr);}});};function __embind_register_void(rawType,name){name=readLatin1String(name);registerType(rawType,{isVoid:true,name:name,"argPackAdvance":0,"fromWireType":function fromWireType(){return undefined;},"toWireType":function toWireType(destructors,o){return undefined;}});}var _abort=function _abort(){abort("native code called abort()");};var readEmAsmArgsArray=[];var readEmAsmArgs=function readEmAsmArgs(sigPtr,buf){assert(Array.isArray(readEmAsmArgsArray));assert(buf%16==0);readEmAsmArgsArray.length=0;var ch;buf>>=2;while(ch=HEAPU8[sigPtr++]){var chr=String.fromCharCode(ch);var validChars=["d","f","i"];assert(validChars.includes(chr),"Invalid character "+ch+"(\""+chr+"\") in readEmAsmArgs! Use only ["+validChars+"], and do not specify \"v\" for void return argument.");buf+=ch!=105&buf;readEmAsmArgsArray.push(ch==105?HEAP32[buf]:HEAPF64[buf++>>1]);++buf;}return readEmAsmArgsArray;};var runEmAsmFunction=function runEmAsmFunction(code,sigPtr,argbuf){var args=readEmAsmArgs(sigPtr,argbuf);if(!Object.prototype.hasOwnProperty.call(ASM_CONSTS,code))abort("No EM_ASM constant found at address "+code);return ASM_CONSTS[code].apply(null,args);};var _emscripten_asm_const_int=function _emscripten_asm_const_int(code,sigPtr,argbuf){return runEmAsmFunction(code,sigPtr,argbuf);};var getHeapMax=function getHeapMax(){return 1048576;};var _emscripten_get_heap_max=function _emscripten_get_heap_max(){return getHeapMax();};var growMemory=function growMemory(size){var b=wasmMemory.buffer;var pages=size-b.byteLength+65535>>>16;try{wasmMemory.grow(pages);updateMemoryViews();return 1;}catch(e){err("growMemory: Attempted to grow heap from "+b.byteLength+" bytes to "+size+" bytes, but got error: "+e);}};var _emscripten_resize_heap=function _emscripten_resize_heap(requestedSize){var oldSize=HEAPU8.length;requestedSize>>>=0;assert(requestedSize>oldSize);var maxHeapSize=getHeapMax();if(requestedSize>maxHeapSize){err("Cannot enlarge memory, asked to go up to "+requestedSize+" bytes, but the limit is "+maxHeapSize+" bytes!");return false;}var alignUp=function alignUp(x,multiple){return x+(multiple-x%multiple)%multiple;};for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignUp(Math.max(requestedSize,overGrownHeapSize),65536));var replacement=growMemory(newSize);if(replacement){return true;}}err("Failed to grow the heap from "+oldSize+" bytes to "+newSize+" bytes, not enough memory!");return false;};var SYSCALLS={varargs:undefined,get:function get(){assert(SYSCALLS.varargs!=undefined);SYSCALLS.varargs+=4;var ret=HEAP32[SYSCALLS.varargs-4>>2];return ret;},getStr:function getStr(ptr){var ret=UTF8ToString(ptr);return ret;}};var _fd_close=function _fd_close(fd){abort("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM");};function convertI32PairToI53Checked(lo,hi){assert(lo==lo>>>0||lo==(lo|0));assert(hi===(hi|0));return hi+2097152>>>0<4194305-!!lo?(lo>>>0)+hi*4294967296:NaN;}function _fd_seek(fd,offset_low,offset_high,whence,newOffset){var offset=convertI32PairToI53Checked(offset_low,offset_high);return 70;}var printCharBuffers=[null,[],[]];var printChar=function printChar(stream,curr){var buffer=printCharBuffers[stream];assert(buffer);if(curr===0||curr===10){(stream===1?out:err)(UTF8ArrayToString(buffer,0));buffer.length=0;}else{buffer.push(curr);}};var flush_NO_FILESYSTEM=function flush_NO_FILESYSTEM(){_fflush(0);if(printCharBuffers[1].length)printChar(1,10);if(printCharBuffers[2].length)printChar(2,10);};var _fd_write=function _fd_write(fd,iov,iovcnt,pnum){var num=0;for(var i=0;i<iovcnt;i++){var ptr=HEAPU32[iov>>2];var len=HEAPU32[iov+4>>2];iov+=8;for(var j=0;j<len;j++){printChar(fd,HEAPU8[ptr+j]);}num+=len;}HEAPU32[pnum>>2]=num;return 0;};var getWasmTableEntry=function getWasmTableEntry(funcPtr){return wasmTable.get(funcPtr);};var writeArrayToMemory=function writeArrayToMemory(array,buffer){assert(array.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)");HEAP8.set(array,buffer);};embind_init_charCodes();BindingError=Module["BindingError"]=function(_Error2){"use strict";babelHelpers.inheritsLoose(BindingError,_Error2);function BindingError(message){var _this2;_this2=_Error2.call(this,message)||this;_this2.name="BindingError";return _this2;}return BindingError;}(babelHelpers.wrapNativeSuper(Error));InternalError=Module["InternalError"]=function(_Error3){"use strict";babelHelpers.inheritsLoose(InternalError,_Error3);function InternalError(message){var _this3;_this3=_Error3.call(this,message)||this;_this3.name="InternalError";return _this3;}return InternalError;}(babelHelpers.wrapNativeSuper(Error));handleAllocatorInit();init_emval();function checkIncomingModuleAPI(){ignoredModuleProp("fetchSettings");}var wasmImports={__assert_fail:___assert_fail,__cxa_begin_catch:___cxa_begin_catch,__cxa_find_matching_catch_2:___cxa_find_matching_catch_2,__cxa_find_matching_catch_3:___cxa_find_matching_catch_3,__resumeException:___resumeException,_embind_register_bigint:__embind_register_bigint,_embind_register_bool:__embind_register_bool,_embind_register_emval:__embind_register_emval,_embind_register_float:__embind_register_float,_embind_register_integer:__embind_register_integer,_embind_register_memory_view:__embind_register_memory_view,_embind_register_std_string:__embind_register_std_string,_embind_register_std_wstring:__embind_register_std_wstring,_embind_register_void:__embind_register_void,abort:_abort,emscripten_asm_const_int:_emscripten_asm_const_int,emscripten_get_heap_max:_emscripten_get_heap_max,emscripten_resize_heap:_emscripten_resize_heap,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,invoke_ii:invoke_ii,invoke_iii:invoke_iii,invoke_iiii:invoke_iiii,invoke_v:invoke_v,invoke_vi:invoke_vi,invoke_vii:invoke_vii,invoke_viii:invoke_viii,invoke_viiii:invoke_viiii};var asm=createWasm();var ___wasm_call_ctors=createExportWrapper("__wasm_call_ctors");var _curve_create=Module["_curve_create"]=createExportWrapper("curve_create");var _malloc=Module["_malloc"]=createExportWrapper("malloc");var _curve_free=Module["_curve_free"]=createExportWrapper("curve_free");var _free=Module["_free"]=createExportWrapper("free");var _curve_init_ristretto=Module["_curve_init_ristretto"]=createExportWrapper("curve_init_ristretto");var _get_curve_element_bytes=Module["_get_curve_element_bytes"]=createExportWrapper("get_curve_element_bytes");var _get_curve_scalar_bytes=Module["_get_curve_scalar_bytes"]=createExportWrapper("get_curve_scalar_bytes");var _kdf_create=Module["_kdf_create"]=createExportWrapper("kdf_create");var _kdf_free=Module["_kdf_free"]=createExportWrapper("kdf_free");var _kdf_init_naor_reingold=Module["_kdf_init_naor_reingold"]=createExportWrapper("kdf_init_naor_reingold");var _sodiumInit=Module["_sodiumInit"]=createExportWrapper("sodiumInit");var _voprf_create=Module["_voprf_create"]=createExportWrapper("voprf_create");var _voprf_free=Module["_voprf_free"]=createExportWrapper("voprf_free");var _voprf_init_exp_twohashdh=Module["_voprf_init_exp_twohashdh"]=createExportWrapper("voprf_init_exp_twohashdh");var _blind=Module["_blind"]=createExportWrapper("blind");var _verifiable_unblind=Module["_verifiable_unblind"]=createExportWrapper("verifiable_unblind");var _voprf_client_finalize=Module["_voprf_client_finalize"]=createExportWrapper("voprf_client_finalize");var _voprf_setup=Module["_voprf_setup"]=createExportWrapper("voprf_setup");var _voprf_evaluate=Module["_voprf_evaluate"]=createExportWrapper("voprf_evaluate");var _voprf_server_finalize=Module["_voprf_server_finalize"]=createExportWrapper("voprf_server_finalize");var _get_voprf_final_evaluation_bytes=Module["_get_voprf_final_evaluation_bytes"]=createExportWrapper("get_voprf_final_evaluation_bytes");var ___errno_location=createExportWrapper("__errno_location");var ___getTypeName=createExportWrapper("__getTypeName");var __embind_initialize_bindings=Module["__embind_initialize_bindings"]=createExportWrapper("_embind_initialize_bindings");var _fflush=Module["_fflush"]=createExportWrapper("fflush");var _emscripten_builtin_memalign=createExportWrapper("emscripten_builtin_memalign");var _setThrew=createExportWrapper("setThrew");var setTempRet0=createExportWrapper("setTempRet0");var _emscripten_stack_init2=function _emscripten_stack_init(){return(_emscripten_stack_init2=wasmExports["emscripten_stack_init"])();};var _emscripten_stack_get_free2=function _emscripten_stack_get_free(){return(_emscripten_stack_get_free2=wasmExports["emscripten_stack_get_free"])();};var _emscripten_stack_get_base2=function _emscripten_stack_get_base(){return(_emscripten_stack_get_base2=wasmExports["emscripten_stack_get_base"])();};var _emscripten_stack_get_end2=function _emscripten_stack_get_end(){return(_emscripten_stack_get_end2=wasmExports["emscripten_stack_get_end"])();};var stackSave=createExportWrapper("stackSave");var stackRestore=createExportWrapper("stackRestore");var stackAlloc=createExportWrapper("stackAlloc");var _emscripten_stack_get_current2=function _emscripten_stack_get_current(){return(_emscripten_stack_get_current2=wasmExports["emscripten_stack_get_current"])();};var ___cxa_free_exception=createExportWrapper("__cxa_free_exception");var ___cxa_increment_exception_refcount=createExportWrapper("__cxa_increment_exception_refcount");var ___cxa_decrement_exception_refcount=createExportWrapper("__cxa_decrement_exception_refcount");var ___get_exception_message=Module["___get_exception_message"]=createExportWrapper("__get_exception_message");var ___cxa_can_catch=createExportWrapper("__cxa_can_catch");var ___cxa_is_pointer_type=createExportWrapper("__cxa_is_pointer_type");var dynCall_iiiji=Module["dynCall_iiiji"]=createExportWrapper("dynCall_iiiji");var dynCall_iiij=Module["dynCall_iiij"]=createExportWrapper("dynCall_iiij");var dynCall_iijii=Module["dynCall_iijii"]=createExportWrapper("dynCall_iijii");var dynCall_iiijiji=Module["dynCall_iiijiji"]=createExportWrapper("dynCall_iiijiji");var dynCall_iiijiii=Module["dynCall_iiijiii"]=createExportWrapper("dynCall_iiijiii");var dynCall_jiji=Module["dynCall_jiji"]=createExportWrapper("dynCall_jiji");function invoke_v(index){var sp=stackSave();try{getWasmTableEntry(index)();}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_vii(index,a1,a2){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_viiii(index,a1,a2,a3,a4){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2,a3,a4);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_ii(index,a1){var sp=stackSave();try{return getWasmTableEntry(index)(a1);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_iii(index,a1,a2){var sp=stackSave();try{return getWasmTableEntry(index)(a1,a2);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_viii(index,a1,a2,a3){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2,a3);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_vi(index,a1){var sp=stackSave();try{getWasmTableEntry(index)(a1);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_iiii(index,a1,a2,a3){var sp=stackSave();try{return getWasmTableEntry(index)(a1,a2,a3);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}Module["wasmMemory"]=wasmMemory;Module["getValue"]=getValue;Module["stringToUTF8"]=stringToUTF8;Module["lengthBytesUTF8"]=lengthBytesUTF8;Module["writeArrayToMemory"]=writeArrayToMemory;var missingLibrarySymbols=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","zeroMemory","exitJS","isLeapYear","ydayFromDate","arraySum","addDays","setErrNo","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","getHostByName","initRandomFill","randomFill","getCallstack","emscriptenLog","convertPCtoSourceLocation","runMainThreadEmAsm","jstoi_q","jstoi_s","getExecutableName","listenOnce","autoResumeAudioContext","dynCallLegacy","getDynCaller","dynCall","setWasmTableEntry","handleException","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","safeSetTimeout","asmjsMangle","asyncLoad","alignMemory","mmapAlloc","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","getCFunc","ccall","cwrap","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","stringToNewUTF8","stringToUTF8OnStack","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","findCanvasEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","demangle","demangleAll","jsStackTrace","stackTrace","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","idsToPromises","makePromiseCallback","setMainLoop","getSocketFromFD","getSocketAddress","FS_createPreloadedFile","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar","_setNetworkCallback","heapObjectForWebGLType","heapAccessShiftForWebGLHeap","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","__glGenObject","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","SDL_unicode","SDL_ttfContext","SDL_audio","GLFW_Window","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","getTypeName","heap32VectorToArray","requireRegisteredType","init_embind","throwUnboundTypeError","ensureOverloadTable","exposePublicSymbol","replacePublicSymbol","extendError","createNamedFunction","getBasestPointer","registerInheritedInstance","unregisterInheritedInstance","getInheritedInstance","getInheritedInstanceCount","getLiveInheritedInstances","enumReadValueFromPointer","runDestructors","craftInvokerFunction","embind__requireFunction","genericPointerToWireType","constNoSmartPtrRawPointerToWireType","nonConstNoSmartPtrRawPointerToWireType","init_RegisteredPointer","RegisteredPointer","RegisteredPointer_getPointee","RegisteredPointer_destructor","RegisteredPointer_deleteObject","RegisteredPointer_fromWireType","runDestructor","releaseClassHandle","detachFinalizer","attachFinalizer","makeClassHandle","init_ClassHandle","ClassHandle","ClassHandle_isAliasOf","throwInstanceAlreadyDeleted","ClassHandle_clone","ClassHandle_delete","ClassHandle_isDeleted","ClassHandle_deleteLater","flushPendingDeletes","setDelayFunction","RegisteredClass","shallowCopyInternalPointer","downcastPointer","upcastPointer","validateThis","char_0","char_9","makeLegalFunctionName","getStringOrSymbol","craftEmvalAllocator","emval_get_global","emval_lookupTypes","emval_allocateDestructors","emval_addMethodCaller"];missingLibrarySymbols.forEach(missingLibrarySymbol);var unexportedSymbols=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","FS_createFolder","FS_createPath","FS_createDataFile","FS_createLazyFile","FS_createLink","FS_createDevice","FS_unlink","out","err","callMain","abort","keepRuntimeAlive","wasmTable","wasmExports","stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","ptrToString","getHeapMax","growMemory","ENV","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","ERRNO_CODES","ERRNO_MESSAGES","DNS","Protocols","Sockets","timers","warnOnce","UNWIND_CACHE","readEmAsmArgsArray","readEmAsmArgs","runEmAsmFunction","getWasmTableEntry","handleAllocatorInit","HandleAllocator","freeTableIndexes","functionsInTableMap","setValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","UTF16Decoder","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","JSEvents","specialHTMLTargets","currentFullscreenStrategy","restoreOldWindowedStyle","ExitStatus","flush_NO_FILESYSTEM","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","findMatchingCatch","getExceptionMessageCommon","incrementExceptionRefcount","decrementExceptionRefcount","getExceptionMessage","Browser","wget","SYSCALLS","preloadPlugins","FS_stdin_getChar_buffer","FS","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","emscripten_webgl_power_preferences","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","GLFW","allocateUTF8","allocateUTF8OnStack","InternalError","BindingError","throwInternalError","throwBindingError","registeredTypes","awaitingDependencies","typeDependencies","tupleRegistrations","structRegistrations","sharedRegisterType","whenDependentTypesAreResolved","embind_charCodes","embind_init_charCodes","readLatin1String","UnboundTypeError","PureVirtualError","embindRepr","registeredInstances","registeredPointers","registerType","getShiftFromSize","integerReadValueFromPointer","floatReadValueFromPointer","simpleReadValueFromPointer","finalizationRegistry","detachFinalizer_deps","deletionQueue","delayFunction","emval_handles","emval_symbols","init_emval","count_emval_handles","Emval","emval_newers","emval_methodCallers","emval_registeredMethods"];unexportedSymbols.forEach(unexportedRuntimeSymbol);var calledRun;dependenciesFulfilled=function runCaller(){if(!calledRun)run();if(!calledRun)dependenciesFulfilled=runCaller;};function stackCheckInit(){_emscripten_stack_init2();writeStackCookie();}function run(){if(runDependencies>0){return;}stackCheckInit();preRun();if(runDependencies>0){return;}function doRun(){if(calledRun)return;calledRun=true;Module["calledRun"]=true;if(ABORT)return;initRuntime();readyPromiseResolve(Module);if(Module["onRuntimeInitialized"])Module["onRuntimeInitialized"]();assert(!Module["_main"],'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]');postRun();}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout(function(){setTimeout(function(){Module["setStatus"]("");},1);doRun();},1);}else{doRun();}checkStackCookie();}if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()();}}run();


return moduleArg.ready;
});


}();
if(typeof exports==='object'&&typeof module==='object')
module.exports=Module;else
if(typeof define==='function'&&define['amd'])
define([],function(){return Module;});}),null);/*FB_PKG_DELIM*/
__d("LSClientDependencies",[],(function(a,b,c,d,e,f){}),null);
__d("LSDynamicDependencies",["Bootloader","LSDynamicDependenciesEventEmitter","ODS","Promise","SiteData","asyncToGeneratorRuntime","clearTimeout","cr:19620","err","justknobx","nullthrows","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=babelHelpers["extends"]({},b("cr:19620"));function a(a){Object.assign(j,a)}var k={_tombstone:!0};function e(a){var e=new Map();for(a of a){var f=a.name;f!=null&&!n(f)&&e.set(f,c("nullthrows")(a.value))}if(e.size===0)return(i||(i=b("Promise"))).resolve();var g=new(i||(i=b("Promise")))(function(a){var f={},i=[],k=function(c){var a=c[0];c=c[1];c=c==null?void 0:c.__dr;f[c]={be:1,r:[]};i.push(c);(h||(h=d("ODS"))).bumpEntityKey(3185,"ls_download_dependency.relay",c);j[a]={load:function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield g;return j[a]});function d(){return c.apply(this,arguments)}return d}()}};for(var m of e)k(m);c("Bootloader").handlePayload({compMap:f,consistency:{rev:c("SiteData").client_revision}});l(c("Bootloader"),i,function(b){Array.from(e.entries()).forEach(function(a,c){var d=a[0];a[1];j[d]=b[c]}),a()})});return g}function l(a,b,c){return a.loadModules.call(a,b,function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return c(b)})}function m(a){return a.charAt(0).toUpperCase()+a.slice(1)}function n(a){return a in j&&j[a]!==k}var o=c("justknobx")._("2800");function f(a,e,f){var g=new Map();for(a of(a=a)!=null?a:[]){n(a)||g.set(a,"LS"+m(a))}for(e of(a=e)!=null?a:[]){!n(e+".bs")?g.set(e+".bs","LS"+m(e)+".nop"):e+".nop"in j||g.set(e+".nop","LS"+m(e)+".nop")}for(e of(a=f)!=null?a:[]){e in j||g.set(e,"LS"+m(e))}if(g.size===0)return(i||(i=b("Promise"))).resolve();var p=new(i||(i=b("Promise")))(function(a,e){var f={},i=[],m=function(a){var c=a[0];a=a[1];(h||(h=d("ODS"))).bumpEntityKey(3185,"ls_download_dependency.bootloader",a);d("LSDynamicDependenciesEventEmitter").emitLoadModuleEvent(a);f[a]={be:1,r:[]};i.push(a);j[c]={load:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{yield p}catch(a){j[c]=k;throw a}return j[c]});function d(){return a.apply(this,arguments)}return d}()}};for(var n of g)m(n);c("Bootloader").handlePayload({compMap:f,consistency:{rev:c("SiteData").client_revision}});var q=l(c("Bootloader"),i,function(b){c("clearTimeout")(r),Array.from(g.entries()).forEach(function(a,c){var d=a[0];a[1];j[d]=b[c]}),a()}),r=c("setTimeout")(function(){q.remove(),e(c("err")("Dynamic sproc loading timeout (%s ms); was loading: %s",o,Array.from(g.keys())))},o)});return p}g.cachedModules=j;g.addToCachedModules=a;g.TOMBSTONE=k;g.downloadRelayDependencies=e;g.downloadBootloaderDependencies=f}),98);
__d("XPlatReactCrypto",["err"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h=self.crypto)==null?void 0:h.subtle;function a(a){var b;if(typeof ((b=self.crypto)==null?void 0:b.getRandomValues)!=="function")throw c("err")("crypto.getRandomValues: Not implemented");self.crypto.getRandomValues(a);return a}function b(){var a;if(typeof ((a=self.crypto)==null?void 0:a.randomUUID)!=="function")return null;a=self.crypto.randomUUID();return typeof a==="string"?a:null}function d(a,b,d,e,f){if(i==null)throw c("err")("crypto.subtle.importKey: Not implemented");return i.importKey(a,b,d,e,f)}function e(a,b){if(i==null)throw c("err")("crypto.subtle.exportKey: Not implemented");return i.exportKey(a,b)}function f(a,b,d){if(i==null)throw c("err")("crypto.subtle.generateKey: Not implemented");return i.generateKey(a,b,d)}function j(a,b,d){if(i==null)throw c("err")("crypto.subtle.encrypt: Not implemented");return i.encrypt(a,b,d)}function k(a,b,d){if(i==null)throw c("err")("crypto.subtle.decrypt: Not implemented");return i.decrypt(a,b,d)}function l(a,b,d){if(i==null)throw c("err")("crypto.subtle.sign: Not implemented");return i.sign(a,b,d)}function m(a,b){if(i==null)throw c("err")("crypto.subtle.digest: Not implemented");return i.digest(a,b)}function n(a,b,d){if(i==null)throw c("err")("crypto.subtle.deriveBits: Not implemented");return i.deriveBits(a,b,d)}function o(a,b,d,e,f){if(i==null)throw c("err")("crypto.subtle.deriveKey: Not implemented");return i.deriveKey(a,b,d,e,f)}g.getRandomValues=a;g.randomUUID=b;g.subtleImportKey=d;g.subtleExportKey=e;g.subtleGenerateKey=f;g.subtleEncrypt=j;g.subtleDecrypt=k;g.subtleSign=l;g.subtleDigest=m;g.subtleDeriveBits=n;g.subtleDeriveKey=o}),98);
__d("LSInt64Lite",["FBLogger","I64","XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";var h;a={add:(h||(h=d("I64"))).add,and_:h.and_,asr_:h.asr_,cast:function(a){return(h||(h=d("I64"))).mk(a[1],a[0])},div:h.div,eq:function(a,b){return a==null&&b==null||a!=null&&b!=null&&(h||(h=d("I64"))).equal(a,b)},from_string:function(a){try{return(h||(h=d("I64"))).of_string(a)}catch(b){throw c("FBLogger")("messenger_web").mustfixThrow('Unable to cast "%s" to int64',a)}},ge:h.ge,gt:h.gt,le:h.le,lsl_:h.lsl_,lsr_:h.lsr_,lt:h.lt,max:h.max,min:h.min,mod_:h.mod_,mul:h.mul,neq:function(a,b){return a==null&&b!=null||a!=null&&b==null||a!=null&&b!=null&&!(h||(h=d("I64"))).equal(a,b)},of_float:h.of_float,of_int32:h.of_int32,or_:h.or_,random:function(){var a=Array.from(d("XPlatReactCrypto").getRandomValues(new Uint32Array(2)));a[0]>>>=1;return(h||(h=d("I64"))).add(h.lsl_(h.of_float(a[0]),32),h.of_float(a[1]))},sub:h.sub,to_float:h.to_float,to_int32:h.to_int32,to_string:function(a){return a==null?a:(h||(h=d("I64"))).to_string(a)},xor:h.xor};g["default"]=a}),98);
__d("LSMaybeSyncIteration",["LSSynchronousPromise","isPromise"],(function(a,b,c,d,e,f,g){"use strict";var h,i={__val__:"__stop_iteration__"};function a(a){return{__val__:"__next_value__",next:a}}function j(a){return a!=null&&typeof a==="object"&&a.__val__==="__next_value__"}function k(a,b,e){var f=l(a,e);while(!(h||(h=c("isPromise")))(f)){if(f.done)return d("LSSynchronousPromise").makeSynchronousPromise(f);e=d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(b(f));if(!(h||(h=c("isPromise")))(e)){if(e===i)return d("LSSynchronousPromise").makeSynchronousPromise(f);var g=j(e)?e.next:void 0;f=l(a,g)}else return e.then(function(c){if(c===i)return f;c=j(c)?c.next:void 0;return k(a,b,c)})}var n=m(b);return f.then(function(c){return c.done?c:n(c).then(function(d){if(d===i)return c;d=j(d)?d.next:void 0;return k(a,b,d)})})}function l(a,b){a=a.next(b);return!(h||(h=c("isPromise")))(a)?a:d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a)}function m(a){return function(b){b=a(b);return d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(b)}}g.STOP_ITERATION=i;g.wrapNextValue=a;g.iteratorLoop=k}),98);
__d("LSIterationOperations",["I64","LSDict","LSMaybeSyncIteration","LSSynchronousPromise","ReStoreKeyComparer"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){var c;return c={},c[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return j(a,b)},c.next=function(){var c={done:!0},e=function(a){return d("LSSynchronousPromise").wrapInMaybeSyncPromiseIfNotPromise(b(a.value.item)).then(function(b){if(b){c=a;return d("LSMaybeSyncIteration").STOP_ITERATION}})};return d("LSMaybeSyncIteration").iteratorLoop(a,e).then(function(){return c})},c}function k(a,b,c){var e,f=0;return e={},e[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return k(a,b,c)},e.next=function(){if(f>=c)return d("LSSynchronousPromise").maybeMakeSynchronousPromise({done:!0});var e={done:!0},g=function(a){if(f++<b)return;e=a;return d("LSMaybeSyncIteration").STOP_ITERATION};return d("LSMaybeSyncIteration").iteratorLoop(a,g).then(function(){return e})},e}function a(a,b){return l(a).then(function(a){return a.reduce(function(a,c){return a.then(function(){return b(c)})},d("LSSynchronousPromise").maybeMakeSynchronousPromise(void 0))})}function l(a){var b=[],c=function(a){b.push(a.value)};return d("LSMaybeSyncIteration").iteratorLoop(a,c).then(function(){return b})}function m(a,b,c){var e;c===void 0&&(c=[]);var f={ASC:1,DESC:-1},g=function(a,c){a=a.item;c=c.item;for(var e=0;e<b.length;e++){var g=b[e];g=g[0];var i=a[g];g=c[g];var j;i==null&&g==null?j=0:i==null&&g!=null?j=-1:i!=null&&g==null?j=1:j=(h||(h=d("ReStoreKeyComparer"))).compareValue(i,g);if(j===0)continue;return j*f[b[e][1]]}return 0},i,j=[],k=[],l=function(a){var b=[];for(var d=c.length-1;d>=0;d--)b.push(a[c[d]]);return b},n=function(){k=j,k.sort(g),j=[]};return e={},e[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return m(a,b,c)},e.next=function(){if(k.length)return d("LSSynchronousPromise").maybeMakeSynchronousPromise({done:!1,value:k.shift()});var b=function(a){var b=l(a.value.item);if(i!=null&&(h||(h=d("ReStoreKeyComparer"))).compareKey(i,b)!==0){n();j.push(a.value);i=b;return d("LSMaybeSyncIteration").STOP_ITERATION}i=b;j.push(a.value)};return d("LSMaybeSyncIteration").iteratorLoop(a,b).then(function(){!k.length&&j.length&&n();if(k.length)return{done:!1,value:k.shift()};else return{done:!0}})},e}function b(a){var b=0,c=function(){b++};return d("LSMaybeSyncIteration").iteratorLoop(a,c).then(function(){return(i||(i=d("I64"))).of_int32(b)})}function e(a,b){return{forEach:function(e){return l(a).then(function(a){a=a.reduce(function(a,c){c=c.item[b];var d=(a.get(c)||0)+1;return a.set(c,d)},new(c("LSDict"))());var f=d("LSSynchronousPromise").maybeMakeSynchronousPromise(void 0),g=function(a){var c=a[0],g=a[1];f=f.then(function(){var a;return e((a={},a[b]=c,a.group_count=(i||(i=d("I64"))).of_int32(g),a))})};for(a of a.entries())g(a);return f})}}}g.filter=j;g.slice=k;g.forEach=a;g.toArray=l;g.sortBy=m;g.count=b;g.groupBy=e}),98);
__d("LSJson",["FBLogger","I64","LSDict","LSVec"],(function(a,b,c,d,e,f,g){"use strict";var h,i=512,j={useLSTypes:!1};function a(a,b){b=b===void 0?j:b;var e=b.useLSTypes;function f(a,b){return function(){return function(c){c=a()(c);if(c!=null){var d=c[0];c=c[1];return[b(d),c]}}}}function g(a){return JSON.parse('"'+a+'"')}function i(a){return function(){return function(b){var c=g(a);if(b.startsWith(c))return[c,b.substr(c.length)];else return void 0}}}function k(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(){return function(a){var c=[];a=a;for(var d of b){var e=d()(a);if(e==null)return void 0;a=e[1];c.push(e[0])}return[c,a]}}}function l(a){return function(){return function(b){var c=a.exec(b);return c!=null?[c,b.substr(c[0].length)]:void 0}}}function m(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(){return function(a){for(var c of b){var d=c()(a);if(d!=null)return d}}}}function n(a){return function(){return function(b){var c=a()(b);return c!=null?c:[void 0,b]}}}function o(a){return function(){return function(b){var c=a()(b),d=[];b=b;while(c!=null)b=c[1],d.push(c[0]),c=a()(b);return[d,b]}}}b=l(/^[\n\r\s]*/);var p=f(l(/^\"((?:[^\"\\]|\\.)*)\"/),function(a){a=a[1];return g(a)}),q=f(l(/^-?\d+(?:(?:\.\d+)?[eE][-\+]?\d+|\.\d+)/),function(a){a=a[0];return Number(a)});l=f(l(/^-?\d+/),function(a){a=a[0];return(h||(h=d("I64"))).of_string(a)});var r=f(i("null"),function(a){return null}),s=f(i("true"),function(a){return!0}),t=f(i("false"),function(a){return!1}),u=f(k(b,p,b,i(":"),function(){return v()}),function(a){var b=a[1];a=a[4];return[b,a]});u=f(k(u,o(k(b,i(","),u))),function(a){var b=a[0];a=a[1];return[b].concat(a.map(function(a){a=a[2];return a}))});u=f(k(i("{"),n(u),b,i("}")),function(a){a=a[1];a=a===void 0?[]:a;return e?new(c("LSDict"))(a):Object.fromEntries(a)});o=f(k(function(){return v()},o(k(b,i(","),function(){return v()}))),function(a){var b=a[0];a=a[1];return[b].concat(a.map(function(a){a=a[2];return a}))});n=f(k(i("["),b,n(o),b,i("]")),function(a){a=a[2];a=a===void 0?[]:a;return e?c("LSVec").ofArray(a):a});var v=f(k(b,m(u,p,q,l,n,r,s,t),b),function(a){a=a[1];return a});o=v()(a);if(o==null)throw c("FBLogger")("messenger_web").mustfixThrow("error parsing string");if(o[1]!=="")throw c("FBLogger")("messenger_web").mustfixThrow("unexpected %s",o[1]);return o[0]}function k(a,b,e){b===void 0&&(b=0);e===void 0&&(e="");if(b>i)throw c("FBLogger")("messenger_web").mustfixThrow("recursion limit exceeded");if(typeof a==="string"||typeof a==="number")return JSON.stringify(a);else if(typeof a==="boolean")return a?"1":"0";else if(a==null)return"null";else if(typeof a==="object")if(Array.isArray(a)){if(a.tag==="ls-array")return"["+a.map(function(a,c){return k(a,b+1,e+"/"+c.toString())}).join(",")+"]";a._tag!=="i64"&&c("FBLogger")("messenger_web").warn("LSJson payload contains untagged i64: %s",e);return(h||(h=d("I64"))).to_string(a)}else if(a instanceof c("LSDict"))return"{"+Array.from(a.entries()).map(function(a){var d=a[0];a=a[1];if(typeof d==="string")return JSON.stringify(d)+":"+k(a,b+1,e+"/"+d);else throw c("FBLogger")("messenger_web").mustfixThrow("key must be a string")}).join(",")+"}";throw c("FBLogger")("messenger_web").mustfixThrow("type not supported: %s, path: %s",a===null?"null":typeof a,e)}g.parse=a;g.stringify=k}),98);
__d("LSPendingTasksPluginType",[],(function(a,b,c,d,e,f){a=Object.freeze({LS_BROKER:0,PAYMENTS:1,EPHEMERAL_MESSAGING:2,CARRIER_MESSAGING:3,BUG_REPORTER:4,MESSAGE_DENORMALIZATIONS:5,SEEN_HEADS:6,MEDIA_UPLOAD:7,SECURE_THREAD_SEEN_HEADS:8,WHATSAPP_THREAD:9,SECURE_THREAD_OVER_WA_MESSAGE_SEND:10,CONTACT_PRUNING:11,MEDIA_MANAGER:12,SECURE_THREAD_OVER_WA_ENCRYPTION:13,STORY_POST:14,CO_PRESENCE_HEARTBEAT:16,SECURE_THREAD_OVER_WA_GROUP_MANAGEMENT:17,ENCRYPTED_BACKUPS:23,ANONYMOUS_REQUEST:25,MESSAGE_ACTIONS:28,MESSAGE_UNSEND_ATTACHMENT_CLEANUP:39,IGD_INSTAMADILLO:40,PENDING_MESSAGE_SEND:46});f["default"]=a}),66);
__d("isNativeTask",["I64","LSPendingTasksPluginType"],(function(a,b,c,d,e,f,g){"use strict";var h,i="4",j="16",k=new Set([c("LSPendingTasksPluginType").IGD_INSTAMADILLO]);function a(a){var b=k.has((h||(h=d("I64"))).to_float(a.pluginType));a=a.context===j||a.context===i;return b||a}g["default"]=a}),98);
__d("LSIterationHelpers",["FBLogger","LSMaybeSyncIteration","LSSynchronousPromise","ReStoreKeyComparer","ReStoreVaulting","gkx","isNativeTask"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Set(["messages","attachments","reactions"]);function j(a){return i.has(a)}function k(a,b,d){return a&&b.name==="pending_tasks"&&d!=null&&c("isNativeTask")(d)}function l(a){for(var b of Object.keys(a))a[b]===void 0&&delete a[b];return a}function m(a,b,c){c===void 0&&(c="asc");var e=a.entries(new WeakMap(),c);function f(){var a;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=f,a.next=function(){var a={done:!0},f=0,g="start",i=[],j=function(e){var j=function(){var a=f,j=b[a]||{},k=j.end;j=j.start;var l=e.value[0];if(j&&g==="start"){var m=(h||(h=d("ReStoreKeyComparer"))).compareValue(l[a],j[0]),n=m*(c==="asc"?1:-1)<j[1];if(n){g="start_verify";i=l.slice(0,a);if(a===l.length-1&&m===0)return{v:void 0};else{n=[].concat(i,[j[0]],j[1]&&c==="asc"||!j[1]&&c==="desc"?[(h||(h=d("ReStoreKeyComparer"))).MAX_KEY]:[]);return{v:d("LSMaybeSyncIteration").wrapNextValue(n)}}}else g="check_end"}if(j&&g==="start_verify"&&!i.every(function(a,b){return(h||(h=d("ReStoreKeyComparer"))).compareValue(a,l[b])===0})){f=0;g="start";return{v:void 0}}if(k&&(h||(h=d("ReStoreKeyComparer"))).compareValue(k[0],l[a])*(c==="asc"?1:-1)<k[1]){f=0;g="start";return{v:d("LSMaybeSyncIteration").wrapNextValue([].concat(l.slice(0,a),c==="asc"?[(h||(h=d("ReStoreKeyComparer"))).MAX_KEY]:[]))}}f++;g="start"};while(f<b.length){var k=j();if(typeof k==="object")return k.v}a=e;return d("LSMaybeSyncIteration").STOP_ITERATION};return d("LSMaybeSyncIteration").iteratorLoop(e,j).then(function(){return a})},a}return f()}function n(a,b,c){c===void 0&&(c="asc");var e=a.entries(new WeakMap(),c);function f(){var a;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=f,a.next=async function(){var a=await e.next();outer:while(!a.done){var f=async function(f){var g=b[f]||{},i=g.end;g=g.start;var j=a.value[0],k=j.slice(0,f);if(g){var l=(h||(h=d("ReStoreKeyComparer"))).compareValue(j[f],g[0]);if(l*(c==="asc"?1:-1)<g[1]){if(f===j.length-1&&l===0)a=await e.next();else{l=[].concat(k,[g[0]],g[1]&&c==="asc"||!g[1]&&c==="desc"?[(h||(h=d("ReStoreKeyComparer"))).MAX_KEY]:[]);a=await e.next(l)}if(a.done)return{v:{done:!0}};j=a.value[0];if(!k.every(function(b,a){return(h||(h=d("ReStoreKeyComparer"))).compareValue(b,j[a])===0}))return"continue|outer"}}if(i&&(h||(h=d("ReStoreKeyComparer"))).compareValue(i[0],j[f])*(c==="asc"?1:-1)<i[1]){a=await e.next([].concat(j.slice(0,f),c==="asc"?[(h||(h=d("ReStoreKeyComparer"))).MAX_KEY]:[]));return"continue|outer"}};for(var g=0;g<b.length;g++){var i=await f(g);switch(i){case"continue|outer":continue outer;default:if(typeof i==="object")return i.v}}break}return a},a}return f()}function o(a,b,d,e,f){return{delete:function(){return d.delete.apply(d,a)},item:b,update:function(g){var h=f&&j(e.name)?{transportKey:"FBBroker"}:{};g=babelHelpers.extends({},b,g,h);if(k(f,e,g))throw c("FBLogger")("messenger_web").mustfixThrow("cannot insert native task in dynamic mode");return d.upsert(a,l(g))}}}function p(a,b){var c;return c={},c[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return p(a,b)},c.next=function(){var c={done:!0},e=function(a){c=a;return d("LSMaybeSyncIteration").STOP_ITERATION};return d("LSMaybeSyncIteration").iteratorLoop(a,e).then(function(){if(c.done)return d("LSMaybeSyncIteration").iteratorLoop(b,e)}).then(function(){return c})},c}function q(a,b,c){var e,f=[{done:!0},{done:!0}],g=function(a){var b=f[a];f[a]={done:!0};return b};return e={},e[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return q(a,b,c)},e.next=function(){var e=function(a){return function(b){a==="a"?f[0]=b:f[1]=b;return d("LSMaybeSyncIteration").STOP_ITERATION}},i=d("LSSynchronousPromise").maybeMakeSynchronousPromise();f[0].done&&(i=i.then(function(){return d("LSMaybeSyncIteration").iteratorLoop(a,e("a"))}));f[1].done&&(i=i.then(function(){return d("LSMaybeSyncIteration").iteratorLoop(b,e("b"))}));return i.then(function(){if(f[0].done&&f[1].done)return{done:!0};if(f[0].done)return g(1);if(f[1].done)return g(0);var a=(h||(h=d("ReStoreKeyComparer"))).compareKey(f[0].value[0],f[1].value[0]);if(a===0)return g(0);return a*(c==="asc"?1:-1)<0?g(0):g(1)})},e}var r=(b={},b[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return r},b.next=function(){return d("LSSynchronousPromise").maybeMakeSynchronousPromise({done:!0})},b);function a(a,b,e,f,g,h,i,l){var s=new Set(),t=a.length>1,u=a.length===1&&a[0][1]==null,v=a.map(function(a){var i=a[0],j=a[1];return i.map(function(a){f.key_lookup===!0&&a.length!==0;f.table_scan===!0&&a.length===0;var i=a.map(function(a){return h(a,b)});a=i.length===(j==null?e.primaryKeyIds:e.indexes[j]).length&&i.every(function(a){var b=a.end;a=a.start;return a&&b&&a[0]===b[0]&&a[1]===0&&b[1]===0});if(a){a=function a(){var b,c=!1;return b={},b[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=a,b.next=function(){var a;if(c)return d("LSSynchronousPromise").maybeMakeSynchronousPromise({done:!0});c=!0;var b=i.map(function(a){a=a.start;return a[0]});return(a=j==null?g:g.index(j)).get.apply(a,b).then(function(a){if(!a)return{done:!0};a=d("ReStoreVaulting").maybeUnvaultDbRow(a,e.name);return{done:!1,value:[b,a]}})},b};return a()}a=c("gkx")("2839")?m:n;return a(j==null?g:g.index(j),i,b)})}).flat().reduce(function(c,d,e){e=e===0&&c==null?r:c;return a.length>1?p(e,d):q(e,d,b)});function w(){var a;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=w,a.next=function(){var a=!0,b,f,h,m,n=function(c){a=!1;var g=c.value;f=g[0];h=g[1];b=u?f:e.primaryKeyIds.map(function(a){return h[a]});if(k(i,e,h)){m=c;a=!0;return}if(j(e.name)&&i&&h!=null&&h.transportKey!=="FBBroker"){m=c;a=!0;return}if(t){g=JSON.stringify(b);if(s.has(g)){a=!0;return}s.add(g)}return d("LSMaybeSyncIteration").STOP_ITERATION};return d("LSMaybeSyncIteration").iteratorLoop(v,n).then(function(){if(m!=null){var d=m.value[1].transportKey;c("FBLogger")("messenger_web").warn('Expected transportKey to equal ("FBBroker") in %s, provided transportKey: %s',l,d)}return a||b==null||h==null?{done:!0}:{done:!1,value:o(b,h,g,e,i)}})},a}return w()}g.isTranportKeyEnforcedTable=j;g.isNativePendingTaskViolation=k;g.stripUndefinedProperties=l;g.unionIterators=p;g.mergeIterators=q;g.fetch=a}),98);
__d("LSRuntimeDb",["FBLogger","LSIterationHelpers"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.name.match(/secure_|inbox(?!_)/i)}function a(a,b,d,e,f,g){return{metadata:d,table:function(j){j=d.tableNames[d.tableIds[j]];if(b===0&&h(j))throw c("FBLogger")("messenger_web").mustfixThrow("cannot access secure table from dynamic mode");return i(a,j,e,f,g)},transactionId:a.__internal__transaction_id}}function i(a,b,e,f,g){var h=a.transactionTable(b.name,f[f.length-1]);return{add:async function(a){d("LSIterationHelpers").isTranportKeyEnforcedTable(b.name)&&g&&(a.transportKey="FBBroker"),await h.add(a)},fetch:function(){for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return d("LSIterationHelpers").fetch(c.length===0?[[[[]],void 0]]:c,"asc",b,e,h,j,g,f.join(", "))},fetchDesc:function(){for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return d("LSIterationHelpers").fetch(c.length===0?[[[[]],void 0]]:c,"desc",b,e,h,j,g,f.join(", "))},peekNextAutoIncrementId:function(){return h.peekNextAutoIncrementId()},put:async function(a){d("LSIterationHelpers").isTranportKeyEnforcedTable(b.name)&&g&&(a.transportKey="FBBroker");if(d("LSIterationHelpers").isNativePendingTaskViolation(g,b,a))throw c("FBLogger")("messenger_web").mustfixThrow("cannot put native task via LS transport");var e=b.primaryKeyIds.map(function(b){if(a[b]!==void 0)return a[b];throw c("FBLogger")("messenger_web").mustfixThrow("primary key must be defined on object")});await h.delete.apply(h,e);await h.add(d("LSIterationHelpers").stripUndefinedProperties(babelHelpers.extends({},a)))}}}function j(a,b){if(typeof a==="object"&&!Array.isArray(a)){var d,e;if(b==="asc"){Object.prototype.hasOwnProperty.call(a,"gt")&&(d=[a.gt,1]);if(Object.prototype.hasOwnProperty.call(a,"gte")){if(d!=null)throw c("FBLogger")("messenger_web").mustfixThrow("Cannot specify both gt and gte");d=[a.gte,0]}Object.prototype.hasOwnProperty.call(a,"lt")&&(e=[a.lt,1]);if(Object.prototype.hasOwnProperty.call(a,"lte")){if(e!=null)throw c("FBLogger")("messenger_web").mustfixThrow("Cannot specify both lt and lte");e=[a.lte,0]}}else{Object.prototype.hasOwnProperty.call(a,"lt")&&(d=[a.lt,1]);if(Object.prototype.hasOwnProperty.call(a,"lte")){if(d!=null)throw c("FBLogger")("messenger_web").mustfixThrow("Cannot specify both lt and lte");d=[a.lte,0]}Object.prototype.hasOwnProperty.call(a,"gt")&&(e=[a.gt,1]);if(Object.prototype.hasOwnProperty.call(a,"gte")){if(e!=null)throw c("FBLogger")("messenger_web").mustfixThrow("Cannot specify both gt and gte");e=[a.gte,0]}}return{end:e,start:d}}return{end:[a,0],start:[a,0]}}g.LSRuntimeDb=a;g.parseConstraint=j}),98);
__d("XPlatReactTextDecoder",[],(function(a,b,c,d,e,f){"use strict";a=self.TextDecoder;f.TextDecoder=a}),66);
__d("LS",["ExecutionEnvironment","FBLogger","I64","LSDict","LSDynamicDependencies","LSInt64Lite","LSIterationOperations","LSJson","LSRuntimeDb","LSSynchronousPromise","LSVec","MessengerLogHistory","MetaConfig","ODS","ReStoreKeyComparer","XPlatReactTextDecoder","XPlatReactTextEncoder","base64Binary","cr:1088","cr:4790","emptyFunction","err","gkx","isPromise","justknobx","qpl","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l;function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);q=function(){return a};return a}var r="LS_WEB",s=d("MessengerLogHistory").getInstance("ls");function t(a){return d("base64Binary").decode(a).buffer}var u={compareTo:function(a,b){a=new Uint8Array(a);b=new Uint8Array(b);var c=Math.min(a.length,b.length);for(var d=0;d<c;d++){var e=a[d]-b[d];if(e!==0)return e}return a.length===b.length?0:a.length-b.length},eq:function(a,b){if(a==null&&b==null)return!0;if(a==null||b==null)return!1;a=new Uint8Array(a);b=new Uint8Array(b);if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0},ge:function(a,b){return u.compareTo(a,b)>=0},gt:function(a,b){return u.compareTo(a,b)>0},le:function(a,b){return u.compareTo(a,b)<=0},lt:function(a,b){return u.compareTo(a,b)<0},neq:function(a,b){return!u.eq(a,b)},of_string:function(a){if(a==null)return void 0;var b=new(d("XPlatReactTextEncoder").TextEncoder)();return b.encode(a).buffer},to_string:function(a){if(a==null)return void 0;var b=new(d("XPlatReactTextDecoder").TextDecoder)();return b.decode(a)}};function v(a){if(a.length!==1)throw c("FBLogger")("messenger_web").mustfixThrow("only literal strings supported");a=a[0];var b=parseInt(a.substr(-8),16);a=parseInt(a.substr(0,a.length-8),16);return(l||(l=d("I64"))).mk((b>>>1)+(a&1)*2147483648^-(b&1),a>>>1^-(b&1))}function w(a){var b="unknown_sproc";a=a.displayName;var c=/\[from (.*)\]/;c=c.exec(a);c!=null&&(b=c[1]);return b}var x=function(){var a=0;function d(d){var e=d.args,f=d.shouldLog;d=d.sprocName;b("cr:1088")==null?void 0:b("cr:1088").logStoredProcedureCall(d,e);if(!f||!b("cr:4790"))return;e=++a;b("cr:4790").markerStart(c("qpl")._(25302991,"143"),e);b("cr:4790").markerAnnotate(c("qpl")._(25302991,"143"),{string:{name:d}},{instanceKey:e});return e}function e(a,d,e){a=a.shouldLog;if(!a||d==null)return;b("cr:4790")==null?void 0:b("cr:4790").markerEnd(c("qpl")._(25302991,"143"),e,d)}function f(a){return c("gkx")("26381")?Math.random()*c("MetaConfig")._("10")<1:!1}return{call:d,logSprocDone:e,shouldLogSproc:f}}(),y="Native operation timeout; transaction blocked",z=30*1e3;function A(a,b,e,f,g,l,B){g===void 0&&(g={});l===void 0&&(l=void 0);var C=[],D=d("LSRuntimeDb").LSRuntimeDb(f,a,b,g,C,B),E=function(b,g){for(var h=arguments.length,i=new Array(h>2?h-2:0),j=2;j<h;j++)i[j-2]=arguments[j];var k;if(typeof g==="string"){k=e[g.toString()];if(k==null)throw c("FBLogger")("messenger_web").mustfixThrow("Attempted to call unimplemented native type op with type: %s and id: %s",b,g);if(k===d("LSDynamicDependencies").TOMBSTONE)throw c("err")("Concurrent native type op loading failed for: %s (retryable)",g);k.load&&(k=k.load())}else k=g;return d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(k).then(function(b){return b.call.apply(b,[f,a].concat(i))})},F=function(b){for(var g=arguments.length,i=new Array(g>1?g-1:0),j=1;j<g;j++)i[j-1]=arguments[j];var l;if(typeof b==="string"){l=e[b+".bs"]||e[b+".nop"];if(l==null)throw c("FBLogger")("messenger_web").mustfixThrow("Attempted to call unimplemented native op with id: %s",b);if(l===d("LSDynamicDependencies").TOMBSTONE)throw c("err")("Concurrent native type op loading failed for: %s (retryable)",b);l.load&&(l=l.load())}else l=b;var m;return d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(l).then(function(b){var e;m=(e=(e=b.__nop_name__)!=null?e:b==null?void 0:b.toString())!=null?e:"<unknown nop name>";e=d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(b.apply(void 0,[f,a].concat(i)));return!(h||(h=c("isPromise")))(e)?e:c("justknobx")._("3895")&&(k||(k=c("ExecutionEnvironment"))).isInBrowser?Promise.race([e,new Promise(function(a,b){return c("setTimeout")(function(){return b(c("err")(y))},z)})]):e}).then(function(a){return a},function(a){c("FBLogger")("messenger_web").catching(a).addMetadata(r,"NATIVE_OP_ID",m).mustfixThrow("Native operation %s failed: was_timeout: %s, is_in_worker: %s",m,(a==null?void 0:a.message)===y,(k||(k=c("ExecutionEnvironment"))).isInWorker)})},G=function(a){return a.slice(1).reduce(function(b,d){if(typeof d!=="function"){c("FBLogger")("messenger_web").mustfix("Non-function passed (%s, type %s) in sequence (%s)",d,typeof d,JSON.stringify(a.map(function(a){return typeof a})));return b}return b.then(d)},a[0]())},H=function(a,b){return a.slice(b)};return{Map:c("LSDict"),blob:t,blobs:u,constructor:{n:v},count:d("LSIterationOperations").count,createArray:function(){return c("LSVec").ofArray([])},createArrayWithElements:function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return c("LSVec").ofArray(b)},db:D,filter:d("LSIterationOperations").filter,forEach:d("LSIterationOperations").forEach,groupBy:d("LSIterationOperations").groupBy,i64:c("LSInt64Lite"),islc:d("LSIterationOperations").slice,like:function(a,b){b=b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/%/g,".*").replace(/_/g,".");return RegExp(b).test(a)},logger:function(a){if(l)return{debug:l,info:l,mustfix:l,warn:l};var b=c("FBLogger")("messenger_web"),e=a.startsWith("epoch mismatch"),f=a.startsWith("cursor mismatch");if(e||f){a=function(a){s.error(a,"error");a=function(){if(e)return"epoch_mismatch";else if(f)return"cursor_mismatch";else return"fixme_could_not_produce_key"}();(i||(i=d("ODS"))).bumpEntityKey(3185,"lsplatform",a)};return{debug:function(a){return s.debug(a)},info:function(a){return s.debug(a)},mustfix:a,warn:a}}else{c("gkx")("26382")||(b.info=c("emptyFunction"));return b}},loopAsync:function(a,b){function e(f){if(c("LSInt64Lite").lt(f,a)){var g=f;f=d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(b(g));while(!(h||(h=c("isPromise")))(f)){g=c("LSInt64Lite").add(g,v(q()));if(!c("LSInt64Lite").lt(g,a))return d("LSSynchronousPromise").makeSynchronousPromise(void 0);f=d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(b(g))}return f.then(function(){return e(c("LSInt64Lite").add(g,v(p())))})}return d("LSSynchronousPromise").maybeMakeSynchronousPromise(void 0,self.Promise)}return e(v(o()))},loopSync:function(a,b){for(var d=v(n());c("LSInt64Lite").lt(d,a);d=c("LSInt64Lite").add(d,v(m())))b(d)},merge:function(){function a(a,b){return(j||(j=d("ReStoreKeyComparer"))).compareValue(a,b)>0?a:b}function b(a,b){return(j||(j=d("ReStoreKeyComparer"))).compareValue([a[0],-a[1]],[b[0],-b[1]])<0?a:b}for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];var g=e.reduce(function(c,e){e=d("LSRuntimeDb").parseConstraint(e,"asc");return{end:c.end&&e.end?b(e.end,c.end):e.end||c.end,start:c.start&&e.start?a(e.start,c.start):e.start||c.start}},{});return babelHelpers.extends({},g.start?g.start[1]?{gt:g.start[0]}:{gte:g.start[0]}:null,g.end?g.end[1]?{lt:g.end[0]}:{lte:g.end[0]}:null)},n:v,nativeOperation:F,nativeTypeOperation:E,notnull:function(a){if(a===null)throw c("FBLogger")("messenger_web").mustfixThrow("value should not be null");return a},print:function(a){},resolve:function(a){return d("LSSynchronousPromise").wrapInMaybeSyncPromiseIfNotPromise(a,self.Promise)},resolveGuaranteeAsync:function(a){var b;return((b=self.Promise)!=null?b:Promise).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))},rm:c("LSInt64Lite").of_int32(a),sequence:G,slice:H,sortBy:d("LSIterationOperations").sortBy,storedProcedure:function(h){for(var i=arguments.length,j=new Array(i>1?i-1:0),k=1;k<i;k++)j[k-1]=arguments[k];var m;if(typeof h==="string"){m=e[h];if(m==null)throw c("FBLogger")("messenger_web").mustfixThrow("Attempted to call unimplemented stored procedure with id: %s",h);if(m===d("LSDynamicDependencies").TOMBSTONE)throw c("err")("Concurrent sproc loading failed for: %s (retryable)",h);m.load&&(m=m.load())}else m=h;var n=this;switch(a){case 0:n=A(2,b,e,f,g,l,B);break;case 2:n=A(1,b,e,f,g,l,B);break}var o,p,q;return d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(m).then(function(a){p=w(a);q=x.shouldLogSproc(p);C.push(p);o=x.call({args:j,shouldLog:q,sprocName:p});f.reportUsedTablesForSyncAccess(a.__tables__);return a.apply(void 0,j.concat([n]))}).then(function(a){C.pop();x.logSprocDone({args:j,shouldLog:q,sprocName:p},o,2);return a},function(a){C.pop();x.logSprocDone({args:j,shouldLog:q,sprocName:p},o,3);c("FBLogger")("messenger_web").catching(a).addMetadata(r,"SPROC_STACK",C.join("\n")).warn("Sproc %s failed",h);throw a})},throw:function(a){throw c("FBLogger")("messenger_web").mustfixThrow(a)},toArray:d("LSIterationOperations").toArray,toJSON:function(a){return d("LSJson").stringify(a)}}}A.n=v;g.default=A}),98);
__d("LSAuthorityLevel",[],(function(a,b,c,d,e,f){a=Object.freeze({OPTIMISTIC:20,CLIENT_PARTIAL:40,SERVER_PARTIAL:60,AUTHORITATIVE_PENDING_REPLACEMENT:75,AUTHORITATIVE:80,CLIENT_AUTHORITATIVE_DELETE:100});f["default"]=a}),66);
__d("LSDeleteAllCommunityChannelCategories",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.sequence([function(a){return b.forEach(b.db.table(182).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(9).fetch([[[b.i64.cast([0,20])]],"threadTypeLastActivityTimestampMs"]),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteAllCommunityChannelCategoriesStoredProcedure";a.__tables__=["cm_category_list","threads"];e.exports=a}),null);
__d("LSDeleteAllCommunityFolders",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.sequence([function(a){return b.forEach(b.db.table(162).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(9).fetch([[[b.i64.cast([0,17])]],"threadTypeLastActivityTimestampMs"]),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteAllCommunityFoldersStoredProcedure";a.__tables__=["community_folders","threads"];e.exports=a}),null);
__d("LSDeleteBanner",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(118).fetch([[[a[1],a[0]]]]),function(c){return b.i64.eq(c.threadKey,a[1])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.bannerId,a[0])}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSInThreadBannerDeleteBannerStoredProcedure";a.__tables__=["in_thread_banner"];e.exports=a}),null);
__d("LSDeleteThenInsertCmCommunityList",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(166).put({communityId:a[0]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsDeleteThenInsertCmCommunityListStoredProcedure";a.__tables__=["cm_community_list"];e.exports=a}),null);
__d("LSDeleteThenInsertCommunityFolder",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.filter(b.db.table(162).fetch([[[a[0]]]]),function(c){return b.i64.eq(c.folderId,a[0])&&b.i64.gt(b.i64.cast([0,80]),a[54])}).next().then(function(c){var d=c.done;c.value;return d?b.db.table(162).put({folderId:a[0],fbGroupId:a[1],name:a[2],memberCount:a[4],description:a[3],pictureUrl:a[5],pictureUrlFallback:a[6],pictureUrlExpirationTimestampMs:a[7],joiningChannelTaskId:a[8],afterJoiningOpenChannelId:a[10],capabilities:a[11],capabilities2:a[12],capabilities3:a[13],notificationSetting:a[14],notificationMutedUntil:a[15],sendsBlockedUntil:a[17],isHidden:a[18],hasSeenDisablingAlert:a[19],inviteLink:a[21],communityType:a[22],directInviteLink:a[23],enableState:a[24],takedownState:a[25],fbGroupType:a[28],threadCount:a[29],disableTimestamp:a[32],readTimestampMs:a[33],inviteStatus:a[37],blockedFromCommunityMemberCount:a[40],categoryCount:a[41],snippetText:a[42],coverPicUrl:a[43],coverPicUrlFallback:a[44],coverPicUrlExpirationTimestampMs:a[45],invitedThreadId:a[47],fbGroupUserParticipationApprovalStatus:a[48],ccAdminAssistRegistrationStatus:a[49],pauseStatus:a[50],isMember:a[51],latestThreadId:a[52],latestThreadActivityTimestampMs:a[53]}):0})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteThenInsertCommunityFolderStoredProcedure";a.__tables__=["community_folders"];e.exports=a}),null);
__d("LSSetThreadImageURL",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({threadPictureUrl:a[1]===""?void 0:a[1],threadPictureUrlFallback:a[2],threadPictureUrlExpirationTimestampMs:a[3],isCustomThreadPicture:a[4],shouldRoundThreadPicture:a[5]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxSetThreadImageURLStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSWriteMinosPublicKey.nop",["Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,d,e,f,h,i,j,k,l,m,n){return(g||(g=b("Promise"))).resolve()});function c(b,c,d,e,f,g,h,i,j,k,l,m){return a.apply(this,arguments)}return c}();a.__nop_name__="LSWriteMinosPublicKey";f["default"]=a}),66);
__d("LSDeleteThenInsertContact",["LSBase64Decode.nop","LSMinosVerifySingleEpoch.nop","LSSetThreadImageURL","LSWriteMinosPublicKey.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return a[50]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSBase64Decode.nop"),a[50]).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[0]=d[17]}]):c.resolve(d[0]=void 0)},function(e){return a[52]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSBase64Decode.nop"),a[52]).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[1]=d[17]}]):c.resolve(d[1]=void 0)},function(e){return a[53]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSBase64Decode.nop"),a[53]).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[2]=d[17]}]):c.resolve(d[2]=void 0)},function(e){return a[55]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSBase64Decode.nop"),a[55]).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[3]=d[17]}]):c.resolve(d[3]=void 0)},function(e){return a[56]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSBase64Decode.nop"),a[56]).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[4]=d[17]}]):c.resolve(d[4]=void 0)},function(e){return a[57]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSBase64Decode.nop"),a[57]).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[5]=d[17]}]):c.resolve(d[5]=void 0)},function(e){return a[58]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSBase64Decode.nop"),a[58]).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[6]=d[17]}]):c.resolve(d[6]=void 0)},function(a){return d[7]=c.i64.random(),c.resolve((a=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],d[8]=a[0],d[9]=a[1],d[10]=a[2],d[11]=a[3],d[12]=a[4],d[13]=a[5],d[14]=a[6],d[15]=a[7],d[16]=a[8],a))},function(e){return c.nativeOperation(b("LSWriteMinosPublicKey.nop"),a[0],d[9],d[11],d[8],d[10],d[12],d[15],d[14],d[13],d[16])},function(b){return c.i64.eq(a[23],c.i64.cast([0,39423]))?d[17]=c.i64.cast([0,1]):(c.i64.eq(a[23],c.i64.cast([0,14342874]))?d[18]=c.i64.cast([0,2]):d[18]=void 0,d[17]=d[18]),c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))&&c.i64.gt(b.authorityLevel,a[21])}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(7).put({id:a[0],profilePictureUrl:a[2],profilePictureFallbackUrl:a[3],profilePictureUrlExpirationTimestampMs:a[4],profilePictureLargeUrl:a[5],profilePictureLargeFallbackUrl:a[6],profilePictureLargeUrlExpirationTimestampMs:a[7],name:a[9],secondaryName:a[41],normalizedNameForSearch:a[10],normalizedSearchTerms:a[33],isMessengerUser:a[11],isMemorialized:a[12],isManagedByViewer:a[35],blockedByViewerStatus:a[14],rank:a[17],firstName:a[18],contactType:a[19],contactTypeExact:a[20],authorityLevel:a[21],messengerCallLogThirdPartyId:a[22],profileRingColor:a[23],requiresMultiway:a[24],blockedSinceTimestampMs:a[25],fbUnblockedSinceTimestampMs:a[48],canViewerMessage:a[26],profileRingColorExpirationTimestampMs:a[27],phoneNumber:a[28],emailAddress:a[29],workCompanyId:a[30],workCompanyName:a[31],workJobTitle:a[32],deviceContactId:a[34],workForeignEntityType:a[36],capabilities:a[37],capabilities2:a[38],profileRingState:d[17],contactViewerRelationship:a[39],gender:a[40],username:a[43],contactReachabilityStatusType:a[44],friendshipStatus:a[45],restrictionType:a[46],waConnectStatus:a[47],isEmployee:!1,pageType:a[49]}):0})},function(d){return c.storedProcedure(b("LSSetThreadImageURL"),a[0],a[2],a[3],a[4],!1,!0)}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSContactDeleteThenInsertContactStoredProcedure";a.__tables__=["contacts"];e.exports=a}),null);
__d("LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(175).put({id:a[0],globalMuteUntil:a[1],showMessagePreview:a[4],isSoundOn:a[7],groupNotificationSetting:a[8],oneToOneNotificationSetting:a[9],replyReminderSetting:a[10],messageReminderDisabled:a[12],messageSound:a[13],ringtoneSound:a[14],newFriendBumpDisabledSetting:a[15],globalMuteMessageUntil:a[2],globalMuteCallUntil:a[3],includeInSwitchAccountBadges:a[11],dismissNfbThreadsCount:a[16],mutePageAccountMessageReminder:a[17]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsDeleteThenInsertNotificationsSettingsGraphQLSnapshotStoredProcedure";a.__tables__=["notification_settings"];e.exports=a}),null);
__d("LSShimHybridThreadDeleteByThreadKey.nop",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){});function c(b,c,d){return a.apply(this,arguments)}return c}();a.__nop_name__="LSShimHybridThreadDeleteByThreadKey";f["default"]=a}),66);
__d("LSHybridThreadDelete",["LSShimHybridThreadDeleteByThreadKey.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.nativeOperation(b("LSShimHybridThreadDeleteByThreadKey.nop"),a[0])},function(a){return c.resolve(d)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxHybridThreadDeleteStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSIssueInsertPersistentMenuItemsForThreadTask",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"insert_persistent_menu_items",c.i64.cast([0,117]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSOmnistoreSettingsIssueInsertPersistentMenuItemsForThreadTaskStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSGroupRoomTruncate",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.filter(b.db.table(63).fetch(),function(a){return b.i64.neq(a.groupRoomType,void 0)&&b.i64.neq(a.groupRoomType,b.i64.cast([0,5]))}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSStoriesGroupRoomTruncateStoredProcedure";a.__tables__=["rooms"];e.exports=a}),null);
__d("LSUpdateOrInsertThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(9).fetch([[[a[7]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?b.db.table(9).add({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[32],parentThreadKey:a[38],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteMentionExpireTimeMs:a[15],muteCallsExpireTimeMs:a[16],groupNotificationSettings:a[19],isAdminSnippet:a[20],snippetSenderContactId:a[21],snippetText:a[23],snippetStringHash:a[24],snippetStringArgument1:a[25],snippetAttribution:a[26],snippetAttributionStringHash:a[27],disappearingSettingTtl:a[28],disappearingSettingUpdatedTs:a[29],disappearingSettingUpdatedBy:a[30],cannotReplyReason:a[33],customEmoji:a[34],customEmojiImageUrl:a[35],outgoingBubbleColor:a[36],themeFbid:a[37],nullstateDescriptionText1:a[39],nullstateDescriptionType1:a[40],nullstateDescriptionText2:a[41],nullstateDescriptionType2:a[42],nullstateDescriptionText3:a[43],nullstateDescriptionType3:a[44],snippetHasEmoji:a[45],hasPersistentMenu:a[46],disableComposerInput:a[47],cannotUnsendReason:a[48],viewedPluginKey:a[49],viewedPluginContext:a[50],clientThreadKey:a[51],capabilities:a[52],shouldRoundThreadPicture:a[53],proactiveWarningDismissTime:a[54],isCustomThreadPicture:a[55],otidOfFirstMessage:a[56],normalizedSearchTerms:a[57],additionalThreadContext:a[58],disappearingThreadKey:a[59],isDisappearingMode:a[60],disappearingModeInitiator:a[61],unreadDisappearingMessageCount:a[62],lastMessageCtaId:a[64],lastMessageCtaType:a[65],lastMessageCtaTimestampMs:a[66],consistentThreadFbid:a[67],threadDescription:a[69],unsendLimitMs:a[70],capabilities2:a[78],capabilities3:a[79],syncGroup:a[82],threadInvitesEnabled:a[83],threadInviteLink:a[84],isAllUnreadMessageMissedCallXma:a[85],numUnreadSubthreads:a[86],subthreadCount:a[87],lastNonMissedCallXmaMessageTimestampMs:a[88],isHidden:a[89],threadInvitesEnabledV2:a[90],joinRequestApprovalSetting:a[93],hasPendingInvitation:a[94],eventStartTimestampMs:a[95],eventEndTimestampMs:a[96],takedownState:a[97],secondaryParentThreadKey:a[98],igFolder:a[99],inviterId:a[100],threadTags:a[101],isReadReceiptsDisabled:a[102],readReceiptsDisabledV2:a[103],threadStatus:a[104],threadSubtype:a[105],pauseThreadTimestamp:a[106],metadata:a[107],capabilities4:a[108],syncSource:a[109],capabilities5:a[110],ongoingCallTimestampMs:a[111]}):(e=d.item,c[1]=e.lastActivityTimestampMs,c[3]=e.parentThreadKey,c[2]=e.disappearingThreadKey,c[4]=e.isDisappearingMode,b.i64.le(e.authorityLevel,a[6])?b.i64.gt(c[1],a[0])&&b.i64.neq(c[2],void 0)?(b.i64.eq(a[38],b.i64.cast([-1,4294967286]))&&b.i64.eq(c[3],b.i64.cast([0,0]))?(f=[c[3],e.folderName],c[5]=f[0],c[6]=f[1],f):(d=[a[38],a[10]],c[5]=d[0],c[6]=d[1],d),b.forEach(b.db.table(9).fetch([[[a[7]]]]),function(b){var d=b.update;b.item;return d({lastReadWatermarkTimestampMs:e.lastReadWatermarkTimestampMs,authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:c[6],ongoingCallState:a[32],parentThreadKey:c[5],lastActivityTimestampMs:c[1],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteMentionExpireTimeMs:a[15],muteCallsExpireTimeMs:a[16],groupNotificationSettings:a[19],isAdminSnippet:a[20],snippetSenderContactId:a[21],snippetText:a[23],snippetStringHash:a[24],snippetStringArgument1:a[25],snippetAttribution:a[26],snippetAttributionStringHash:a[27],disappearingSettingTtl:a[28],disappearingSettingUpdatedTs:a[29],disappearingSettingUpdatedBy:a[30],cannotReplyReason:a[33],customEmoji:a[34],customEmojiImageUrl:a[35],outgoingBubbleColor:a[36],themeFbid:a[37],nullstateDescriptionText1:a[39],nullstateDescriptionType1:a[40],nullstateDescriptionText2:a[41],nullstateDescriptionType2:a[42],nullstateDescriptionText3:a[43],nullstateDescriptionType3:a[44],snippetHasEmoji:a[45],hasPersistentMenu:a[46],disableComposerInput:a[47],cannotUnsendReason:a[48],viewedPluginKey:a[49],viewedPluginContext:a[50],clientThreadKey:a[51],capabilities:a[52],shouldRoundThreadPicture:a[53],proactiveWarningDismissTime:a[54],isCustomThreadPicture:a[55],otidOfFirstMessage:a[56],normalizedSearchTerms:a[57],additionalThreadContext:a[58],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[61],unreadDisappearingMessageCount:a[62],lastMessageCtaId:a[64],lastMessageCtaType:a[65],lastMessageCtaTimestampMs:a[66],consistentThreadFbid:a[67],threadDescription:a[69],unsendLimitMs:a[70],capabilities2:a[78],capabilities3:a[79],syncGroup:a[82],threadInvitesEnabled:a[83],threadInviteLink:a[84],isAllUnreadMessageMissedCallXma:a[85],numUnreadSubthreads:a[86],subthreadCount:a[87],lastNonMissedCallXmaMessageTimestampMs:a[88],isHidden:a[89],threadInvitesEnabledV2:a[90],joinRequestApprovalSetting:a[93],hasPendingInvitation:a[94],eventStartTimestampMs:a[95],eventEndTimestampMs:a[96],takedownState:a[97],secondaryParentThreadKey:a[98],igFolder:a[99],inviterId:a[100],threadTags:a[101],isReadReceiptsDisabled:a[102],readReceiptsDisabledV2:a[103],threadStatus:a[104],threadSubtype:a[105],pauseThreadTimestamp:a[106],metadata:a[107],capabilities4:a[108],syncSource:a[109],capabilities5:a[110],ongoingCallTimestampMs:a[111],avatarStickerInstructionKeyId:void 0,avatarStickerId:void 0,avatarStickerThumbnailImageUrl:void 0,avatarStickerThumbnailImageMimeType:void 0,avatarStickerOriginalImageUrl:void 0,avatarStickerOriginalImageMimeType:void 0,hasPendingJoinRequest:void 0,pendingJoinRequestsCount:void 0,memberCount:void 0,admodCount:void 0,ctmAdId:void 0,ctmAdgroupId:void 0,ctmAdCampaignId:void 0,ctmAdCampaignGroupId:void 0,ctmAdAccountId:void 0,typingIndicatorDisabled:void 0})})):b.forEach(b.db.table(9).fetch([[[a[7]]]]),function(b){var d=b.update;b.item;return d({lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[32],parentThreadKey:a[38],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteMentionExpireTimeMs:a[15],muteCallsExpireTimeMs:a[16],groupNotificationSettings:a[19],isAdminSnippet:a[20],snippetSenderContactId:a[21],snippetText:a[23],snippetStringHash:a[24],snippetStringArgument1:a[25],snippetAttribution:a[26],snippetAttributionStringHash:a[27],disappearingSettingTtl:a[28],disappearingSettingUpdatedTs:a[29],disappearingSettingUpdatedBy:a[30],cannotReplyReason:a[33],customEmoji:a[34],customEmojiImageUrl:a[35],outgoingBubbleColor:a[36],themeFbid:a[37],nullstateDescriptionText1:a[39],nullstateDescriptionType1:a[40],nullstateDescriptionText2:a[41],nullstateDescriptionType2:a[42],nullstateDescriptionText3:a[43],nullstateDescriptionType3:a[44],snippetHasEmoji:a[45],hasPersistentMenu:a[46],disableComposerInput:a[47],cannotUnsendReason:a[48],viewedPluginKey:a[49],viewedPluginContext:a[50],clientThreadKey:a[51],capabilities:a[52],shouldRoundThreadPicture:a[53],proactiveWarningDismissTime:a[54],isCustomThreadPicture:a[55],otidOfFirstMessage:a[56],normalizedSearchTerms:a[57],additionalThreadContext:a[58],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[61],unreadDisappearingMessageCount:a[62],lastMessageCtaId:a[64],lastMessageCtaType:a[65],lastMessageCtaTimestampMs:a[66],consistentThreadFbid:a[67],threadDescription:a[69],unsendLimitMs:a[70],capabilities2:a[78],capabilities3:a[79],syncGroup:a[82],threadInvitesEnabled:a[83],threadInviteLink:a[84],isAllUnreadMessageMissedCallXma:a[85],numUnreadSubthreads:a[86],subthreadCount:a[87],lastNonMissedCallXmaMessageTimestampMs:a[88],isHidden:a[89],threadInvitesEnabledV2:a[90],joinRequestApprovalSetting:a[93],hasPendingInvitation:a[94],eventStartTimestampMs:a[95],eventEndTimestampMs:a[96],takedownState:a[97],secondaryParentThreadKey:a[98],igFolder:a[99],inviterId:a[100],threadTags:a[101],isReadReceiptsDisabled:a[102],readReceiptsDisabledV2:a[103],threadStatus:a[104],threadSubtype:a[105],pauseThreadTimestamp:a[106],metadata:a[107],capabilities4:a[108],syncSource:a[109],capabilities5:a[110],ongoingCallTimestampMs:a[111],avatarStickerInstructionKeyId:void 0,avatarStickerId:void 0,avatarStickerThumbnailImageUrl:void 0,avatarStickerThumbnailImageMimeType:void 0,avatarStickerOriginalImageUrl:void 0,avatarStickerOriginalImageMimeType:void 0,hasPendingJoinRequest:void 0,pendingJoinRequestsCount:void 0,memberCount:void 0,admodCount:void 0,ctmAdId:void 0,ctmAdgroupId:void 0,ctmAdCampaignId:void 0,ctmAdCampaignGroupId:void 0,ctmAdAccountId:void 0,typingIndicatorDisabled:void 0})}):b.resolve())})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxUpdateOrInsertThreadStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSPopulateCommunityFolderData",["LSDeleteThenInsertCommunityFolder","LSUpdateOrInsertThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.sequence([function(d){return c.storedProcedure(b("LSDeleteThenInsertCommunityFolder"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],void 0,void 0,void 0,a[11],a[12],a[13],a[14],a[15],void 0,a[16],a[17],a[18],void 0,a[19],a[20],a[21],a[22],a[23],void 0,void 0,a[24],a[26],void 0,void 0,a[25],a[37],void 0,void 0,c.i64.cast([0,0]),a[29],void 0,c.i64.cast([0,1]),a[28],a[27],a[30],a[31],a[32],a[33],void 0,a[34],a[35],a[36],a[38],a[39],void 0,void 0,c.i64.cast([0,80]))},function(d){return c.storedProcedure(b("LSUpdateOrInsertThread"),a[8],a[9],a[10],a[2],a[5],void 0,c.i64.cast([0,80]),a[0],c.i64.cast([0,0]),c.i64.cast([0,17]),"community",a[6],a[7],c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,c.i64.cast([-1,4294967282]),void 0,void 0,void 0,void 0,void 0,void 0,!1,!1,!1,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),void 0,void 0,!1,void 0,void 0,void 0,void 0,!1,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,void 0,c.i64.cast([0,0]),void 0,!1,void 0,void 0,void 0,!1,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,a[40],void 0,void 0,void 0,!1,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),void 0)}])},function(a){return c.resolve(d)}])}a.__sproc_name__="LSMailboxPopulateCommunityFolderDataStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSRemoveTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?0:(e=d.item,b.forEach(b.db.table(2).fetch([[[e.queueName,{lte:a[0]}]],"queueNameTaskId"]),function(a){var d=a.item;return b.sequence([function(a){return c[0]=d.taskDispatchPriority,b.forEach(b.filter(b.db.table(2).fetch([[[d.taskId]]]),function(a){return b.i64.eq(a.taskId,d.taskId)&&a.queueName===d.queueName}),function(a){return a["delete"]()})},function(a){return b.i64.eq(c[0],b.i64.cast([0,1e3]))||b.i64.eq(c[0],b.i64.cast([0,2e3]))?c[1]=b.i64.cast([0,734739218]):c[1]=b.i64.cast([0,734737036])}])}))})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreRemoveTaskStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSRoomTruncate",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.filter(b.db.table(63).fetch(),function(a){return b.i64.eq(a.groupRoomType,void 0)||b.i64.eq(a.groupRoomType,b.i64.cast([0,5]))}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSStoriesRoomTruncateStoredProcedure";a.__tables__=["rooms"];e.exports=a}),null);
__d("LSTaskExists",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(a,b){b=a.done;a=a.value;return b?c[0]=!1:(a.item,c[0]=!0)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreTaskExistsStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSTruncateCommunityListTable",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.db.table(166).fetch(),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsTruncateCommunityListTableStoredProcedure";a.__tables__=["cm_community_list"];e.exports=a}),null);
__d("LSTruncateNotificationSettings",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.db.table(175).fetch(),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsTruncateNotificationSettingsStoredProcedure";a.__tables__=["notification_settings"];e.exports=a}),null);
__d("LSUpdateLastSyncCompletedTimestampMsToNow",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.forEach(b.db.table(1).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({lastSyncCompletedTimestampMs:c[0]})})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreUpdateLastSyncCompletedTimestampMsToNowStoredProcedure";a.__tables__=["sync_groups"];e.exports=a}),null);
__d("LSUpsertGradientColor",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(117).put({themeFbid:a[0],gradientIndex:a[1],color:a[2],type_:a[3]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSThreadThemeUpsertGradientColorStoredProcedure";a.__tables__=["gradient_colors"];e.exports=a}),null);
__d("LSUpsertTheme",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.i64.neq(a[12],void 0)?c[0]=a[12]:c[0]=a[0],b.db.table(116).put({fbid:a[0],themeIdx:a[1],fallbackColor:a[2],reverseGradiantsForRadial:a[3],accessibilityLabel:a[4],iconUrl:a[5],iconUrlFallback:a[6],backgroundUrl:a[8],description:a[9],isDeprecated:a[11],normalThemeId:c[0],appColorMode:a[13],titlebarBackgroundColor:a[14],titlebarButtonTintColor:a[15],titlebarTextColor:a[16],titlebarAttributionTextColor:a[17],composerTintColor:a[18],composerUnselectedTintColor:a[19],composerInputTextPlaceholderColor:a[20],composerInputBackgroundColor:a[21],composerInputBorderColor:a[22],composerInputBorderWidth:a[23],composerBackgroundColor:a[24],messageTextColor:a[25],messageBorderColor:a[26],messageBorderWidth:a[27],incomingMessageTextColor:a[28],incomingMessageBorderColor:a[29],incomingMessageBorderWidth:a[30],deliveryReceiptColor:a[31],tertiaryTextColor:a[32],primaryButtonBackgroundColor:a[33],hotLikeColor:a[34],reactionPillBackgroundColor:a[35],secondaryTextColor:a[36],quotedIncomingMessageBubbleColor:a[37],cornerRadius:a[38],blurredComposerBackgroundColor:a[39],composerSecondaryButtonColor:a[40],composerPlaceholderTextColor:a[41]})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSThreadThemeUpsertThemeStoredProcedure";a.__tables__=["thread_themes"];e.exports=a}),null);
__d("LSStaticDependencies",["LSDeleteAllCommunityChannelCategories","LSDeleteAllCommunityFolders","LSDeleteThenInsertCmCommunityList","LSDeleteThenInsertContact","LSDeleteThenInsertMessageRequest","LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot","LSDeleteThenInsertThread","LSExecuteFinallyBlockForSyncTransaction","LSExecuteFirstBlockForSyncTransaction","LSGroupRoomTruncate","LSPopulateCommunityFolderData","LSRemoveTask","LSRoomTruncate","LSSetRegionHint","LSTaskExists","LSTruncateCommunityListTable","LSTruncateNotificationSettings","LSUpdateLastSyncCompletedTimestampMsToNow","LSUpsertGradientColor","LSUpsertSequenceId","LSUpsertTheme","LSVerifyContactRowExists"],(function(a,b,c,d,e,f,g){"use strict";a={deleteAllCommunityChannelCategories:c("LSDeleteAllCommunityChannelCategories"),deleteAllCommunityFolders:c("LSDeleteAllCommunityFolders"),deleteThenInsertCmCommunityList:c("LSDeleteThenInsertCmCommunityList"),deleteThenInsertContact:c("LSDeleteThenInsertContact"),deleteThenInsertMessageRequest:c("LSDeleteThenInsertMessageRequest"),deleteThenInsertNotificationsSettingsGraphQLSnapshot:c("LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot"),deleteThenInsertThread:c("LSDeleteThenInsertThread"),executeFinallyBlockForSyncTransaction:c("LSExecuteFinallyBlockForSyncTransaction"),executeFirstBlockForSyncTransaction:c("LSExecuteFirstBlockForSyncTransaction"),groupRoomTruncate:c("LSGroupRoomTruncate"),populateCommunityFolderData:c("LSPopulateCommunityFolderData"),removeTask:c("LSRemoveTask"),roomTruncate:c("LSRoomTruncate"),setRegionHint:c("LSSetRegionHint"),taskExists:c("LSTaskExists"),truncateCommunityListTable:c("LSTruncateCommunityListTable"),truncateNotificationSettings:c("LSTruncateNotificationSettings"),updateLastSyncCompletedTimestampMsToNow:c("LSUpdateLastSyncCompletedTimestampMsToNow"),upsertGradientColor:c("LSUpsertGradientColor"),upsertSequenceId:c("LSUpsertSequenceId"),upsertTheme:c("LSUpsertTheme"),verifyContactRowExists:c("LSVerifyContactRowExists")};b=a;g["default"]=b}),98);
__d("LSTransportHybridParticipantUpdateReceipts",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.resolve(c)}a.__sproc_name__="LSE2EEMessagingMetadataMailboxTransportHybridParticipantUpdateReceiptsStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSTruncateMetadataThreads.nop",["I64","LSIntEnum","Promise","ReQL","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){if(c("gkx")("9855")){e=a.mi_act_mapping_table.keys(new WeakMap());while(!0){var f,g=(yield e.next());if(g.done)break;yield (f=a.mi_act_mapping_table)["delete"].apply(f,g.value)}f=d("ReQL").fromTableAscending(a.threads).filter(function(a){return a.syncGroup!=null&&(i||(i=d("I64"))).equal(a.syncGroup,(j||(j=d("LSIntEnum"))).ofNumber(95))}).iterator(new WeakMap());while(!0){g=(yield f.next());if(g.done)break;yield (e=a.threads)["delete"].apply(e,g.value[0])}}return(h||(h=b("Promise"))).resolve()});function e(b,c){return a.apply(this,arguments)}return e}();a.__nop_name__="LSTruncateMetadataThreads";g["default"]=a}),98);
__d("LSTruncateMetadataThreads",["LSTruncateMetadataThreads.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(a){return c.nativeOperation(b("LSTruncateMetadataThreads.nop"))},function(a){return c.resolve(d)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxTruncateMetadataThreadsStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSUpdateOrInsertCommunitySurfaceRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(253).put({surfaceType:a[0],communityKey:a[1],isLoadingAfter:!1,hasMoreAfter:a[2],nextPageCursor:a[4]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpdateOrInsertCommunitySurfaceRangeStoredProcedure";a.__tables__=["community_surface_ranges"];e.exports=a}),null);
__d("RetUtil",["LSResult"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("LSResult")(a)}g.getNullableRetResult=a}),98);
__d("LSShimGetServerThreadKeyFromJIDV2.nop",["ReQL","RetUtil","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table.index("jid")).getKeyRange(c)));return d("RetUtil").getNullableRetResult(b==null?void 0:b.serverThreadKey)});function c(b,c,d){return a.apply(this,arguments)}return c}();a.__nop_name__="LSShimGetServerThreadKeyFromJIDV2";g["default"]=a}),98);
__d("LSReplaceOptimisticThread",["gkx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,b=a[a.length-1],d=[],e=[];return b.sequence([function(e){return b.db.table(9).fetch([[[a[1]]]]).next().then(function(e,f){var g=e.done;e=e.value;return g?b.forEach(b.filter(b.db.table(9).fetch([[[a[0]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.le(c.authorityLevel,b.i64.cast([0,20]))}),function(c){var d=c.update;c.item;return d({threadKey:a[1],authorityLevel:b.i64.cast([0,40])})}):(f=e.item,b.i64.le(f.authorityLevel,b.i64.cast([0,40]))?(c("gkx")("14697")?d[2]=!1:d[2]=!0,d[1]=d[2]):d[1]=!0,d[1]?b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(a){return a["delete"]()}):b.resolve())})},function(a){return b.resolve(e)}])}a.__sproc_name__="LSMailboxReplaceOptimisticThreadStoredProcedure";a.__tables__=["threads"];b=a;g["default"]=b}),98);
__d("LSUpdateOptimisticContextThreadKeys",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(c){return b.forEach(b.filter(b.db.table(32).fetch(),function(c){return b.i64.eq(c.threadKey,a[0])}),function(b){var c=b.update;b.item;return c({threadKey:a[1]})})},function(c){return b.forEach(b.filter(b.db.table(31).fetch(),function(c){return b.i64.eq(c.threadKey,a[0])}),function(b){var c=b.update;b.item;return c({threadKey:a[1]})})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreUpdateOptimisticContextThreadKeysStoredProcedure";a.__tables__=["threads_optimistic_context","messages_optimistic_context"];e.exports=a}),null);
__d("LSUpdateTaskQueueName",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(2).fetch([[[a[0]]],"queueNameTaskId"]),function(b){var c=b.update;b.item;return c({queueName:a[1]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreUpdateTaskQueueNameStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSUpdateTaskValue",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(2).fetch([[[a[0]]],"queueNameTaskId"]),function(b){var c=b.update;b=b.item;return c({taskValue:b.taskValue.split(a[1]).join(a[2])})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreUpdateTaskValueStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSUpdateThreadAuthorityAndMapping",["LSHybridThreadDelete","LSIssueNewTask","LSReplaceOptimisticThread","LSShimGetServerThreadKeyFromJIDV2.nop","LSUpdateOptimisticContextThreadKeys","LSUpdateTaskQueueName","LSUpdateTaskValue"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return c.nativeOperation(b("LSShimGetServerThreadKeyFromJIDV2.nop"),a[0]).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){b=a.done;a=a.value;return b?d[1]=!1:(a.item,d[1]=!0)})},function(b){return c.filter(c.db.table(9).fetch(),function(b){return c.i64.eq(b.threadKey,a[2])}).next().then(function(a,b){b=a.done;a=a.value;return b?d[3]=!1:(a.item,d[3]=!0)})},function(e){return d[5]=c.i64.neq(d[0],void 0),d[7]=c.i64.eq(d[0],a[2])&&d[5],!d[7]&&!(c.i64.eq(d[0],a[1])&&d[5])&&d[5]?function(a){c.logger(a).mustfix(a)}("The mi_act_mapping row did not correspond to either the authoritative or optimistic thread key."):0,c.i64.neq(a[2],void 0)?d[6]=a[2]:d[6]=c.i64.cast([0,0]),d[5]?d[7]?c.sequence([function(e){return d[1]?c.sequence([function(b){return c.db.table(173).fetch([[[a[1]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[8]=void 0:(b=a.item,d[8]=b.jid)})},function(e){return d[10]=new c.Map(),d[10].set("authoritative_thread_key",a[1]),d[10].set("jid_authoritative_mapped",d[8]),d[10].set("jid_optimistic_mapped",a[0]),d[10].set("optimistic_thread_key",a[2]),d[11]=c.toJSON(d[10]),c.storedProcedure(b("LSIssueNewTask"),"e2ee_log_incorrect_occam_mapping",c.i64.cast([0,160033]),d[11],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(d){return c.storedProcedure(b("LSHybridThreadDelete"),a[1])}]):c.resolve()},function(a){return c.i64.neq(d[6],void 0)?c.forEach(c.db.table(9).fetch([[[d[6]]]]),function(a){var b=a.update;a.item;return b({clientThreadKey:d[6]})}):c.resolve()},function(e){return c.storedProcedure(b("LSReplaceOptimisticThread"),d[6],a[1])},function(e){return c.storedProcedure(b("LSUpdateOptimisticContextThreadKeys"),d[6],a[1])}]):d[3]?c.storedProcedure(b("LSHybridThreadDelete"),d[6]):c.resolve():d[3]?d[1]?c.storedProcedure(b("LSHybridThreadDelete"),d[6]):c.sequence([function(a){return c.i64.neq(d[6],void 0)?c.forEach(c.db.table(9).fetch([[[d[6]]]]),function(a){var b=a.update;a.item;return b({clientThreadKey:d[6]})}):c.resolve()},function(e){return c.storedProcedure(b("LSReplaceOptimisticThread"),d[6],a[1])},function(e){return c.storedProcedure(b("LSUpdateOptimisticContextThreadKeys"),d[6],a[1])}]):c.resolve()},function(e){return d[3]?c.sequence([function(e){return d[9]=c.i64.to_string(d[6]),d[8]=c.i64.to_string(a[1]),c.storedProcedure(b("LSUpdateTaskQueueName"),d[9],d[8])},function(a){return c.storedProcedure(b("LSUpdateTaskValue"),d[8],d[9],d[8])}]):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxUpdateThreadAuthorityAndMappingStoredProcedure";a.__tables__=["threads","mi_act_mapping_table"];e.exports=a}),null);
__d("LSUpdateThreadAuthorityAndMappingWithOTIDFromJID",["LSShimGetServerThreadKeyFromJIDV2.nop","LSUpdateThreadAuthorityAndMapping"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return c.nativeOperation(b("LSShimGetServerThreadKeyFromJIDV2.nop"),a[0]).then(function(a){return a=a,d[0]=a[0],a})},function(e){return c.i64.neq(d[0],a[1])?d[1]=d[0]:d[1]=void 0,c.storedProcedure(b("LSUpdateThreadAuthorityAndMapping"),a[0],a[1],d[1])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxUpdateThreadAuthorityAndMappingWithOTIDFromJIDStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSExpandedStaticDependencies",["LSAddParticipantIdToGroupThread","LSClearPinnedMessages","LSDeleteBanner","LSDeleteExistingMessageRanges","LSGetFirstAvailableAttachmentCTAID","LSHybridThreadDelete","LSInsertAttachmentCta","LSInsertAttachmentItem","LSInsertBlobAttachment","LSInsertNewMessageRange","LSIssueInsertPersistentMenuItemsForThreadTask","LSSetForwardScore","LSSetMessageDisplayedContentTypes","LSStaticDependencies","LSTransportHybridParticipantUpdateReceipts","LSTruncateMetadataThreads","LSTruncateTablesForSyncGroup","LSUpdateAttachmentItemCtaAtIndex","LSUpdateOrInsertCommunitySurfaceRange","LSUpdateOrInsertThread","LSUpdateReadReceipt","LSUpdateThreadAuthorityAndMappingWithOTIDFromJID","LSUpdateThreadsRangesV2","LSUpsertFolderSeenTimestamp","LSUpsertInboxThreadsRange","LSUpsertMessage","LSUpsertReaction","LSUpsertSyncGroupThreadsRange","LSWriteThreadCapabilities"],(function(a,b,c,d,e,f,g){"use strict";a=babelHelpers["extends"]({},c("LSStaticDependencies"),{addParticipantIdToGroupThread:c("LSAddParticipantIdToGroupThread"),clearPinnedMessages:c("LSClearPinnedMessages"),deleteBanner:c("LSDeleteBanner"),deleteExistingMessageRanges:c("LSDeleteExistingMessageRanges"),getFirstAvailableAttachmentCTAID:c("LSGetFirstAvailableAttachmentCTAID"),hybridThreadDelete:c("LSHybridThreadDelete"),insertAttachmentCta:c("LSInsertAttachmentCta"),insertAttachmentItem:c("LSInsertAttachmentItem"),insertBlobAttachment:c("LSInsertBlobAttachment"),insertNewMessageRange:c("LSInsertNewMessageRange"),issueInsertPersistentMenuItemsForThreadTask:c("LSIssueInsertPersistentMenuItemsForThreadTask"),setForwardScore:c("LSSetForwardScore"),setMessageDisplayedContentTypes:c("LSSetMessageDisplayedContentTypes"),transportHybridParticipantUpdateReceipts:c("LSTransportHybridParticipantUpdateReceipts"),truncateMetadataThreads:c("LSTruncateMetadataThreads"),truncateTablesForSyncGroup:c("LSTruncateTablesForSyncGroup"),updateAttachmentItemCtaAtIndex:c("LSUpdateAttachmentItemCtaAtIndex"),updateOrInsertCommunitySurfaceRange:c("LSUpdateOrInsertCommunitySurfaceRange"),updateOrInsertThread:c("LSUpdateOrInsertThread"),updateReadReceipt:c("LSUpdateReadReceipt"),updateThreadAuthorityAndMappingWithOTIDFromJID:c("LSUpdateThreadAuthorityAndMappingWithOTIDFromJID"),updateThreadsRangesV2:c("LSUpdateThreadsRangesV2"),upsertFolderSeenTimestamp:c("LSUpsertFolderSeenTimestamp"),upsertInboxThreadsRange:c("LSUpsertInboxThreadsRange"),upsertMessage:c("LSUpsertMessage"),upsertReaction:c("LSUpsertReaction"),upsertSyncGroupThreadsRange:c("LSUpsertSyncGroupThreadsRange"),writeThreadCapabilities:c("LSWriteThreadCapabilities")});b=a;g["default"]=b}),98);
__d("LSFactory",["ExecutionEnvironment","LS","LSDynamicDependencies","LSMetadata","cr:8709"],(function(a,b,c,d,e,f,g){"use strict";var h,i={dynamic:!1};function a(a,e){e===void 0&&(e=i);a=c("LS")(1,d("LSMetadata").schema,d("LSDynamicDependencies").cachedModules,a,void 0,void 0,e.dynamic);return b("cr:8709")!=null&&(h||(h=c("ExecutionEnvironment"))).isInBrowser?b("cr:8709").wrapSprocInvocationWithProfiler(a):a}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("QuickPromotionNuxID",[],(function(a,b,c,d,e,f){a=Object.freeze({ANDROID_DIVEBAR_QP_DEPRECATED:1824,ANDROID_MESSENGER_BANNER_QP_DEPRECATED:3062,ANDROID_MESSENGER_DEPRE_LOCK:4745,ANDROID_MESSENGER_DEPRE_PRELOCK:4744,ANDROID_MESSENGER_DEPRE_WARM_UP:4743,ANDROID_MESSENGER_THREADVIEW_QP_DEPRECATED:3346,DELTOID3_ANNOUNCEMENTS_QP_DEPRECATED:4077,DEPRECATED_0:0,FACEBOOK_FOR_ANDROID_ANDROID_DATING_THREAD_VIEW_HEADER_PROMPT_QP_DEPRECATED:8399,FACEBOOK_FOR_ANDROID_HEALTH_BD_HUB_UNIT_QP:6747,FACEBOOK_FOR_IOS_HEALTH_BD_HUB_UNIT_QP:6748,FACEBOOK_MSITE_IOS_BOTTOM_POPUP_QP:6323,FACEBOOK_MULTI_PLATFORM_HEALTH_BD_HUB_UNIT_QP:6735,FACEBOOK_MULTI_PLATFORM_NT_PAGE_QUICK_PROMOTION_SURFACE_QP:5985,FACEBOOK_MULTI_PLATFORM_PAGES_LAUNCHPOINT_QP:9550,FACEBOOK_MULTI_PLATFORM_PORTAL_BOOKMARK_DISCOVER_QP:7287,FACEBOOK_MULTI_PLATFORM_QP_NUX_MIGRATE_QP:10780,FACEBOOK_WORDMARK_FOR_IOS_OLD:8257,INSTAGRAM_FOR_ANDROID_ACTIVITY_FEED_NOTIFICATION_QP:7358,INSTAGRAM_FOR_IOS_ACTIVITY_FEED_NOTIFICATION_QP:7357,INSTAGRAM_IOS_FEED_TOOLTIP_DEPRECATED:5199,INSTAGRAM_IOS_PROFILE_TOOL_TIP_DEPRECATED:4904,INSTAGRAM_MULTI_PLATFORM_ACTIVITY_FEED_NOTIFICATION_QP:7356,INSTAGRAM_MULTI_PLATFORM_STOREFRONT_QP:9259,INSTAGRAM_PROFILE_PAGE_TOOL_TIP_DEPRECATED:4880,INTERN_ADS_DELIVERY_DEBUGGER_MEGAPHONE_DEPRECATED:3659,IOS_DIVEBAR_QP_DEPRECATED:1823,IOS_MESSENGER_BANNER_QP_DEPRECATED:3037,IOS_MESSENGER_DEPRE_PHASES_QP:4839,IOS_MESSENGER_THREAD_VIEW_QP:3413,IOS_SEARCH_MODULE_PROMOTIONS:4793,MESSENGER_FOR_ANDROID_LIGHTSPEED_THREAD_LIST_QP:7299,MESSENGER_FOR_ANDROID_LIGHTSPEED_THREAD_VIEW_QP:7300,MESSENGER_FOR_IOS_SEARCH_NULL_STATE_SURFACE_QP:7154,MESSENGER_LIGHTSPEED_FOR_IOS_BOTTOM_SHEET_QP_DEPRECATED:10933,MESSENGER_LIGHTSPEED_FOR_IOS_CC_THREAD_VIEW_BOTTOMSHEET_QP_DEPRECATED:10915,OCULUS_CREATOR_SITE_LOGIN_INTERSTITIAL_QP:11703,OCULUS_DEV_MULTI_PLATFORM_LOGIN_INTERSTITIAL_QP:11702,OCULUS_META_WWW_AUTH_LOGIN_INTERSTITIAL_QP:11748,PIRANHA_BLACKLISTED_JOB_ID_QP_DEPRECATED:4688,PORTAL_APP_PROMO_CARD_QP_DEPRECATED:8186,PORTAL_IN_CALL_SCREEN_QP:7189,PORTAL_MOBILE_APP_HOME_QP:7157,PORTAL_MOBILE_APP_PORTAL_BISHOP_DISCOVER_QP:7286,PORTAL_TV_DISCOVERY_ROW_QP:8163,SNAPTU_NEWSFEED_QP_DEPRECATED:5562,SUPERFRAME_FOR_PORTAL_CARD_INTERSTITIAL_QP:6813,WEARABLE_APP_ANDROID_HOME_CARD_ITEM_QP:12076,WEARABLE_APP_ANDROID_HOME_TAB_CARD_QP:12120,WEARABLE_APP_ANDROID_MWA_HOME_CARD_QP:12126,WEARABLE_APP_IOS_HOME_CARD_ITEM_QP:12075,WEARABLE_APP_IOS_MWA_HOME_CARD_QP:12125,WEARABLE_APP_MULTI_PLATFORM_HOME_CARD_ITEM_QP:12074,WEARABLE_APP_MULTI_PLATFORM_HOME_TAB_CARD_QP:12119,WEARABLE_APP_MULTI_PLATFORM_MWA_HOME_CARD_QP:12124,WEB_MESSENGER_BANNER_QP:3329,WORKPLACE_MSITE_JEWEL_INTERSTITIAL_QP:5270,WORKPLACE_WWW_JEWEL_BANNER_QP:5658,OCULUS_DEV_MULTI_PLATFORM_AUTH_META_INTERSTITIAL_QP:11841,OCULUS_DEV_MULTI_PLATFORM_BOTTOM_NAV_TOOLTIP_QP:11865,OCULUS_DEV_MULTI_PLATFORM_DEV_CENTER_ANNOUNCEMENTS_QP:11849,OCULUS_DEV_MULTI_PLATFORM_DEV_CENTER_CARD_QP:11908,OCULUS_DEV_MULTI_PLATFORM_DEV_ODH_PUSH_NOTIFICATION_QP:11847,OCULUS_DEV_MULTI_PLATFORM_DEV_WWW_FEATURED_VIDEO_QP:11842,OCULUS_DEV_MULTI_PLATFORM_DEV_WWW_INTERSTITIAL_QP:11910,OCULUS_DEV_MULTI_PLATFORM_DEV_WWW_PUSH_NOTIFICATION_QP:11850,OCULUS_DEV_MULTI_PLATFORM_DEV_WWW_TIP_CARD_QP:11844,OCULUS_DEV_MULTI_PLATFORM_DEVELOPER_ONBOARDING_QP:11907,OCULUS_DEV_MULTI_PLATFORM_DIALOG_QP:11853,OCULUS_DEV_MULTI_PLATFORM_EMAIL_NOTIFICATION_QP:11900,OCULUS_DEV_MULTI_PLATFORM_FEATURED_PACKAGES_QP:11845,OCULUS_DEV_MULTI_PLATFORM_GDPR_INTERSTITIAL_QP:11912,OCULUS_DEV_MULTI_PLATFORM_GUIDE_BAR_QP:11892,OCULUS_DEV_MULTI_PLATFORM_GUIDED_ACTIONS_QP:11918,OCULUS_DEV_MULTI_PLATFORM_HOME_INTERSTITIAL_QP:11854,OCULUS_DEV_MULTI_PLATFORM_HOME_TOOLTIP_QP:11864,OCULUS_DEV_MULTI_PLATFORM_HORIZON_INTERSTITIAL_QP:11866,OCULUS_DEV_MULTI_PLATFORM_HORIZON_MEGAPHONE_QP:11867,OCULUS_DEV_MULTI_PLATFORM_LIBRARY_MEGAPHONE_TEST_QP:11901,OCULUS_DEV_MULTI_PLATFORM_LIVINGROOM_TOOLTIP_QP:11856,OCULUS_DEV_MULTI_PLATFORM_LVINGROOM_SNACKBAR_QP:11855,OCULUS_DEV_MULTI_PLATFORM_MEDIA_STUDIO_LIBRARY_QP:11905,OCULUS_DEV_MULTI_PLATFORM_MEGAPHONE_STICKER_QP:11840,OCULUS_DEV_MULTI_PLATFORM_MOBILE_STORE_SALE_QP:11877,OCULUS_DEV_MULTI_PLATFORM_MODALDIALOG_QP:11914,OCULUS_DEV_MULTI_PLATFORM_MQDH_RELEASE_NOTES_QP:11843,OCULUS_DEV_MULTI_PLATFORM_NEWS_HIGHLIGHT_QP:11846,OCULUS_DEV_MULTI_PLATFORM_OCULUS_EXPLORE_ARTICLES_FOR_QUEST_QP:11872,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_EXPLORE_GO_SURVEY_QP:11869,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_EXPLORE_GO_TIP_QP:11870,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_EXPLORE_MOBILE_HERO_QP:11871,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_EXPLORE_QUEST_HERO_QP:11873,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_EXPLORE_QUEST_MEGAPHONE_QP:11858,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_EXPLORE_QUEST_NOTE_QP:11906,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_EXPLORE_QUEST_PREPENDED_STORY_QP:11860,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_EXPLORE_QUEST_TIP_QP:11874,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_GO_GEAR_BOOSTING_QP:11868,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_STORE_QUEST_HERO_UNITS_QP:11909,OCULUS_DEV_MULTI_PLATFORM_OCULUS_LOGIN_INTERSTITIAL_QP:11839,OCULUS_DEV_MULTI_PLATFORM_OCULUS_MOBILE_STORE_NEW_AND_UPDATED_QP:11876,OCULUS_DEV_MULTI_PLATFORM_OCULUS_MOBILE_STORE_SPOTLIGHT_QP:11913,OCULUS_DEV_MULTI_PLATFORM_OCULUS_PROMOTION_ENGINE_QUEST_BUDGETED_FEED_QP:11857,OCULUS_DEV_MULTI_PLATFORM_OCULUS_PROMOTION_ENGINE_TWILIGHT_GO_STORE_SPOTLIGHT_QP:11886,OCULUS_DEV_MULTI_PLATFORM_OCULUS_PROMOTION_ENGINE_TWILIGHT_QUEST_BUDGETED_FEED_QP:11887,OCULUS_DEV_MULTI_PLATFORM_OCULUS_PROMOTION_ENGINE_TWILIGHT_QUEST_STORE_SPOTLIGHT_QP:11890,OCULUS_DEV_MULTI_PLATFORM_OCULUS_QUEST_HOME_MEDIA_TIP_QP:11859,OCULUS_DEV_MULTI_PLATFORM_OCULUS_QUEST_STORE_NEW_AND_UPDATED_QP:11878,OCULUS_DEV_MULTI_PLATFORM_OCULUS_QUEST_STORE_NEW_USER_SPOTLIGHT_QP:11911,OCULUS_DEV_MULTI_PLATFORM_OCULUS_QUEST_STORE_SPOTLIGHT_QP:11880,OCULUS_DEV_MULTI_PLATFORM_OCULUS_RIFT_STORE_NEW_AND_UPDATED_QP:11881,OCULUS_DEV_MULTI_PLATFORM_OCULUS_RIFT_STORE_RIFT_PICKS_QP:11882,OCULUS_DEV_MULTI_PLATFORM_OCULUS_SKYLINE_LANDING_PAGE_CAROUSEL_QP:11919,OCULUS_DEV_MULTI_PLATFORM_OCULUS_TWILIGHT_FEED_RELEASE_NOTE_QP:11917,OCULUS_DEV_MULTI_PLATFORM_OCULUS_TWILIGHT_GO_FEED_PROMO_QP:11884,OCULUS_DEV_MULTI_PLATFORM_OCULUS_TWILIGHT_GO_FEED_TIP_QP:11885,OCULUS_DEV_MULTI_PLATFORM_OCULUS_TWILIGHT_NOTIFICATIONS_GO_PROMOTIONS_QP:11904,OCULUS_DEV_MULTI_PLATFORM_OCULUS_TWILIGHT_QUEST_FEED_PROMO_QP:11920,OCULUS_DEV_MULTI_PLATFORM_OCULUS_TWILIGHT_QUEST_FEED_TIP_QP:11889,OCULUS_DEV_MULTI_PLATFORM_OCULUS_TWILIGHT_RIFT_FEED_PROMO_QP:11891,OCULUS_DEV_MULTI_PLATFORM_PRODUCTIVITY_SECTION_TIP_QP:11861,OCULUS_DEV_MULTI_PLATFORM_PROMOTION_ENGINE_QUEST_NEW_USER_VR_FEED_HERO_QP:11875,OCULUS_DEV_MULTI_PLATFORM_QUEST_AUI_TOOLTIP_QP:11893,OCULUS_DEV_MULTI_PLATFORM_QUEST_NEW_USER_TWILIGHT_FEED_HERO_QP:11888,OCULUS_DEV_MULTI_PLATFORM_QUEST_NOTIFICATION_QP:11903,OCULUS_DEV_MULTI_PLATFORM_QUEST_STORE_SALE_QP:11879,OCULUS_DEV_MULTI_PLATFORM_RAPID_FEEDBACK_QP:11848,OCULUS_DEV_MULTI_PLATFORM_RECOMMENDATION_BANNER_QP:11851,OCULUS_DEV_MULTI_PLATFORM_RIFT_STORE_SALE_QP:11915,OCULUS_DEV_MULTI_PLATFORM_RIFT_STORE_SPOTLIGHT_QP:11883,OCULUS_DEV_MULTI_PLATFORM_SAVED_ROUTES_RECOMMENDATION_QP:11852,OCULUS_DEV_MULTI_PLATFORM_SECURE_OCULUS_WEB_SETTINGS_INTERSTITIAL_QP:11894,OCULUS_DEV_MULTI_PLATFORM_SNACKBAR_QP:11898,OCULUS_DEV_MULTI_PLATFORM_SURVEY_QP:11862,OCULUS_DEV_MULTI_PLATFORM_TEST_SURFACE_QP:11895,OCULUS_DEV_MULTI_PLATFORM_TOAST_QP:11863,OCULUS_DEV_MULTI_PLATFORM_TWILIGHT_INTERSTITIAL_QP:11896,OCULUS_DEV_MULTI_PLATFORM_TWILIGHT_MEGAPHONE_QP:11897,OCULUS_DEV_MULTI_PLATFORM_TWILIGHT_PUSH_NOTIFICATION_QP:11916,OCULUS_DEV_MULTI_PLATFORM_TWILIGHT_TOOLTIP_QP:11899,WRIST_DEVICE_MULTI_PLATFORM_PUSH_NOTIFICATION_QP:11902,OCULUS_HOME_QUEST_LOGIN_INTERSTITIAL_QP:12121,OCULUS_META_AUTH_WWW_FRLM_META_LOGIN_INTERSTITIAL_QP:12018,WHATSAPP_FOR_SMB_WEB_BUSINESS_HOME_CARD_QP:12015,OCULUS_META_ACCOUNTS_CENTER_WWW_META_LOGIN_INTERSTITIAL_QP:12014,OCULUS_META_QUEST_WWW_META_LOGIN_INTERSTITIAL_QP:12013,WHATSAPP_FOR_IOS_PAYMENTS_HOME_BANNERS_QP:11992,WHATSAPP_FOR_ANDROID_PAYMENTS_HOME_BANNERS_QP:11993,WHATSAPP_MULTI_PLATFORM_PAYMENTS_HOME_BANNERS_QP:11991,WHATSAPP_FOR_SMB_WEB_WHATSAPP_EDIT_PROFILE_BANNER_QP:11960,WHATSAPP_FOR_SMBA_WHATSAPP_EDIT_PROFILE_BANNER_QP:11962,WHATSAPP_FOR_SMBI_WHATSAPP_EDIT_PROFILE_BANNER_QP:11961,WHATSAPP_MULTI_PLATFORM_WHATSAPP_EDIT_PROFILE_BANNER_QP:11959,PAGES_MANAGER_FOR_ANDROID_TOOLTIP_QP:11939,PAGES_MANAGER_FOR_IOS_TOOLTIP_QP:11938,PAGES_MANAGER_MULTI_PLATFORM_TOOLTIP_QP:11940,OCULUS_META_WWW_OCULUS_SECURE_LOGIN_INTERSTITIAL_QP:11934,STORE_METAQUEST_INTERSTITIAL_QP:11932,STORE_METAQUEST_MULTI_PLATFORM_INTERSTITIAL_QP:11933,OCULUS_DEV_WWW_DEVELOPER_DASHBOARD_LEGAL_NOTICE_QP:11929,OCULUS_DEV_MULTI_PLATFORM_DEVELOPER_DASHBOARD_LEGAL_NOTICE_QP:11930,WEARABLE_APP_ANDROID_LOGIN_INTERSTITIAL_QP:11743,WEARABLE_APP_MULTI_PLATFORM_LOGIN_INTERSTITIAL_QP:11742,WEARABLE_APP_IOS_LOGIN_INTERSTITIAL_QP:11741,WEARABLE_APP_ANDROID_META_AI_PROMPT_FEED_QP:12313,WEARABLE_APP_IOS_META_AI_PROMPT_FEED_QP:12312,WEARABLE_APP_MULTI_PLATFORM_META_AI_PROMPT_FEED_QP:12311,WEARABLE_APP_MULTI_PLATFORM_EMAIL_NOTIFICATION_QP:12372,WEARABLE_APP_OFFSITE_EMAIL_NOTIFICATION_QP:12384,INSTAGRAM_FOR_IOS_PRE_LOGOUT_ACTION_QP:12704,INSTAGRAM_MULTI_PLATFORM_PRE_LOGOUT_ACTION_QP:12703,WEARABLE_APP_ANDROID_WEARABLES_CONTEXTUAL_UPSELL_SURFACE_QP:12695,WEARABLE_APP_IOS_WEARABLES_CONTEXTUAL_UPSELL_SURFACE_QP:12696,WEARABLE_APP_MULTI_PLATFORM_WEARABLES_CONTEXTUAL_UPSELL_SURFACE_QP:12694,OCULUS_META_WWW_SPARK_LOGIN_INTERSTITIAL_QP:11750,OCULUS_META_WWW_HORIZON_LOGIN_INTERSTITIAL_QP:11749,OCULUS_TWILIGHT_IOS_LOGIN_INTERSTITIAL_QP:11739,OCULUS_MULTI_PLATFORM_TWILIGHT_LOGIN_INTERSTITIAL_QP:11736,OCULUS_TWILIGHT_ANDROID_LOGIN_INTERSTITIAL_QP:11735,WHATSAPP_MULTI_PLATFORM_NATIVE_ADS_LOADER_SCREEN_QP:11734,FACEBOOK_WWW_LIVE_PRODUCER_TOOLTIP_QP:12101,FACEBOOK_MULTI_PLATFORM_LIVE_PRODUCER_TOOLTIP_QP:12100,FACEBOOK_FOR_IOS_LIVE_SHOPPING_PINNED_PRODUCTS_BUTTON_SPARKLE_ANIMATION_QP:12167,FACEBOOK_FOR_ANDROID_LIVE_SHOPPING_PINNED_PRODUCTS_BUTTON_SPARKLE_ANIMATION_QP:12166,FACEBOOK_MULTI_PLATFORM_LIVE_SHOPPING_PINNED_PRODUCTS_BUTTON_SPARKLE_ANIMATION_QP:12165,WHATSAPP_FOR_SMBA_NATIVE_ADS_LOADER_SCREEN_QP:11733,WHATSAPP_MULTI_PLATFORM_NATIVE_ADS_EXPLAINER_SCREEN_QP:11731,WHATSAPP_FOR_SMBA_NATIVE_ADS_EXPLAINER_SCREEN_QP:11732,OCULUS_DEV_WWW_LOGIN_INTERSTITIAL_QP:11727,WHATSAPP_MULTI_PLATFORM_WHATSAPP_NATIVE_ADS_NUX_SCREEN_QP:11722,WHATSAPP_FOR_SMBA_WHATSAPP_NATIVE_ADS_NUX_SCREEN_QP:11723,WHATSAPP_FOR_SMBI_WHATSAPP_NATIVE_ADS_NUX_SCREEN_QP:12005,OCULUS_WWW_LOGIN_INTERSTITIAL_QP:11720,ADS_EVENTS_MANAGER_MULTI_PLATFORM_DATASET_OVERVIEW_PAGE_GUIDANCE_CARD_QP:11719,ADS_EVENTS_MANAGER_WWW_DATASET_OVERVIEW_PAGE_GUIDANCE_CARD_QP:11718,OCULUS_MULTI_PLATFORM_META_LOGIN_INTERSTITIAL_QP:11708,OCULUS_META_WWW_LOGIN_INTERSTITIAL_QP:11717,FACEBOOK_MULTI_PLATFORM_COMMENTING_TIP_QP:11694,FACEBOOK_WWW_COMMENTING_TIP_QP:11693,FACEBOOK_MULTI_PLATFORM_FUNDRAISERS_HUB_MEGAPHONE_QP:11535,FACEBOOK_WWW_FUNDRAISERS_HUB_MEGAPHONE_QP:11537,FACEBOOK_MULTI_PLATFORM_BIRTHDAY_CENTER_MEGAPHONE_QP:11532,FACEBOOK_WWW_BIRTHDAY_CENTER_MEGAPHONE_QP:11533,OCULUS_TWILIGHT_TWILIGHT_VR_EXPLORE_ANNOUNCEMENTS_QP:11521,WHATSAPP_FOR_WEB_GROUPSBANNER_QP:11525,WHATSAPP_FOR_WEB_PROFILEBANNER_QP:11522,WRIST_DEVICE_PUSH_NOTIFICATION_QP:11520,OCULUS_DEV_MULTI_PLATFORM_TWILIGHT_VR_EXPLORE_ANNOUNCEMENTS_QP:11519,OCULUS_HOME_TWILIGHT_VR_EXPLORE_ANNOUNCEMENTS_QP:11518,WHATSAPP_FOR_ANDROID_PROFILE_QP_BANNER_SURFACE_QP:11515,WHATSAPP_FOR_IOS_PROFILE_QP_BANNER_SURFACE_QP:11516,WHATSAPP_MULTI_PLATFORM_PROFILE_QP_BANNER_SURFACE_QP:11517,WHATSAPP_FOR_SMBI_BUSINESS_HOME_CARD_QP:11507,WHATSAPP_FOR_SMBA_BUSINESS_HOME_CARD_QP:11506,FBLITE_MULTIPLE_LINES_TITLE_FOOTER_BANNER_QP:11505,MESSENGER_FOR_ANDROID_GAME_RECOMMENDATION_CHAT_ENTITY_QP:11501,MESSENGER_FOR_IOS_GAME_RECOMMENDATION_CHAT_ENTITY_QP:11499,MESSENGER_MULTI_PLATFORM_GAME_RECOMMENDATION_CHAT_ENTITY_QP:11500,WHATSAPP_MULTI_PLATFORM_BUSINESS_HOME_CARD_QP:11503,FACEBOOK_FOR_ANDROID_MIB_INBOX_TOOLTIP_QP:11491,FACEBOOK_FOR_IOS_MIB_INBOX_TOOLTIP_QP:11492,FACEBOOK_MULTI_PLATFORM_MIB_INBOX_TOOLTIP_QP:11490,INSTAGRAM_FOR_ANDROID_LOGIN_INTERSTITIAL_QP:11483,INSTAGRAM_FOR_IOS_LOGIN_INTERSTITIAL_QP:11484,INSTAGRAM_CARBON_LOGIN_INTERSTITIAL_QP:11740,INSTAGRAM_MULTI_PLATFORM_LOGIN_INTERSTITIAL_QP:11482,MESSENGER_FOR_IOS_LOGIN_INTERSTITIAL_QP:11481,MESSENGER_FOR_ANDROID_LOGIN_INTERSTITIAL_QP:11480,MESSENGER_MULTI_PLATFORM_LOGIN_INTERSTITIAL_QP:11479,WHATSAPP_FOR_SMB_WEB_WHATSAPP_SMB_WEB_CHATLIST_BANNER_QP:11478,AD_LIBRARY_WWW_AD_LIBRARY_QP:11477,AD_LIBRARY_MULTI_PLATFORM_AD_LIBRARY_QP:11538,WEARABLE_APP_MULTI_PLATFORM_MODAL_QP:11455,WEARABLE_APP_ANDROID_MODAL_QP:11454,FACEBOOK_FOR_ANDROID_MARKETPLACE_COMPOSER_BOTTOM_SHEET_QP:11443,FACEBOOK_FOR_IOS_MARKETPLACE_COMPOSER_BOTTOM_SHEET_QP:11444,FACEBOOK_MULTI_PLATFORM_MARKETPLACE_COMPOSER_BOTTOM_SHEET_QP:11442,FACEBOOK_FOR_ANDROID_CREATIVE_PLAYGROUND_UNIT_QP:11430,FACEBOOK_FOR_IOS_CREATIVE_PLAYGROUND_UNIT_QP:11431,FACEBOOK_MULTI_PLATFORM_CREATIVE_PLAYGROUND_UNIT_QP:11432,WHATSAPP_FOR_ANDROID_QPMULTIPLATFORMWHATSAPPGROUPSBANNERSURFACE_QP:11435,WHATSAPP_FOR_IOS_QPMULTIPLATFORMWHATSAPPGROUPSBANNERSURFACE_QP:11433,WHATSAPP_MULTI_PLATFORM_QPMULTIPLATFORMWHATSAPPGROUPSBANNERSURFACE_QP:11434,FACEBOOK_FOR_ANDROID_SELLING_ACTIVITY_FEED_UNIT_VIDEOS_UPSELL_QP:11440,FACEBOOK_FOR_IOS_SELLING_ACTIVITY_FEED_UNIT_VIDEOS_UPSELL_QP:11441,FACEBOOK_MULTI_PLATFORM_SELLING_ACTIVITY_FEED_UNIT_VIDEOS_UPSELL_QP:11439,WEARABLE_APP_MULTI_PLATFORM_MODAL_UPSELL_QP:11419,WEARABLE_APP_ANDROID_MODAL_UPSELL_QP:11418,FACEBOOK_FOR_ANDROID_REELS_VIEWER_FOOTER_QP:11415,FACEBOOK_FOR_IOS_REELS_VIEWER_FOOTER_QP:11416,FACEBOOK_MULTI_PLATFORM_REELS_VIEWER_FOOTER_QP:11417,FACEBOOK_FOR_ANDROID_ON_DEMAND_INTERSTITIAL_QP:11406,FACEBOOK_FOR_IOS_ON_DEMAND_INTERSTITIAL_QP:11407,FACEBOOK_MULTI_PLATFORM_ON_DEMAND_INTERSTITIAL_QP:11408,FACEBOOK_VR_INTERSTITIAL_QP:12361,FACEBOOK_VR_REACT_NATIVE_TOOLTIP_QP:12437,FACEBOOK_VR_FEED_UNIT_QP:12619,FACEBOOK_WWW_CONTEXTUAL_MESSAGE_QP:11366,FACEBOOK_FOR_IOS_COMMUNITY_MESSAGING_IN_BLUE_THREAD_VIEW_BANNER_QP:11367,MESSENGER_MULTI_PLATFORM_PRELOADS_DISCLAIMER_QP:11364,MESSENGER_FOR_ANDROID_PRELOADS_DISCLAIMER_QP:11365,COMMERCE_MANAGER_WWW_CATALOG_UI_QP:11320,FACEBOOK_WWW_COMMERCE_MANAGER_CATALOG_SETS_TAB_QP:11314,WEARABLE_APP_MULTI_PLATFORM_AR_BOTTOM_SHEET_QP:11305,WEARABLE_APP_IOS_AR_BOTTOM_SHEET_QP:11293,WEARABLE_APP_ANDROID_AR_BOTTOM_SHEET_QP:11294,OCULUS_DEV_MULTI_PLATFORM_MODAL_DIALOG_QP:11299,OCULUS_AUI_MODAL_DIALOG_QP:11300,MESSENGER_MULTI_PLATFORM_BUSINESS_CONVERSATION_THREAD_VIEW_QP:11297,MESSENGER_FOR_ANDROID_BUSINESS_CONVERSATION_THREAD_VIEW_QP:11298,MESSENGER_FOR_WEB_CM_CHANNEL_CHAT_TAB_THREAD_QP:11255,FACEBOOK_FOR_ANDROID_REELS_VDD_QP:11229,FACEBOOK_FOR_IOS_REELS_VDD_QP:11230,FACEBOOK_MULTI_PLATFORM_REELS_VDD_QP:11228,INSTAGRAM_MULTI_PLATFORM_BOTTOM_SHEET_QP:11223,INSTAGRAM_FOR_IOS_BOTTOM_SHEET_QP:11224,INSTAGRAM_FOR_ANDROID_BOTTOM_SHEET_QP:11383,FACEBOOK_MULTI_PLATFORM_FB4A_STORY_DUAL_CAMERA_DOT_QP:11173,FACEBOOK_FOR_ANDROID_FB4A_STORY_DUAL_CAMERA_DOT_QP:11172,FACEBOOK_FOR_ANDROID_MULTIPLE_LINES_TITLE_FOOTER_BANNER_QP:11213,FACEBOOK_FOR_IOS_MULTIPLE_LINES_TITLE_FOOTER_BANNER_QP:11214,FACEBOOK_MULTI_PLATFORM_MULTIPLE_LINES_TITLE_FOOTER_BANNER_QP:11186,FACEBOOK_FOR_IOS_FB_MESSENGER_INBOX_FOOTER_QP:12003,FACEBOOK_FOR_ANDROID_FB_MESSENGER_INBOX_FOOTER_QP:12002,FBLITE_FB_MESSENGER_INBOX_FOOTER_QP:12004,FACEBOOK_MULTI_PLATFORM_FB_MESSENGER_INBOX_FOOTER_QP:12001,FACEBOOK_MULTI_PLATFORM_PRELOADS_DISCLAIMER_DIALOG_QP:11163,FACEBOOK_FOR_ANDROID_PRELOADS_DISCLAIMER_DIALOG_QP:11164,FBLITE_NOTIFICATIONS_BANNER_QP:11119,FACEBOOK_FOR_ANDROID_GROUP_MALL_ENTITY_MENU_QP:11105,FACEBOOK_FOR_IOS_GROUP_MALL_ENTITY_MENU_QP:11107,FACEBOOK_MULTI_PLATFORM_GROUP_MALL_ENTITY_MENU_QP:11106,FACEBOOK_FOR_ANDROID_GROUP_CUSTOM_REACTIONS_DEFAULT_ENTRY_POINT_QP:11091,FACEBOOK_FOR_IOS_GROUP_CUSTOM_REACTIONS_DEFAULT_ENTRY_POINT_QP:11090,FACEBOOK_FOR_WWW_CUSTOM_REACTIONS_DEFAULT_ENTRY_POINT_QP:11089,MESSENGER_LIGHTSPEED_FOR_IOS_UNIVERSAL_SEARCH_NULLSTATE_QP:11034,FACEBOOK_WWW_CM_TAB_TOUR_POPOVER_QP:11027,ADS_EVENTS_MANAGER_WWW_OVERVIEW_PAGE_FEATURE_ONBOARDING_QP:11033,ADS_EVENTS_MANAGER_WWW_CC_EM_RULE_REQUIRED_FOR_CE_NUX_QP:11363,ADS_EVENTS_MANAGER_WWW_OFFLINE_CONSOLIDATION_UPSELL_QP:11394,FACEBOOK_FOR_ANDROID_FB_COMMENT_DOUBLE_TAP_TOOLTIP_2_QP:12091,FACEBOOK_FOR_IOS_FB_COMMENT_DOUBLE_TAP_TOOLTIP_2_QP:12090,FBLITE_FB_COMMENT_DOUBLE_TAP_TOOLTIP_2_QP:12092,FACEBOOK_MULTI_PLATFORM_FB_COMMENT_DOUBLE_TAP_TOOLTIP_2_QP:12089,FACEBOOK_FOR_ANDROID_FB_COMMENT_SETTING_CREATION_TOOLTIP_QP:12355,FACEBOOK_FOR_IOS_FB_COMMENT_SETTING_CREATION_TOOLTIP_QP:12354,FBLITE_FB_COMMENT_SETTING_CREATION_TOOLTIP_QP:12356,FACEBOOK_MULTI_PLATFORM_FB_COMMENT_SETTING_CREATION_TOOLTIP_QP:12353,FACEBOOK_FOR_IOS_FB_COMMENT_DOWNVOTE_UFI_TOOLTIP_QP:12507,FACEBOOK_FOR_ANDROID_FB_COMMENT_DOWNVOTE_UFI_TOOLTIP_QP:12508,FACEBOOK_MULTI_PLATFORM_FB_COMMENT_DOWNVOTE_UFI_TOOLTIP_QP:12506,WORKPLACE_FOR_WWW_TOOLTIP_QP:11037,WORKPLACE_FOR_IOS_TOOLTIP_QP:11009,WORKPLACE_MULTI_PLATFORM_TOOLTIP_QP:11008,WORKPLACE_FOR_ANDROID_TOOLTIP_QP:11007,WORKPLACE_FOR_WWW_NOTES_QP:11025,FACEBOOK_MULTI_PLATFORM_STORY_SHARE_TO_FEED_COMPOSER_EDUCATION_QP:10954,FACEBOOK_FOR_IOS_STORY_SHARE_TO_FEED_COMPOSER_EDUCATION_QP:10953,MESSENGER_FOR_ANDROID_GUIDANCE_TEXT_QP:12115,MESSENGER_LIGHTSPEED_FOR_IOS_GUIDANCE_TEXT_QP:12116,MESSENGER_MULTI_PLATFORM_GUIDANCE_TEXT_QP:12114,FACEBOOK_FOR_ANDROID_WATCH_FEED_CHAINING_QP:10986,FACEBOOK_FOR_IOS_WATCH_FEED_CHAINING_QP:10985,FACEBOOK_MULTI_PLATFORM_WATCH_FEED_CHAINING_QP:10987,FACEBOOK_FOR_ANDROID_NEWSFEED_VIDEO_CHAINING_QP:10983,FACEBOOK_FOR_IOS_NEWSFEED_VIDEO_CHAINING_QP:10984,FACEBOOK_MULTI_PLATFORM_NEWSFEED_VIDEO_CHAINING_QP:10982,FACEBOOK_FOR_ANDROID_CONTEXTUAL_MESSAGE_QP:10936,FACEBOOK_FOR_IOS_CONTEXTUAL_MESSAGE_QP:10934,FACEBOOK_MULTI_PLATFORM_CONTEXTUAL_MESSAGE_QP:10935,MESSENGER_FOR_ANDROID_MESSENGER_GUIDE_CHAT_ENTITY_QP:10944,MESSENGER_FOR_IOS_MESSENGER_GUIDE_CHAT_ENTITY_QP:10943,MESSENGER_MULTI_PLATFORM_MESSENGER_GUIDE_CHAT_ENTITY_QP:10945,FACEBOOK_FOR_WWW_COMPOSER_SPROUT_QP:10949,FACEBOOK_FOR_ANDROID_COMPOSER_SPROUT_QP:10910,FACEBOOK_FOR_IOS_COMPOSER_SPROUT_QP:10911,FACEBOOK_MULTI_PLATFORM_COMPOSER_SPROUT_QP:10912,IOS_INTERSTITIAL_QP:1817,ANDROID_INTERSTITIAL_QP:1818,IOS_FOOTER_QP:1819,ANDROID_FOOTER_QP:1820,IOS_NEWSFEED_MEGAPHONE_QP:1821,IOS_NEWSFEED_MEGAPHONE_PAD_QP:3596,ANDROID_NEWSFEED_MEGAPHONE_QP:1822,ANDROID_MESSAGES_INTERSTITIAL_QP:1957,IOS_MESSAGES_INTERSTITIAL_QP:2015,IOS_MSGR_INTERSTITIAL_QP:2400,ANDROID_MSGR_INTERSTITIAL_QP:2415,IOS_WEBVIEW_BANNER_QP:2423,IOS_INTERSTITIAL_PAD_QP:2766,IOS_MSGR_INTERSTITIAL_PAD_QP:2776,IOS_NEWSFEED_QP:2796,ANDROID_NEWSFEED_QP:2798,FBLITE_NEWSFEED_QP:4347,IOS_PAGES_MANAGER_INTERSTITIAL_QP:2840,IOS_PAGES_MANAGER_MEGAPHONE_QP:2942,ANDROID_PAGES_MANAGER_INTERSTITIAL_QP:2897,IOS_SEARCH_NULL_STATE_MEGAPHONE_QP:2989,IOS_MESSENGER_NEW_THREAD_NUX:4219,ANDROID_MESSENGER_THREAD_LIST_QP:3543,ANDROID_MESSENGER_THREAD_VIEW_QP:3545,ANDROID_MESSENGER_CALL_TAB_QP:4828,MESSENGER_FOR_ANDROID_FRIENDS_TAB_MEGAPHONE_QP:7615,IOS_IPAD_SEARCH_NULL_STATE_MEGAPHONE_QP:3182,ANDROID_SEARCH_NULL_STATE_MEGAPHONE_QP:3191,ANDROID_SEARCH_BAR_TOOLTIP:3877,IOS_FEED_PYMK_QP:3221,ANDROID_FEED_PYMK_QP:3279,IOS_TOAST_FOOTER_QP:3225,ANDROID_TOAST_FOOTER_QP:3248,WORKPLACE_ANDROID_NEWSFEED_MEGAPHONE_QP:3332,IOS_MEDIA_SERP_MEGAPHONE_QP:3738,IOS_EVENTS_GUESTLIST_QP:3583,MESSENGER_FOR_ANDROID_ARMADILLO_THREAD_VIEW_QP:10438,MESSENGER_FOR_WEB_LIGHTSPEED_THREAD_VIEW_QP:12348,MESSENGER_FOR_ANDROID_MSYS_THREAD_LIST_SURFACE_QP:11155,MESSENGER_FOR_ANDROID_MSYS_INTERSTITIAL_SURFACE_QP:11152,MESSENGER_FOR_ANDROID_MSYS_THREAD_VIEW_SURFACE_QP:11154,MESSENGER_FOR_ANDROID_ME_SETTINGS_BANNER_QP:10508,FACEBOOK_MULTI_PLATFORM_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:10536,FACEBOOK_FOR_IOS_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:10550,FACEBOOK_FOR_ANDROID_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:10551,INSTAGRAM_MULTI_PLATFORM_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:10538,INSTAGRAM_FOR_IOS_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:10552,INSTAGRAM_FOR_ANDROID_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:10553,MESSENGER_FOR_IOS_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:10539,MESSENGER_FOR_ANDROID_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:10540,FACEBOOK_MULTI_PLATFORM_DIGITAL_COLLECTIBLES_TAB_MEGAPHONE_QP:10670,FACEBOOK_FOR_IOS_DIGITAL_COLLECTIBLES_TAB_MEGAPHONE_QP:10679,FACEBOOK_FOR_ANDROID_DIGITAL_COLLECTIBLES_TAB_MEGAPHONE_ON_FB4A_QP:10680,INSTAGRAM_FOR_IOS_DIGITAL_COLLECTIBLES_TAB_MEGAPHONE_QP:10681,INSTAGRAM_FOR_ANDROID_DIGITAL_COLLECTIBLES_TAB_MEGAPHONE_QP:10682,INSTAGRAM_MULTI_PLATFORM_DIGITAL_COLLECTIBLES_TAB_MEGAPHONE_QP:10683,FACEBOOK_WWW_DIGITAL_COLLECTIBLES_TAB_MEGAPHONE_QP:10710,CROSS_PLATFORM_MEGAPHONE_QP:3231,CROSS_PLATFORM_NEWSFEED_QP:3337,CROSS_PLATFORM_FOOTER_QP:4937,CROSS_PLATFORM_INTERSTITIAL_QP:4938,WORKPLACE_IOS_MEGAPHONE_QP:3335,WORKPLACE_IOS_INTERSTITIAL:3321,WORKPLACE_IOS_NEWSFEED_UNIT_QP:5361,WORKPLACE_MULTI_PLATFORM_FEED_UNIT_QP:5471,WORKPLACE_WWW_FEED_UNIT_QP:5529,WORKPLACE_WWW_ONBOARDING_CARD_QP:7424,WORKPLACE_MSITE_FEED_UNIT_QP:5678,FACEBOOK_FOR_WINDOWS_MEGAPHONE_QP:3840,FACEBOOK_FOR_MAC_MEGAPHONE_QP:3841,FACEBOOK_FOR_WINDOWS_FEED_UNIT_QP:4210,FACEBOOK_FOR_MAC_FEED_UNIT_QP:4211,FACEBOOK_FOR_WINPHONE_NEWSFEED_MEGAPHONE_QP:6956,FACEBOOK_MULTI_PLATFORM_OCULUS_PERMALINK_QP:6864,FACEBOOK_FOR_ANDROID_OCULUS_PERMALINK_QP:6869,FACEBOOK_FOR_IOS_OCULUS_PERMALINK_QP:6870,FACEBOOK_WWW_OCULUS_PERMALINK_QP:6910,FACEBOOK_MULTI_PLATFORM_UNDER_STORY_AUTO_PIVOT_QP:8671,FACEBOOK_FOR_ANDROID_AUTO_PIVOT_QP:8721,FACEBOOK_FOR_IOS_AUTO_PIVOT_QP:8722,FACEBOOK_MULTI_PLATFORM_EVENTS_TAB_QP:9780,FACEBOOK_FOR_IOS_EVENTS_TAB_QP:9823,FACEBOOK_FOR_ANDROID_EVENTS_TAB_QP:9824,M_NEWSFEED_MEGAPHONE_QP:2201,M_LOGIN_BANNER_QP:2275,M_FULLPAGE_INTERSTITIAL_QP:2289,M_JEWEL_INTERSTITIAL_QP:3382,M_JEWEL_FOOTER_QP:2443,M_JEWEL_HEADER_QP:2764,M_FOOTER_QP:2762,M_NEWSFEED_QP:2797,M_PHOTO_OPEN_INTERSTITIAL_QP:2946,M_SEARCH_NULL_STATE_MEGAPHONE_QP:3052,FACEBOOK_MSITE_MODAL_DIALOG_QP:5669,FACEBOOK_MSITE_BROWSER_PERMISSION_QP:5783,FBLITE_MEGAPHONE_QP:3306,FBLITE_INTERSTITIAL_QP:4661,FBLITE_FOOTER_QP:5570,FBLITE_MESSENGER_MEGAPHONE_QP:10711,FBLITE_THREAD_VIEW_BANNER_QP:10923,MESSENGER_LITE_BURRITO_INBOX_QP_MEGAPHONE_QP:9537,WWW_NEWSFEED_MEGAPHONE_QP:2646,WWW_NEWSFEED_QP:3081,WWW_INTERSTITIAL_QP:3394,FACEBOOK_WWW_RHC_QP:6113,WORKPLACE_WWW_RHC_QP:6493,FACEBOOK_MULTI_PLATFORM_EGO_CUSTOM_SURFACE_QP:6452,FACEBOOK_WWW_CUSTOM_EGO_QP:6489,PP_MEGAPHONE_QP:2852,IORG_APP_MEGAPHONE_QP:3064,IORG_WEB_MEGAPHONE_QP:3075,IORG_WEB_INTERSITIAL:4890,INTERNET_ORG_WEB_FBSV2_MEGAPHONE_FOR_LOGGED_OUT_USERS_QP:7275,INTERN_QP_DASH_QP:3294,INTERN_INTERNAL_TOOL_QP:3957,MESSENGER_FOR_WEB_CALL_VIEW_QP:6846,FACEBOOK_WWW_INBOX_THREAD_LIST_BANNER_QP:8783,MESSENGER_FOR_WEB_BUSINESS_SUPPORT_FOLDER_THREAD_LIST_BANNER_QP:10951,FACEBOOK_WWW_PUBLIC_CHAT_NUX_QP:10975,MESSENGER_FOR_WEB_CM_CHANNEL_THREAD_VIEW_QP:10999,MESSENGER_FOR_ANDROID_UNIVERSAL_SEARCH_QUERY_STATE_QP:12292,MESSENGER_LIGHTSPEED_FOR_IOS_UNIVERSAL_SEARCH_QUERY_STATE_QP:12291,MESSENGER_MULTI_PLATFORM_UNIVERSAL_SEARCH_QUERY_STATE_QP:12290,WWW_JEWEL_QP:3565,FACEBOOK_WWW_SIDEBAR_CONTACTS_BUCKET_QP:7834,WORKPLACE_WWW_MEGAPHONE_QP:3934,MSITE_BOOKMARKS:3969,FACEBOOK_FOR_IOS_BOOKMARK_QP:5424,FACEBOOK_FOR_ANDROID_BOOKMARK_QP:5429,FACEBOOK_MULTI_PLATFORM_BOOKMARK_QP:5431,FBLITE_BOOKMARK_PROMO_FBLITE_QP:7431,FACEBOOK_WWW_BOOKMARK_QP:8249,MSITE_QP_BANNER:4011,DAILY_DIALOGUE_LIGHTWEIGHT:4014,WWW_DAILY_DIALOGUE_LIGHTWEIGHT:4019,IOS_DAILY_DIALOGUE_LIGHTWEIGHT:4025,ANDROID_DAILY_DIALOGUE_LIGHTWEIGHT:4026,MSITE_DAILY_DIALOG_LIGHTWEIGHT:4121,FBLITE_LIGHTWEIGHT:4725,MSITE_DIODE_ROADBLOCK_QP:4061,WORKPLACE_ANDROID_INTERSTITIAL_QP:4090,WORKPLACE_ANDROID_TAB_INTERSTITIAL:4099,WORKPLACE_ANDROID_NEWSFEED_QP:4590,WORKPLACE_IOS_TAB_INTERSTITIAL_QP:4100,WORKPLACE_WWW_INTERSTITIAL_QP:4437,WORKPLACE_MSITE_MEGAPHONE_QP:4727,WORKPLACE_IOS_GROUP_FEED_FOOTER:4788,WORKPLACE_CROSS_PLATFORM_MEGAPHONE:5012,WORKPLACE_MSITE_INTERSTITIAL_QP:5261,WORKPLACE_MSITE_STICKY_HEADER_BANNER_QP:5272,WORKPLACE_ANDROID_PROFILE_QP:5422,WORKPLACE_WWW_GROUPS_TOP_OF_MALL_QP:7972,WORKPLACE_MULTI_PLATFORM_INTERSTITIAL_QP:8104,WORKPLACE_MULTI_PLATFORM_TOP_OF_GROUP_MALL_QP:7973,WORKPLACE_FOR_ANDROID_TOP_OF_GROUP_MALL_QP:7946,WORKPLACE_FOR_IOS_TOP_OF_GROUP_MALL_QP:7971,IOS_WORKCHAT_INTERSTITIAL_QP:4143,WORKCHAT_FOR_IOS_WORKSPEED_INBOX_BANNER_QP:7746,WORKPLACE_FOR_IOS_THREAD_LIST_CREATE_FOLDER_BUTTON_TOOLTIP_QP:11990,WORKPLACE_MULTI_PLATFORM_THREAD_LIST_CREATE_FOLDER_BUTTON_TOOLTIP_QP:11989,ANDROID_WORKCHAT_INTERSTITIAL_QP:4144,WORKCHAT_FOR_WWW_BANNER_QP:5497,WORKCHAT_FOR_WWW_THREAD_LIST_QP:8179,ANDROID_WORKCHAT_THREAD_LIST_QP:5411,ANDROID_WORKCHAT_CALL_LOG_SURFACE_QP:5579,PROFILE_TIMELINE_QP:4218,PROFILE_TIMELINE_IOS_QP:4221,PROFILE_TIMELINE_ANDROID_QP:4222,PROFILE_TIMELINE_DESKTOP_QP:4555,PROFILE_DISCOVERY_MULTI_PLATFORM_QP:5753,PROFILE_DISCOVERY_IOS_QP:5752,PROFILE_DISCOVERY_ANDROID_QP:5754,FACEBOOK_MULTI_PLATFORM_PROFILE_PROMPTS_QP:5770,FACEBOOK_FOR_IOS_PROFILE_PROMPTS_QP:5772,FACEBOOK_FOR_ANDROID_PROFILE_PROMPTS_QP:5773,FACEBOOK_FOR_ANDROID_MEMORIALIZED_PROFILE_QP:12151,FACEBOOK_FOR_IOS_MEMORIALIZED_PROFILE_QP:12152,FBLITE_MEMORIALIZED_PROFILE_QP:12150,FACEBOOK_WWW_MEMORIALIZED_PROFILE_QP:12149,FACEBOOK_MULTI_PLATFORM_MEMORIALIZED_PROFILE_QP:12148,FACEBOOK_FOR_ANDROID_GEMSTONE_QP:6820,FACEBOOK_FOR_IOS_GEMSTONE_QP:6821,FACEBOOK_MULTI_PLATFORM_GEMSTONE_QP:6822,FACEBOOK_FOR_ANDROID_DATING_MESSAGE_INBOX_QP:8417,FACEBOOK_FOR_ANDROID_DATING_MESSAGE_THREAD_QP:8441,FACEBOOK_FOR_IOS_DATING_MESSAGE_INBOX_QP:8474,FACEBOOK_FOR_IOS_DATING_MESSAGE_THREAD_QP:8730,FACEBOOK_FOR_ANDROID_DATING_MESSENGER_INBOX_FOOTER_QP:12240,FACEBOOK_FOR_IOS_DATING_MESSENGER_INBOX_FOOTER_QP:12242,FBLITE_DATING_MESSENGER_INBOX_FOOTER_QP:12241,FACEBOOK_MULTI_PLATFORM_DATING_MESSENGER_INBOX_FOOTER_QP:12239,FACEBOOK_FOR_IOS_MEET_NEW_FRIENDS_PROMPT_QP:7095,FACEBOOK_FOR_ANDROID_MEET_NEW_FRIENDS_PROMPT_QP:7097,FACEBOOK_MULTI_PLATFORM_MEET_NEW_FRIENDS_PROMPT_QP:7099,M_LOGGEDOUT_INTERSTITIAL:4247,WWW_TOPIC_FEEDS_MEGAPHONE_QP:4256,MSITE_QP_STICKY_HEADER:4383,MESSENGER_RECENT_THREAD_LIST_QP:4408,IOS_SEARCH_RESULT_MODULES_QP:4640,IOS_REACT_NATIVE_MEGAPHONE_QP:4682,ANDROID_REACT_NATIVE_MEGAPHONE_QP:4683,PAGES_MANAGER_FOR_IOS_REACT_NATIVE_MEGAPHONE_QP:5407,PAGES_MANAGER_FOR_ANDROID_REACT_NATIVE_MEGAPHONE_QP:5408,IOS_SAVE_DASHBOARD_MEGAPHONE_QP:4711,WWW_SAVE_DASHBOARD_MEGAPHONE_QP:4724,FB4A_SAVED_DASH_MEGAPHONE_QP:4726,OCULUS_TEST_SURFACE_QP:4867,OCULUS_PE_HOME_GO_EXPLORE_QP:6291,OCULUS_PE_TWILIGHT_GO_NOTIFICATIONS_QP:6706,OCULUS_PE_HOME_QUEST_STORE_HERO_QP:6731,OCULUS_PE_HOME_QUEST_EXPLORE_HERO_QP:6768,OCULUS_HOME_PE_QUEST_EXPLORE_MEGAPHONE_QP:7928,OCULUS_PE_HOME_QUEST_EXPLORE_TIP_QP:6782,OCULUS_PE_HOME_MOBILE_EXPLORE_HERO_QP:6944,OCULUS_PE_SKYLINE_LP_QP:6834,OCULUS_PE_TWILIGHT_QUEST_FEED_PROMO_QP:6893,OCULUS_PE_TWILIGHT_QUEST_FEED_TIP_QP:6894,OCULUS_PE_TWILIGHT_GO_STORE_SPOTLIGHT_QP:6953,OCULUS_PE_TWILIGHT_QUEST_STORE_SPOTLIGHT_QP:6965,OCULUS_PE_TWILIGHT_RIFT_FEED_PROMO_QP:6962,OCULUS_PE_TWILIGHT_GO_FEED_TIP_QP:6963,OCULUS_PE_HOME_GO_EXPLORE_TIP_QP:6964,OCULUS_PE_HOME_GO_EXPLORE_SURVEY_QP:7048,OCULUS_PE_TWILIGHT_GO_FEED_PROMO_QP:7119,OCULUS_PE_RIFT_STORE_SPOTLIGHT:7121,OCULUS_PE_QUEST_STORE_SPOTLIGHT:7122,OCULUS_PE_MOBILE_STORE_SPOTLIGHT:7123,OCULUS_PE_QUEST_STORE_NEW_AND_UPDATED:7402,OCULUS_PE_RIFT_STORE_NEW_AND_UPDATED:7407,OCULUS_PE_MOBILE_STORE_NEW_AND_UPDATED:7408,OCULUS_PE_RIFT_STORE_RIFT_PICKS:7409,OCULUS_PE_HOME_QUEST_EXPLORE_NOTE_QP:7276,OCULUS_PE_HOME_QUEST_EXPLORE_ARTICLES_QP:7353,OCULUS_PE_TWILIGHT_FEED_RELEASE_NOTE_QP:7404,OCULUS_PE_QUEST_STORE_SALE_QP:7492,OCULUS_PE_RIFT_STORE_SALE_QP:7493,OCULUS_PE_MOBILE_STORE_SALE_QP:7494,OCULUS_HOME_PE_QUEST_BUDGETED_FEED_QP:7395,OCULUS_PE_TWILIGHT_QUEST_BUDGETED_FEED_QP:7509,OCULUS_PE_HOME_QUEST_VR_FEED_HERO_NEW_USER_QP:7579,OCULUS_PE_HOME_QUEST_STORE_SPOTLIGHT_NEW_USER_QP:7580,OCULUS_PE_TWILIGHT_QUEST_FEED_HERO_NEW_USER_QP:7592,OCULUS_HOME_PE_QUEST_MEDIA_FEED_TIP_QP:8560,OCULUS_HOME_PRODUCTIVITY_SECTION_TIP_QP:9892,OCULUS_HOME_INTERSTITIAL_QP:5259,OCULUS_HOME_TOAST_QP:6386,OCULUS_HOME_TOOLTIP_QP:5628,OCULUS_HOME_GDPR_INTERSTITIAL_QP:5643,OCULUS_HOME_SURVEY_QP:6939,OCULUS_HOME_GUIDED_ACTIONS_QP:7777,OCULUS_HOME_PREPENDED_STORY_QP:8226,OCULUS_HORIZON_MEGAPHONE_QP:4916,OCULUS_HORIZON_BOTTOM_NAV_TOOLTIP_QP:5237,OCULUS_HORIZON_INTERSTITIAL_QP:5611,OCULUS_QUEST_AUI_TOOLTIP_QP:7790,OCULUS_QUEST_AUI_GUIDE_BAR:8529,OCULUS_AUI_LIBRARY_TEST_MEGAPHONE_QP:11036,OCULUS_CREATOR_SITE_MEDIA_STUDIO_LIBRARY_QP:8592,OCULUS_HOME_LIVINGROOM_TOOLTIP_QP:8646,OCULUS_HOME_LIVINGROOM_SNACKBAR_QP:8651,OCULUS_AUTH_META_WWW_INTERSTITIAL_QP:11390,OCULUS_SECURE_WWW_SETTINGS_INTERSTITIAL_QP:11391,OCULUS_TWILIGHT_PUSH_NOTIFICATION_QP:6927,OCULUS_WWW_OFFSITE_EMAIL_NOTIFICATION_QP:6836,OCULUS_AUI_QUEST_NOTIFICATION_QP:7988,OCULUS_TWILIGHT_MEGAPHONE_STICKER_QP:11445,OCULUS_TWILIGHT_MEGAPHONE_QP:7049,OCULUS_TWILIGHT_TOOLTIP_QP:7733,OCULUS_TWILIGHT_SNACKBAR_QP:8090,OCULUS_TWILIGHT_INTERSTITIAL_QP:8275,OCULUS_TWILIGHT_DIALOG_QP:8286,OCULUS_FITNESS_TRACKER_DIALOG_QP:10431,OCULUS_DEV_MULTI_PLATFORM_SEV_ALERT_QP:8867,OCULUS_DEV_ODH_SEV_ALERT_QP:8996,OCULUS_DEV_WWW_SEV_ALERT_QP:8998,OCULUS_DEV_MULTI_PLATFORM_TIP_CARD_QP:8892,OCULUS_DEV_MULTI_PLATFORM_ODH_RELEASE_NOTES_QP:8961,OCULUS_DEV_MULTI_PLATFORM_FEATURED_VIDEO_QP:8967,OCULUS_DEV_ODH_NEWS_HIGHLIGHT_QP:9103,OCULUS_DEV_WWW_PUSH_NOTIFICATION_QP:9201,OCULUS_DEV_ODH_PUSH_NOTIFICATION_QP:9210,OCULUS_DEV_WWW_DEV_CENTER_CARD_QP:9453,OCULUS_DEV_WWW_INTERSTITIAL_QP:9483,OCULUS_DEV_WWW_DEV_CENTER_ANNOUNCEMENTS_QP:9595,OCULUS_DEV_WWW_RECOMMENDATION_BANNER_QP:9622,OCULUS_DEV_ODH_RAPID_FEEDBACK_QP:9725,OCULUS_DEV_WWW_DEVELOPER_ROCKSTEADY_ONBOARDING_QP:9805,OCULUS_DEV_WWW_SAVED_ROUTES_RECOMMENDATION_QP:10068,OCULUS_DEV_ODH_FEATURED_PACKAGES_QP:10110,OCULUS_DEV_MULTI_PLATFORM_NUX_QP:10203,OCULUS_DEV_WWW_DEVELOPER_CENTER_NUX_QP:10197,OCULUS_DEV_ODH_ODH_NUX_QP:10204,OCULUS_DEV_ODH_DEVELOPER_AWARENESS_BANNER_QP:11988,OCULUS_DEV_MULTI_PLATFORM_DEVELOPER_AWARENESS_BANNER_QP:11987,INSTAGRAM_MULTI_PLATFORM_TOOLTIP_QP:5857,INSTAGRAM_FOR_IOS_TOOLTIP_QP:5829,INSTAGRAM_FOR_ANDROID_TOOLTIP_QP:5858,INSTAGRAM_FOR_WEB_TOOLTIP_QP:5906,INSTAGRAM_MULTI_PLATFORM_MEGAPHONE_QP:5805,INSTAGRAM_IOS_MEGAPHONE:4669,INSTAGRAM_ANDROID_MEGAPHONE:4715,INSTAGRAM_WEB_MEGAPHONE:5095,INSTAGRAM_LOGGED_OUT_WEB_MEGAPHONE_DEPRECATED:6428,INSTAGRAM_CARBON_MEGAPHONE_QP:8123,INSTAGRAM_MULTI_PLATFORM_INTERSTITIAL_QP:5806,INSTAGRAM_FOR_ANDROID_INTERSTITIAL_QP:5734,INSTAGRAM_FOR_IOS_INTERSTITIAL_QP:5736,INSTAGRAM_FOR_WEB_INTERSTITIAL_QP:5780,INSTAGRAM_CARBON_INTERSTITIAL_QP:8151,INSTAGRAM_FOR_ANDROID_PROMOTIONAL_DIALOG_V2_QP:12104,INSTAGRAM_FOR_IOS_PROMOTIONAL_DIALOG_V2_QP:12103,INSTAGRAM_MULTI_PLATFORM_PROMOTIONAL_DIALOG_V2_QP:12102,INSTAGRAM_FOR_WEB_DIRECT_INTERSTITIAL_QP:11459,INSTAGRAM_FOR_ANDROID_DIRECT_SAVED_REPLY_MESSAGE_SENT_QP:12316,INSTAGRAM_FOR_IOS_DIRECT_SAVED_REPLY_MESSAGE_SENT_QP:12315,INSTAGRAM_MULTI_PLATFORM_DIRECT_SAVED_REPLY_MESSAGE_SENT_QP:12314,INSTAGRAM_FOR_ANDROID_STORIES_QP:6319,INSTAGRAM_FOR_IOS_STORIES_QP:6320,INSTAGRAM_MULTI_PLATFORM_STORIES_QP:6321,INSTAGRAM_FOR_IOS_STORIES_ARCHIVE_QP:12129,INSTAGRAM_FOR_ANDROID_STORIES_ARCHIVE_QP:12128,INSTAGRAM_MULTI_PLATFORM_STORIES_ARCHIVE_QP:12127,INSTAGRAM_FOR_ANDROID_STORIES_EDIT_HIGHLIGHT_QP:12131,INSTAGRAM_FOR_IOS_STORIES_EDIT_HIGHLIGHT_QP:12132,INSTAGRAM_MULTI_PLATFORM_STORIES_EDIT_HIGHLIGHT_QP:12130,INSTAGRAM_FOR_IOS_NETEGO_FEED_UNIT:6787,INSTAGRAM_FOR_ANDROID_NETEGO_FEED_UNIT:6994,INSTAGRAM_MULTI_PLATFORM_NETEGO_FEED_UNIT:6995,INSTAGRAM_FOR_WEB_NETEGO_FEED_UNIT_QP:8637,INSTAGRAM_MULTI_PLATFORM_NETEGO_STORY_QP:7706,INSTAGRAM_FOR_IOS_NETEGO_STORY_ON_IOS_QP:7707,INSTAGRAM_FOR_ANDROID_NETEGO_STORY_ON_ANDROID_QP:7708,INSTAGRAM_MULTI_PLATFORM_REELS_UNIT_QP:11174,INSTAGRAM_FOR_IOS_REELS_UNIT_ON_IOS_QP:11179,INSTAGRAM_FOR_ANDROID_REELS_UNIT_ON_ANDROID_QP:11180,INSTAGRAM_FOR_IOS_MESSAGE_FOOTER_QP:8035,INSTAGRAM_FOR_ANDROID_MESSAGE_FOOTER_QP:8034,INSTAGRAM_MULTI_PLATFORM_MESSAGE_FOOTER_QP:8036,INSTAGRAM_MULTI_PLATFORM_SERVICE_STORE_FRONT_QP:9050,INSTAGRAM_FOR_IOS_SERVICE_STORE_FRONT_QP:9061,INSTAGRAM_FOR_ANDROID_SERVICE_STORE_FRONT_QP:9062,INSTAGRAM_FOR_ANDROID_CALL_END_QP:9282,INSTAGRAM_MULTI_PLATFORM_CALL_END_QP:9286,INSTAGRAM_FOR_IOS_CALL_END_QP:9287,INSTAGRAM_MULTI_PLATFORM_REELS_MIDCARD_QP:10656,INSTAGRAM_FOR_ANDROID_REELS_MIDCARD_QP:10671,BARCELONA_MULTI_PLATFORM_MEGAPHONE_QP:11450,BARCELONA_IOS_MEGAPHONE:11453,BARCELONA_ANDROID_MEGAPHONE:11451,BARCELONA_WEB_MEGAPHONE:11452,BARCELONA_FOR_ANDROID_PERMALINK_QP:12039,BARCELONA_FOR_IOS_PERMALINK_QP:12038,BARCELONA_FOR_WEB_PERMALINK_QP:12325,BARCELONA_MULTI_PLATFORM_PERMALINK_QP:12037,BARCELONA_FOR_IOS_BOTTOM_SHEET_QP:12319,BARCELONA_FOR_ANDROID_BOTTOM_SHEET_QP:12318,BARCELONA_MULTI_PLATFORM_BOTTOM_SHEET_QP:12317,BARCELONA_FOR_ANDROID_APP_OPEN_PROMPT_NEW_X_EXPERIENCE_NXX__QP:12175,BARCELONA_FOR_IOS_APP_OPEN_PROMPT_NEW_X_EXPERIENCE_NXX__QP:12173,BARCELONA_FOR_WEB_APP_OPEN_PROMPT_NEW_X_EXPERIENCE_NXX__QP:12174,BARCELONA_MULTI_PLATFORM_APP_OPEN_PROMPT_NEW_X_EXPERIENCE_NXX__QP:12172,IOS_CAMERA_SYSTEM_QP:5079,ANDROID_CAMERA_SYSTEM_QP:5080,FBLITE_CAMERA_SYSTEM_QP:5808,CROSS_PLATFORM_CAMERA_SYSTEM_QP:5083,MESSENGER_FOR_ANDROID_STORY_PROMOTION_QP:6063,MESSENGER_FOR_IOS_STORY_PROMOTION_QP:6177,MESSENGER_FOR_IOS_THREAD_LIST_QP:7025,MESSENGER_FOR_IOS_THREAD_VIEW_QP:6985,MESSENGER_FOR_IOS_INTERSTITIAL_QP:8764,MESSENGER_FOR_IOS_ARMADILLO_THREAD_TOP_BANNER_QP:10152,MESSENGER_LIGHTSPEED_FOR_IOS_FRIENDS_TAB_HEADER_QP:7555,MESSENGER_FOR_WEB_INTERSTITIAL_LIGHTSPEED_QP:8879,MESSENGER_FOR_ANDROID_CHAT_ENTITY_QP:10694,MESSENGER_LIGHTSPEED_FOR_IOS_CHAT_ENTITY_QP:10660,MESSENGER_MULTI_PLATFORM_CHAT_ENTITY_QP:10693,FACEBOOK_WWW_MESSAGING_JEWEL_BANNER_QP:8439,FACEBOOK_WWW_FACEBOOK_CHAT_TAB_BANNER_QP:8888,FACEBOOK_WWW_END_CALL_INTERSTITIAL_QP:8603,FACEBOOK_MULTI_PLATFORM_NOTIFICATION_QP:5480,FACEBOOK_FOR_IOS_JEWEL_NOTIFICATION_QP:5481,FACEBOOK_FOR_ANDROID_JEWEL_NOTIFICATION_QP:5482,FACEBOOK_WWW_JEWEL_NOTIFICATION_QP:5483,FACEBOOK_MSITE_JEWEL_NOTIFICATION_QP:5484,FBLITE_JEWEL_NOTIFICATION_QP:6244,FACEBOOK_FOR_IOS_NOTIFICATIONS_BANNER_QP:9069,FACEBOOK_MULTI_PLATFORM_NOTIFICATIONS_TAB_MEGAPHONE_QP:9090,FACEBOOK_FOR_ANDROID_NOTIFICATIONS_BANNER_QP:10313,FACEBOOK_MULTI_PLATFORM_MARKETPLACE_NOTIFICATION_QP_DEPRECATED:6226,FACEBOOK_FOR_IOS_MARKETPLACE_NOTIFICATION_QP_DEPRECATED:6227,FACEBOOK_WWW_OFFSITE_EMAIL_NOTIFICATION_QP:5674,FACEBOOK_WWW_OFFSITE_SMS_NOTIFICATION_QP:6395,WORKPLACE_MULTI_PLATFORM_NOTIFICATION_QP:6292,WORKPLACE_WWW_JEWEL_NOTIFICATION_QP:6293,WORKPLACE_FOR_ANDROID_JEWEL_NOTIFICATION_QP:6295,WORKPLACE_FOR_IOS_JEWEL_NOTIFICATION_QP:6296,WORKPLACE_MSITE_JEWEL_NOTIFICATION_QP:6297,WORKPLACE_WWW_EMAIL_NOTIFICATION_QP:6334,INSTAGRAM_MULTI_PLATFORM_PUSH_NOTIFICATION_QP:6751,INSTAGRAM_FOR_IOS_PUSH_NOTIFICATION_QP:6752,INSTAGRAM_FOR_ANDROID_PUSH_NOTIFICATION_QP:6753,INSTAGRAM_FOR_WEB_PUSH_NOTIFICATION_QP:6754,INSTAGRAM_OFFSITE_EMAIL_NOTIFICATION_QP:7039,INSTAGRAM_MULTI_PLATFORM_INSTAGRAM_INLINE_SURVEY_QP:7215,INSTAGRAM_FOR_ANDROID_INSTAGRAM_INLINE_SURVEY_QP:7256,INSTAGRAM_FOR_IOS_INSTAGRAM_INLINE_SURVEY_QP:7257,INSTAGRAM_MULTI_PLATFORM_IG_MULTI_PLATFORM_REELS_QUALITY_SURVEY_QP:8044,INSTAGRAM_FOR_IOS_IG_IOS_REELS_QUALITY_SURVEY_QP:8045,INSTAGRAM_FOR_ANDROID_IG_ANDROID_REELS_QUALITY_SURVEY_QP:8046,INSTAGRAM_MULTI_PLATFORM_INSTAGRAM_BOTTOM_SHEET_SURVEY_QP:8836,INSTAGRAM_FOR_IOS_INSTAGRAM_BOTTOM_SHEET_SURVEY_QP:8837,INSTAGRAM_FOR_ANDROID_INSTAGRAM_BOTTOM_SHEET_SURVEY_QP:8838,INSTAGRAM_MULTI_PLATFORM_INSTAGRAM_NOTIFICATION_SURVEY_QP:8989,INSTAGRAM_FOR_IOS_INSTAGRAM_NOTIFICATION_SURVEY_QP:8987,INSTAGRAM_FOR_ANDROID_INSTAGRAM_NOTIFICATION_SURVEY_QP:8988,FACEBOOK_MULTI_PLATFORM_GROUPS_MALL_QP_DEPRECATED:5541,FACEBOOK_FOR_ANDROID_GROUPS_MALL_QP:5542,FACEBOOK_FOR_IOS_GROUPS_MALL_QP:5543,FACEBOOK_WWW_GROUPS_MALL_QP:5544,FACEBOOK_MSITE_COMMENT_BREADCRUMB_QP:5653,FACEBOOK_MSITE_PHOTO_BREADCRUMB_QP:5599,FACEBOOK_FOR_IOS_GROUPS_COMPOSER_CREATION_BAR_QP:12238,FACEBOOK_MULTI_PLATFORM_GROUPS_COMPOSER_CREATION_BAR_QP:12237,FACEBOOK_MULTI_PLATFORM_GROUPS_TAB_V1_QP:6730,FACEBOOK_FOR_ANDROID_GROUPS_TAB_V1_QP:6726,FACEBOOK_FOR_IOS_GROUPS_TAB_V1_QP:6729,FACEBOOK_MULTI_PLATFORM_GROUPS_TAB_TOP_UNITS_QP:9732,FACEBOOK_FOR_IOS_GROUPS_TAB_TOP_UNITS_QP:9734,FACEBOOK_FOR_ANDROID_GROUPS_TAB_TOP_UNITS_QP:9735,FBLITE_GROUPS_TAB_TOP_UNITS_QP:10261,FACEBOOK_FOR_ANDROID_VIDEO_HOME_MEGAPHONE_QP:5764,FACEBOOK_FOR_ANDROID_WATCH_TAB_QP:9150,FACEBOOK_FOR_IOS_WATCH_TAB_QP:9154,FACEBOOK_WWW_WATCH_TAB_QP:12305,FACEBOOK_MULTI_PLATFORM_WATCH_TAB_QP:9155,FACEBOOK_WWW_PAGE_ADMIN_HOME_QP:5869,FACEBOOK_MULTI_PLATFORM_FEED_UNIT_CTA_QP:5962,FACEBOOK_FOR_IOS_FEED_UNIT_CTA_QP:5966,FACEBOOK_FOR_ANDROID_FEED_UNIT_CTA_QP:5967,FBLITE_FEED_UNIT_CTA_QP:6123,FACEBOOK_MULTI_PLATFORM_PAGE_RECOMMENDATIONS_NUX_QP:6247,FACEBOOK_FOR_ANDROID_PAGE_RECOMMENDATIONS_NUX_QP:6259,FACEBOOK_FOR_IOS_PAGE_RECOMMENDATIONS_NUX_QP:6260,FACEBOOK_WWW_SURFACE_PAGE_RECOMMENDATIONS_NUX_QP:6285,FACEBOOK_FOR_ANDROID_STORY_BUCKET_QP:6254,FACEBOOK_FOR_IOS_STORY_BUCKET_QP:6255,FACEBOOK_WWW_STORY_BUCKET_QP:6256,FACEBOOK_MSITE_STORY_BUCKET_QP:6257,FACEBOOK_MULTI_PLATFORM_STORY_BUCKET_QP:6258,FBLITE_STORY_BUCKET_QP:8434,FACEBOOK_MULTI_PLATFORM_ADD_TO_STORY_BUCKET_QP:10529,FACEBOOK_FOR_ANDROID_ADD_TO_STORY_BUCKET_QP:10532,FACEBOOK_FOR_IOS_ADD_TO_STORY_BUCKET_QP:10533,FACEBOOK_MULTI_PLATFORM_NOTIF_AUTOPLAY_ADD_TO_STORY_QP:10559,FACEBOOK_FOR_IOS_NOTIF_AUTOPLAY_ADD_TO_STORY_QP:10560,FACEBOOK_FOR_ANDROID_NOTIF_AUTOPLAY_ADD_TO_STORY_QP:10561,FACEBOOK_MULTI_PLATFORM_STORIES_END_CARD_QP:8058,FACEBOOK_FOR_IOS_STORIES_END_CARD_QP:8059,FACEBOOK_FOR_ANDROID_STORIES_END_CARD_QP:8060,FACEBOOK_MULTI_PLATFORM_INTEREST_CATEGORY_NT_VIEW_FOOTER_QP_DEPRECATED:6245,FACEBOOK_FOR_ANDROID_INTEREST_CATEGORY_NT_VIEW_FOOTER_QP_DEPRECATED:6249,FACEBOOK_FOR_IOS_INTEREST_CATEGORY_NT_VIEW_FOOTER_QP_DEPRECATED:6250,FACEBOOK_FOR_IOS_PROFILE_CONTEXTUAL_QP:6288,FACEBOOK_FOR_IOS_MESSENGER_KIDS_PROFILE_QP:6444,FACEBOOK_FOR_ANDROID_MESSENGER_KIDS_PROFILE_QP:6445,FACEBOOK_FOR_ANDROID_WATCHLIST_MEGAPHONE_QP:6472,FACEBOOK_MSITE_KAIOS_FEED_UNIT_QP:6494,FACEBOOK_MSITE_KAIOS_MEGAPHONE_QP:6589,FACEBOOK_FOR_ANDROID_TAB_PROMOTION_QP:6737,FACEBOOK_FOR_IOS_TAB_PROMOTION_QP:6749,FACEBOOK_FOR_ANDROID_TAB_BAR_EXTENSION_QP:9054,PORTAL_HOME_CARD_QP:8202,PORTAL_MULTI_PLATFORM_HOME_CARD_QP:11931,PORTAL_PORTAL_DEVICE_DISCOVER_QP:7280,PROTAL_MULTI_PLATFORM_DEVICE_DISCOVER_QP:12046,FACEBOOK_FOR_ANDROID_TOMBSTONE_FOLLOWUP_UNIT_QP:6843,FACEBOOK_FOR_IOS_TOMBSTONE_FOLLOWUP_UNIT_QP:6844,FACEBOOK_MULTI_PLATFORM_TOMBSTONE_FOLLOWUP_UNIT_QP:6847,FACEBOOK_FOR_IOS_IN_CONTEXT_UNIT_OF_COMMENT_PERMALINK_QP:6971,FACEBOOK_FOR_ANDROID_IN_CONTEXT_UNIT_OF_COMMENT_PERMALINK_QP:6972,FACEBOOK_MULTI_PLATFORM_IN_CONTEXT_UNIT_OF_COMMENT_PERMALINK_QP:6973,MESSENGER_FOR_ANDROID_DISCOVER_TAB_QP:7004,MESSENGER_FOR_IOS_DISCOVER_TAB_QP:7023,MESSENGER_FOR_ANDROID_SEARCH_NULL_STATE_SURFACE_QP:7190,MESSENGER_FOR_ANDROID_NULL_STATE_SEARCH_HEADER_BANNER_QP:8978,FACEBOOK_FOR_ANDROID_END_OF_FEED:7252,FACEBOOK_FOR_ANDROID_SURVEY_BOTTOM_SHEET_QP:7057,FACEBOOK_WWW_GROUPS_RIGHT_HAND_COLUMN_QP:7242,FACEBOOK_MULTI_PLATFORM_GROUPS_TOP_OF_MALL_QP:7326,FACEBOOK_WWW_GROUPS_TOP_OF_MALL_QP:7340,FACEBOOK_IOS_GROUPS_TOP_OF_MALL_QP:7371,FACEBOOK_ANDROID_GROUPS_TOP_OF_MALL_QP:7383,FBLITE_GROUPS_TOP_OF_MALL_QP:7527,FACEBOOK_FOR_IOS_CREATION_HOMEBASE_QP:7450,FACEBOOK_MULTI_PLATFORM_CREATION_HOMEBASE_QP:11131,FACEBOOK_FOR_ANDROID_CREATION_HOMEBASE_QP:11130,FACEBOOK_MULTI_PLATFORM_PLAZA_QP:7479,FACEBOOK_FOR_ANDROID_PLAZA_QP:7507,FACEBOOK_FOR_IOS_PLAZA_QP:7508,FACEBOOK_FOR_ANDROID_FAN_SUBSCRIPTIONS_SUPPORTER_HUB_QP_QP:7571,FACEBOOK_FOR_IOS_FAN_SUBSCRIPTIONS_SUPPORTER_HUB_QP_QP:7572,FACEBOOK_MULTI_PLATFORM_FAN_SUBSCRIPTIONS_SUPPORTER_HUB_QP_QP:7573,FACEBOOK_FOR_ANDROID_NEARBYFRIENDS_QP:7602,FACEBOOK_MULTI_PLATFORM_NEARBY_FRIENDS_INLINE_SECTION_QP:7791,FACEBOOK_FOR_IOS_NEARBY_FRIENDS_INLINE_SECTION_QP:7786,FACEBOOK_FOR_ANDROID_NEARBY_FRIENDS_INLINE_SECTION_QP:7797,FACEBOOK_MULTI_PLATFORM_COMMUNITY_QP:7693,FACEBOOK_FOR_ANDROID_COMMUNITY_QP:7704,FACEBOOK_FOR_IOS_COMMUNITY_QP:7705,FBLITE_COMMUNITY_QP:7749,FACEBOOK_WWW_COMMUNITIES_QP:7923,FACEBOOK_MSITE_COMMUNITY_QP:7750,FACEBOOK_WWW_COMMUNITIES_TAB_IN_MESSENGER_JEWEL_QP:10713,FACEBOOK_MULTI_PLATFORM_GROUP_PENDING_POSTS_QUEUE_QP:11048,FACEBOOK_WWW_GROUP_PENDING_POSTS_QUEUE_QP:11068,FACEBOOK_MULTI_PLATFORM_SPAM_FOLDER_FOR_GROUP_ADMINS_QP:11062,FACEBOOK_FOR_ANDROID_SPAM_FOLDER_FOR_GROUP_ADMINS_QP:11063,FACEBOOK_FOR_IOS_SPAM_FOLDER_FOR_GROUP_ADMINS_QP:11064,FACEBOOK_WWW_SPAM_FOLDER_FOR_GROUP_ADMINS_QP:11070,FBLITE_SPAM_FOLDER_FOR_GROUP_ADMINS_QP:11071,FACEBOOK_MULTI_PLATFORM_PROFILE_PLUS_QP:9639,FACEBOOK_WWW_PROFILE_PLUS_QP:9641,FACEBOOK_FOR_IOS_PROFILE_PLUS_QP:9642,FACEBOOK_FOR_ANDROID_PROFILE_PLUS_QP:9644,FBLITE_PROFILE_PLUS_QP:9702,FACEBOOK_MULTI_PLATFORM_HASHTAG_DEEP_DIVE_QP:7930,FACEBOOK_FOR_IOS_HASHTAG_DEEP_DIVE_QP:7954,FACEBOOK_FOR_ANDROID_HASHTAG_DEEP_DIVE_QP:7955,FACEBOOK_WWW_HASHTAG_DEEP_DIVE_QP:8185,FACEBOOK_MULTI_PLATFORM_ROOMS_TRAY_CARD_QP:7998,FACEBOOK_FOR_IOS_ROOMS_TRAY_CARD_QP:7999,FACEBOOK_FOR_ANDROID_ROOMS_TRAY_CARD_QP:8e3,FACEBOOK_WWW_ROOMS_TRAY_CARD_QP:8001,FBLITE_ROOMS_TRAY_CARD_QP:8002,MESSENGER_DESKTOP_THREADS_LIST_QP:7703,FACEBOOK_MULTI_PLATFORM_MP_BILLBOARD_QP:10636,FACEBOOK_FOR_IOS_MP_BILLBOARD_FOR_IOS_QP:10651,FACEBOOK_FOR_ANDROID_MP_BILLBOARD_FOR_ANDROID_QP:10652,FACEBOOK_FOR_ANDROID_MARKETPLACE_PROFILE_MEGAPHONE_QP:12254,FACEBOOK_FOR_IOS_MARKETPLACE_PROFILE_MEGAPHONE_QP:12253,FACEBOOK_MULTI_PLATFORM_MARKETPLACE_PROFILE_MEGAPHONE_QP:12252,FACEBOOK_FOR_IOS_MARKETPLACE_THREAD_LIST_QP:12275,FACEBOOK_FOR_ANDROID_MARKETPLACE_THREAD_LIST_QP:12274,FACEBOOK_MULTI_PLATFORM_MARKETPLACE_THREAD_LIST_QP:12273,MESSENGER_LIGHTSPEED_FOR_IOS_MARKETPLACE_THREAD_LIST_QP:12280,MESSENGER_FOR_ANDROID_MARKETPLACE_THREAD_LIST_QP:12279,MESSENGER_MULTI_PLATFORM_MARKETPLACE_THREAD_LIST_QP:12278,FACEBOOK_FOR_ANDROID_WORDMARK_QP:8421,FACEBOOK_FOR_IOS_WORDMARK_QP:8944,FACEBOOK_FOR_IOS_BIRTHDAY_STORY_SUNSET_QP:8332,FACEBOOK_FOR_ANDROID_BIRTHDAY_STORY_SUNSET_QP:8333,FACEBOOK_MULTI_PLATFORM_VOYAGER_NULLSTATE_QP:8378,FACEBOOK_FOR_IOS_VOYAGER_NULLSTATE_QP:8383,FACEBOOK_FOR_ANDROID_VOYAGER_NULLSTATE_QP:8384,FACEBOOK_FOR_IOS_COMPOSER_TOOLTIP_QP:8419,FACEBOOK_FOR_ANDROID_COMPOSER_TOOLTIP_QP:8435,FACEBOOK_MULTI_PLATFORM_COMPOSER_TOOLTIP_QP:8457,FACEBOOK_WWW_COMPOSER_TOOLTIP_QP:8951,FACEBOOK_FOR_IOS_FB_AI_GENEREATED_STICKERS_COMMENTS_NUX_BOTTOM_SHEET_QP:12e3,FACEBOOK_FOR_ANDROID_FB_AI_GENEREATED_STICKERS_COMMENTS_NUX_BOTTOM_SHEET_QP:11999,FACEBOOK_MULTI_PLATFORM_FB_AI_GENEREATED_STICKERS_COMMENTS_NUX_BOTTOM_SHEET_QP:11998,INSTAGRAM_MULTI_PLATFORM_NEW_REELS_QP:8481,INSTAGRAM_FOR_IOS_NEW_REELS_QP:8494,INSTAGRAM_FOR_ANDROID_NEW_REELS_QP:8495,MESSENGER_FOR_ANDROID_RTC_PEEK_PROMOTION_QP:8470,MESSENGER_LIGHTSPEED_FOR_IOS_RTC_PEEK_PROMOTION_QP:8502,INSTAGRAM_MULTI_PLATFORM_INSTAGRAM_EXPLORE_SURVEY_QP:8779,INSTAGRAM_FOR_IOS_INSTAGRAM_EXPLORE_SURVEY_QP:8780,INSTAGRAM_FOR_ANDROID_INSTAGRAM_EXPLORE_SURVEY_QP:8781,INSTAGRAM_FOR_ANDROID_CREATOR_EXPERIENCE_EDUCATION_NUX_QP:11983,INSTAGRAM_FOR_IOS_CREATOR_EXPERIENCE_EDUCATION_NUX_QP:11984,INSTAGRAM_MULTI_PLATFORM_CREATOR_EXPERIENCE_EDUCATION_NUX_QP:11982,INSTAGRAM_FOR_WEB_IG_BOOST_ON_WEB_MULTI_BOOST_PAGE_QP:12463,INSTAGRAM_MULTI_PLATFORM_IG_BOOST_ON_WEB_MULTI_BOOST_PAGE_QP:12462,WHATSAPP_FOR_IOS_STATUS_QP:9310,WHATSAPP_FOR_ANDROID_STATUS_QP:9311,WHATSAPP_FOR_WEB_STATUS_QP:9312,WHATSAPP_FOR_KAIOS_STATUS_QP:9313,WHATSAPP_MULTI_PLATFORM_STATUS_QP:9315,WHATSAPP_FOR_SMBA_STATUS_QP:10090,WHATSAPP_FOR_SMBI_STATUS_QP:10091,WHATSAPP_FOR_ANDROID_SURVEY_MESSAGE_QP:10418,WHATSAPP_FOR_IOS_SURVEY_MESSAGE_QP:10419,WHATSAPP_MULTI_PLATFORM_SURVEY_MESSAGE_QP:10420,WHATSAPP_FOR_SMBI_SURVEY_MESSAGE_QP:10661,WHATSAPP_FOR_SMBA_SURVEY_MESSAGE_QP:10662,WHATSAPP_FOR_IOS_CHAT_PSA_QP:10733,WHATSAPP_FOR_SMBI_CHAT_PSA_QP:10734,WHATSAPP_FOR_ANDROID_CHAT_PSA_QP:10735,WHATSAPP_FOR_SMBA_CHAT_PSA_QP:10736,WHATSAPP_MULTI_PLATFORM_CHAT_PSA_QP:10737,WHATSAPP_MULTI_PLATFORM_WA_INTRO_SHEETS_QP:11135,WHATSAPP_MULTI_PLATFORM_WA_INTRO_SHEETS_SMB_QP:12621,WHATSAPP_FOR_IOS_WA_INTRO_SHEETS_IOS_QP:11136,WHATSAPP_FOR_ANDROID_WA_INTRO_SHEETS_ANDROID_QP:11137,WHATSAPP_FOR_WEB_WA_INTRO_SHEETS_WEB_QP:11138,WHATSAPP_FOR_SMBA_WA_INTRO_SHEETS_SMBA_QP:11139,WHATSAPP_FOR_SMBI_WA_INTRO_SHEETS_SMBI_QP:11140,WHATSAPP_FOR_IOS_WA_BANNER_IOS_QP:11113,WHATSAPP_FOR_ANDROID_WA_BANNER_ANDROID_QP:11114,WHATSAPP_FOR_WEB_WA_BANNER_WEB_QP:11115,WHATSAPP_FOR_SMBA_WA_BANNER_SMBA_QP:11116,WHATSAPP_FOR_SMBI_WA_BANNER_SMBI_QP:11117,WHATSAPP_MULTI_PLATFORM_WA_BANNER_MULTIPLATFORM_QP:11118,WHATSAPP_MULTI_PLATFORM_WA_BANNER_SMB_MULTIPLATFORM_QP:12622,WHATSAPP_FOR_IPAD_BANNER_QP:12382,WHATSAPP_FOR_MAC_NATIVE_BANNER_QP:12383,WHATSAPP_FOR_ANDROID_CLIENT_PUSH_NOTIFICATION_QP:11389,WHATSAPP_FOR_IOS_CLIENT_PUSH_NOTIFICATION_QP:11387,WHATSAPP_MULTI_PLATFORM_CLIENT_PUSH_NOTIFICATION_QP:11388,WHATSAPP_FOR_SMBA_WHATSAPP_NATIVE_ADS_FB_LOGGED_IN_CONSENT_SCREEN_QP:12026,WHATSAPP_MULTI_PLATFORM_WHATSAPP_NATIVE_ADS_FB_LOGGED_IN_CONSENT_SCREEN_QP:12025,WHATSAPP_FOR_SMBA_WHATSAPP_NATIVE_ADS_FB_WEB_LOGIN_CONSENT_SCREEN_QP:12028,WHATSAPP_MULTI_PLATFORM_WHATSAPP_NATIVE_ADS_FB_WEB_LOGIN_CONSENT_SCREEN_QP:12027,WHATSAPP_FOR_SMBA_WHATSAPP_NATIVE_ADS_WA_AD_ACCOUNT_EMAIL_SUBMIT_SCREEN_QP:12030,WHATSAPP_MULTI_PLATFORM_WHATSAPP_NATIVE_ADS_WA_AD_ACCOUNT_EMAIL_SUBMIT_SCREEN_QP:12029,WHATSAPP_FOR_SMBA_PUSH_NOTIFICATION_PSA_QP:11239,WHATSAPP_FOR_SMBI_PUSH_NOTIFICATION_PSA_QP:11240,WHATSAPP_FOR_ANDROID_PUSH_NOTIFICATION_PSA_QP:11231,WHATSAPP_FOR_IOS_PUSH_NOTIFICATION_PSA_QP:11233,WHATSAPP_MULTI_PLATFORM_PUSH_NOTIFICATION_PSA_QP:11232,WHATSAPP_MULTI_PLATFORM_PUSH_NOTIFICATION_PSA_SMB_QP:12623,WHATSAPP_MULTI_PLATFORM_SMB_BUSINESS_HOME_BANNER_QP:11250,WHATSAPP_FOR_SMBA_SMB_BUSINESS_HOME_BANNER_QP:11249,WHATSAPP_FOR_SMBI_SMB_BUSINESS_HOME_BANNER_QP:11251,WHATSAPP_FOR_SMBA_BUSINESS_HOME_LEARNING_HUB_QP:12474,WHATSAPP_FOR_SMBI_BUSINESS_HOME_LEARNING_HUB_QP:12473,WHATSAPP_MULTI_PLATFORM_BUSINESS_HOME_LEARNING_HUB_QP:12472,WHATSAPP_FOR_SMBA_SMB_IN_CHAT_CARD_QP:12068,WHATSAPP_FOR_SMBI_SMB_IN_CHAT_CARD_QP:12066,WHATSAPP_FOR_SMB_WEB_SMB_IN_CHAT_CARD_QP:12067,WHATSAPP_MULTI_PLATFORM_SMB_IN_CHAT_CARD_QP:12065,WHATSAPP_FOR_ANDROID_CALL_LIST_BANNER_QP:12235,WHATSAPP_FOR_IOS_CALL_LIST_BANNER_QP:12233,WHATSAPP_MULTI_PLATFORM_CALL_LIST_BANNER_QP:12232,WHATSAPP_MULTI_PLATFORM_CALL_LIST_BANNER_SMB_QP:12624,WHATSAPP_FOR_SMBA_CALL_LIST_BANNER_QP:12236,WHATSAPP_FOR_SMBI_CALL_LIST_BANNER_QP:12234,WHATSAPP_FOR_ANDROID_UPDATES_TAB_BANNER_QP:12245,WHATSAPP_FOR_IOS_UPDATES_TAB_BANNER_QP:12246,WHATSAPP_FOR_SMBA_UPDATES_TAB_BANNER_QP:12247,WHATSAPP_FOR_SMBI_UPDATES_TAB_BANNER_QP:12244,WHATSAPP_MULTI_PLATFORM_UPDATES_TAB_BANNER_QP:12243,WHATSAPP_MULTI_PLATFORM_UPDATES_TAB_BANNER_SMB_QP:12625,WHATSAPP_MULTI_PLATFORM_SETTINGS_BANNER_QP:12197,WHATSAPP_FOR_ANDROID_SETTINGS_BANNER_QP:12198,WHATSAPP_FOR_IOS_SETTINGS_BANNER_QP:12199,WHATSAPP_FOR_MAC_NATIVE_SETTINGS_BANNER_QP:12374,WHATSAPP_FOR_IPAD_SETTINGS_BANNER_QP:12375,WHATSAPP_FOR_ANDROID_REG_UPSELL_BOTTOM_SHEET_QP:12483,WHATSAPP_FOR_IOS_REG_UPSELL_BOTTOM_SHEET_QP:12485,WHATSAPP_FOR_SMBA_REG_UPSELL_BOTTOM_SHEET_QP:12484,WHATSAPP_FOR_SMBI_REG_UPSELL_BOTTOM_SHEET_QP:12482,WHATSAPP_MULTI_PLATFORM_REG_UPSELL_BOTTOM_SHEET_QP:12481,WHATSAPP_MULTI_PLATFORM_REG_UPSELL_BOTTOM_SHEET_SMB_QP:12620,WHATSAPP_FOR_ANDROID_IN_APP_NOTIFICATION_QP:12366,WHATSAPP_FOR_IOS_IN_APP_NOTIFICATION_QP:12367,WHATSAPP_FOR_SMBA_IN_APP_NOTIFICATION_QP:12368,WHATSAPP_FOR_SMBI_IN_APP_NOTIFICATION_QP:12365,WHATSAPP_MULTI_PLATFORM_IN_APP_NOTIFICATION_QP:12364,WHATSAPP_MULTI_PLATFORM_IN_APP_NOTIFICATION_SMB_QP:12626,WHATSAPP_FOR_IOS_WAMO_ELIGIBILITY_QP:12458,WHATSAPP_FOR_SMBI_WAMO_ELIGIBILITY_QP:12456,WHATSAPP_FOR_SMBA_WAMO_ELIGIBILITY_QP:12457,WHATSAPP_FOR_ANDROID_WAMO_ELIGIBILITY_QP:12455,WHATSAPP_MULTI_PLATFORM_WAMO_ELIGIBILITY_QP:12454,WHATSAPP_MULTI_PLATFORM_WAMO_ELIGIBILITY_SMB_QP:12627,WHATSAPP_FOR_ANDROID_SEND_FILE_SHEET_BANNER_QP:12449,WHATSAPP_FOR_IOS_SEND_FILE_SHEET_BANNER_QP:12448,WHATSAPP_MULTI_PLATFORM_SEND_FILE_SHEET_BANNER_QP:12447,WHATSAPP_FOR_IOS_PREVIEW_FILE_BANNER_QP:12451,WHATSAPP_MULTI_PLATFORM_PREVIEW_FILE_BANNER_QP:12450,WHATSAPP_FOR_ANDROID_CHAT_DOCUMENT_GALLERY_BANNER_QP:12453,WHATSAPP_MULTI_PLATFORM_CHAT_DOCUMENT_GALLERY_BANNER_QP:12452,FACEBOOK_MULTI_PLATFORM_TAB_RANKING_QP:8869,FACEBOOK_FOR_IOS_TAB_RANKING_QP:8895,FACEBOOK_FOR_ANDROID_TAB_RANKING_QP:8896,FBLITE_TAB_RANKING_QP:10227,FACEBOOK_WWW_TAB_RANKING_QP:10228,INSTAGRAM_FOR_IOS_FLOATING_BANNER_QP:8971,INSTAGRAM_FOR_ANDROID_FLOATING_BANNER_QP:8972,INSTAGRAM_MULTI_PLATFORM_FLOATING_BANNER_QP:8973,INSTAGRAM_FOR_IOS_EXPLORE_2X2_QP:9661,INSTAGRAM_FOR_ANDROID_EXPLORE_2X2_QP:9775,INSTAGRAM_MULTI_PLATFORM_EXPLORE_2X2_QP:9776,INSTAGRAM_MULTI_PLATFORM_RTC_PEEK_PROMOTION_QP:9650,INSTAGRAM_FOR_IOS_RTC_PEEK_PROMOTION_QP:9651,INSTAGRAM_FOR_ANDROID_RTC_PEEK_PROMOTION_QP:9643,FACEBOOK_MULTI_PLATFORM_SETTINGS_MEGAPHONE_QP:9265,FACEBOOK_FOR_IOS_SETTINGS_MEGAPHONE_QP:9318,FACEBOOK_FOR_ANDROID_SETTINGS_MEGAPHONE_QP:9319,FBLITE_SETTINGS_MEGAPHONE_QP:9320,FACEBOOK_MSITE_SETTINGS_MEGAPHONE_QP:9321,FACEBOOK_WWW_SETTINGS_MEGAPHONE_QP:10524,FACEBOOK_MULTI_PLATFORM_AP_PLUS_FEED_UNIT_QP:9575,FACEBOOK_FOR_IOS_AP_PLUS_FEED_UNIT_QP:9576,FACEBOOK_FOR_ANDROID_AP_PLUS_FEED_UNIT_QP:9577,FACEBOOK_WWW_AP_FEED_UNIT_QP:10500,INSTAGRAM_FOR_IOS_ACCOUNT_STATUS_HOME_QP:9698,INSTAGRAM_FOR_ANDROID_ACCOUNT_STATUS_HOME_QP:9699,INSTAGRAM_MULTI_PLATFORM_ACCOUNT_STATUS_HOME_QP:9700,MESSENGER_FOR_ANDROID_COMMUNITY_CHANNEL_LIST_BANNER_QP:9821,MESSENGER_FOR_IOS_COMMUNITY_CHANNEL_LIST_BANNER_QP:9829,MESSENGER_FOR_ANDROID_CM_CHANNEL_THREAD_VIEW_QP:10206,MESSENGER_LIGHTSPEED_FOR_IOS_CM_CHANNEL_THREAD_VIEW_QP:10226,MESSENGER_DESKTOP_COMMUNITY_MESSAGING_QP:10695,FACEBOOK_WWW_MESSENGER_COMMUNITY_MESSAGING_QP:10706,MESSENGER_FOR_ANDROID_BOTTOMSHEET_QP:10896,MESSENGER_FOR_ANDROID_MESSENGER_COMMUNITY_HOME_SURFACE_QP:12441,MESSENGER_LIGHTSPEED_FOR_IOS_MESSENGER_COMMUNITY_HOME_SURFACE_QP:12440,MESSENGER_MULTI_PLATFORM_MESSENGER_COMMUNITY_HOME_SURFACE_QP:12439,WEARABLE_APP_ANDROID_PUSH_NOTIFICATION_QP:10388,WEARABLE_APP_IOS_PUSH_NOTIFICATION_QP:10436,WEARABLE_APP_MULTI_PLATFORM_PUSH_NOTIFICATION_QP:10402,WEARABLE_APP_IOS_INTERNAL_TEST_MEGAPHONE_SURFACE_QP:10577,WEARABLE_APP_ANDROID_INTERNAL_TEST_INTERSTITIAL_SURFACE_QP:10582,WEARABLE_APP_ANDROID_MWA_HOME_BOTTOM_SHEET_QP:11981,WEARABLE_APP_IOS_MWA_HOME_BOTTOM_SHEET_QP:11980,WEARABLE_APP_MULTI_PLATFORM_MWA_HOME_BOTTOM_SHEET_QP:11979,WEARABLE_APP_IOS_AR_MWA_ALERT_HUB_IOS_QP:12022,WEARABLE_APP_MULTI_PLATFORM_AR_MWA_ALERT_HUB_IOS_QP:12021,WEARABLE_APP_ANDROID_AR_MWA_ALERT_HUB_IOS_QP:12061,WEARABLE_APP_ANDROID_HOME_TAB_MEGAPHONE_QP:12209,WEARABLE_APP_IOS_HOME_TAB_MEGAPHONE_QP:12208,WEARABLE_APP_MULTI_PLATFORM_HOME_TAB_MEGAPHONE_QP:12207,WEARABLE_APP_ANDROID_DEVICE_TAB_EDUCATION_QP:12289,WEARABLE_APP_MULTI_PLATFORM_DEVICE_TAB_EDUCATION_QP:12288,WEARABLE_APP_ANDROID_FEED_UNIT_QP:12295,WEARABLE_APP_IOS_FEED_UNIT_QP:12294,WEARABLE_APP_MULTI_PLATFORM_FEED_UNIT_QP:12293,WEARABLE_APP_ANDROID_MWA_DEVICES_TAB_QP:12322,WEARABLE_APP_IOS_MWA_DEVICES_TAB_QP:12321,WEARABLE_APP_MULTI_PLATFORM_MWA_DEVICES_TAB_QP:12320,WEARABLE_APP_ANDROID_AI_CHARACTERS_TAB_BOTTOM_SHEET_NUX_QP:12501,WEARABLE_APP_IOS_AI_CHARACTERS_TAB_BOTTOM_SHEET_NUX_QP:12500,WEARABLE_APP_MULTI_PLATFORM_AI_CHARACTERS_TAB_BOTTOM_SHEET_NUX_QP:12499,FBLITE_SEARCH_GLYPH_QP:10375,FACEBOOK_MULTI_PLATFORM_TOOLTIP_NUX_QP:10628,FACEBOOK_FOR_IOS_TOOLTIP_QP:10495,FACEBOOK_FOR_ANDROID_TOOLTIP_NUX_QP:10502,FACEBOOK_WWW_TOOLTIP_QP:10707,FACEBOOK_MULTI_PLATFORM_BLOKS_TOOLTIP_QP:10643,FACEBOOK_FOR_IOS_BLOKS_TOOLTIP_QP:10642,FACEBOOK_FOR_ANDROID_BLOKS_TOOLTIP_QP:10641,FACEBOOK_FOR_IOS_REACT_NATIVE_TOOLTIP_QP:10721,FACEBOOK_FOR_ANDROID_REACT_NATIVE_TOOLTIP_QP:10722,FACEBOOK_MULTI_PLATFORM_REACT_NATIVE_TOOLTIP_QP:10724,FBLITE_TOOLTIP_QP:10653,FACEBOOK_FOR_ANDROID_DIALOG_QP:10492,FACEBOOK_FOR_IOS_DIALOG_QP:10487,FACEBOOK_FOR_ANDROID_BOTTOM_SHEET_QP:10548,FACEBOOK_FOR_IOS_BOTTOM_SHEET_QP:10664,FACEBOOK_MULTI_PLATFORM_BOTTOM_SHEET_QP:10665,FBLITE_BOTTOM_SHEET_QP:10690,WORKPLACE_FOR_IOS_BOTTOM_SHEET_QP:11060,WORKPLACE_MULTI_PLATFORM_BOTTOM_SHEET_QP:11061,FACEBOOK_MULTI_PLATFORM_AFFILIATE_CREATOR_SHOP_MANAGEMENT_POP_UP_DIALOG_QP:10543,FACEBOOK_MULTI_PLATFORM_ACSM_MEGAPHONE_QP:10547,FACEBOOK_WWW_ACSM_MEGAPHONE_QP:10554,FACEBOOK_WWW_AFFILIATE_CREATOR_SHOP_MANAGEMENT_POP_UP_DIALOG_QP:10556,FACEBOOK_FOR_ANDROID_MIB_INBOX_BANNER_QP:10555,FACEBOOK_FOR_IOS_INBOX_BANNER_QP:10557,FACEBOOK_FOR_ANDROID_MIB_THREAD_VIEW_BANNER_QP:10578,FACEBOOK_FOR_IOS_MIB_THREADVIEW_BANNER_QP:10576,FACEBOOK_FOR_IOS_MIB_INTERSTITIAL_QP:10962,FACEBOOK_FOR_ANDROID_MIB_INTERSTITIAL_QP:10991,FACEBOOK_WWW_COMMUNITY_MESSAGING_QP:10601,FACEBOOK_MULTI_PLATFORM_COMMUNITY_MESSAGING_QP:10606,FACEBOOK_FOR_ANDROID_COMMUNITY_MESSAGING_QP:10615,FACEBOOK_FOR_IOS_COMMUNITY_MESSAGING_QP:10616,FACEBOOK_MULTI_PLATFORM_GAMING_DESTINATION_WELCOME_MAT_QP:10645,FACEBOOK_FOR_IOS_GAMING_DESTINATION_WELCOME_MAT_IOS_QP:10657,FACEBOOK_FOR_ANDROID_GAMING_DESTINATION_WELCOME_MAT_ANDROID_QP:10658,FACEBOOK_MSITE_GAMING_DESTINATION_WELCOME_MAT_QP:10692,FACEBOOK_MULTI_PLATFORM_GAMING_IN_FEED_UNIT_QP:10676,FACEBOOK_FOR_ANDROID_GAMING_IN_FEED_UNIT_QP:10677,FACEBOOK_FOR_IOS_GAMING_IN_FEED_UNIT_QP:10678,FACEBOOK_MSITE_GAMING_IN_FEED_UNIT_QP:10714,FACEBOOK_MULTI_PLATFORM_LOGIN_INTERSTITIAL_QP:11041,FACEBOOK_FOR_ANDROID_LOGIN_INTERSTITIAL_QP:11042,FACEBOOK_FOR_IOS_LOGIN_INTERSTITIAL_QP:11043,FACEBOOK_WWW_LOGIN_INTERSTITIAL_QP:11493,FACEBOOK_MSITE_LOGIN_INTERSTITIAL_QP:11494,FBLITE_LOGIN_INTERSTITIAL_QP:11495,MESSENGER_DESKTOP_LOGIN_INTERSTITIAL_QP:11496,MESSENGER_FOR_WEB_LOGIN_INTERSTITIAL_QP:11498,INSTAGRAM_FOR_WEB_LOGIN_INTERSTITIAL_QP:11497,FACEBOOK_FOR_IOS_BOOKMARKS_SIDEPANEL_QP:12137,FACEBOOK_FOR_ANDROID_BOOKMARKS_SIDEPANEL_QP:12136,FACEBOOK_MULTI_PLATFORM_BOOKMARKS_SIDEPANEL_QP:12135,FACEBOOK_FOR_IOS_FEED_SUBNAV_QP:12052,FACEBOOK_FOR_ANDROID_FEED_SUBNAV_QP:12051,FACEBOOK_MULTI_PLATFORM_FEED_SUBNAV_QP:12050,QPSURFACE_FACEBOOK_FOR_IOS_NDX:10790,QPSURFACE_FACEBOOK_FOR_ANDROID_NDX:10836,FACEBOOK_WWW_CREATOR_STUDIO_BANNER_QP:10723,FACEBOOK_FOR_IOS_CONTEXTUAL_TRAY_UNIT_QP:10675,FACEBOOK_FOR_ANDROID_CONTEXTUAL_TRAY_UNIT_QP:10897,FACEBOOK_MULTI_PLATFORM_CONTEXTUAL_TRAY_UNIT_QP:10898,FACEBOOK_FOR_IOS_CREATORCOMPOSERSHAREBROADCASTCHANNELSETTINGNUX_QP:12049,FACEBOOK_FOR_ANDROID_CREATORCOMPOSERSHAREBROADCASTCHANNELSETTINGNUX_QP:12048,FACEBOOK_MULTI_PLATFORM_CREATORCOMPOSERSHAREBROADCASTCHANNELSETTINGNUX_QP:12047,FACEBOOK_FOR_ANDROID_AB_TESTING_NUX_BOTTOM_SHEET_QP:12070,FACEBOOK_FOR_IOS_AB_TESTING_NUX_BOTTOM_SHEET_QP:12071,FACEBOOK_MULTI_PLATFORM_AB_TESTING_NUX_BOTTOM_SHEET_QP:12069,FACEBOOK_FOR_ANDROID_SERVERDRIVENPROMPT_QP:11227,FACEBOOK_FOR_IOS_SERVERDRIVENPROMPT_QP:11225,FACEBOOK_MULTI_PLATFORM_SERVERDRIVENPROMPT_QP:11226,FACEBOOK_WWW_SERVER_DRIVEN_PROMPT_QP:11264,FBLITE_SERVER_DRIVEN_PROMPT_QP:11265,FACEBOOK_MSITE_SERVER_DRIVEN_PROMPT_QP:11266,WORKPLACE_FOR_ANDROID_SERVER_DRIVEN_PROMPT_QP:11267,WORKPLACE_FOR_IOS_SERVER_DRIVEN_PROMPT_QP:11268,WORKPLACE_MULTI_PLATFORM_SERVER_DRIVEN_PROMPT_QP:11269,MESSENGER_MULTI_PLATFORM_SERVER_DRIVEN_PROMPT_QP:11270,MESSENGER_FOR_ANDROID_SERVER_DRIVEN_PROMPT_QP:11271,MESSENGER_LIGHTSPEED_FOR_IOS_SERVER_DRIVEN_PROMPT_QP:11272,INSTAGRAM_FOR_IOS_SERVERDRIVENPROMPT_QP:12223,INSTAGRAM_FOR_ANDROID_SERVERDRIVENPROMPT_QP:12222,INSTAGRAM_MULTI_PLATFORM_SERVERDRIVENPROMPT_QP:12221,BARCELONA_FOR_ANDROID_SERVERDRIVENPROMPT_QP:12672,BARCELONA_FOR_IOS_SERVERDRIVENPROMPT_QP:12671,BARCELONA_MULTI_PLATFORM_SERVERDRIVENPROMPT_QP:12670,ADS_EVENTS_MANAGER_MULTI_PLATFORM_CC_EM_RULE_REQUIRED_FOR_CE_NUX_QP:11560,ADS_EVENTS_MANAGER_MULTI_PLATFORM_OFFLINE_CONSOLIDATION_UPSELL_QP:11561,ADS_EVENTS_MANAGER_MULTI_PLATFORM_OVERVIEW_PAGE_FEATURE_ONBOARDING_QP:11565,FACEBOOK_MULTI_PLATFORM_SEARCH_BAR_TOOLTIP:11564,FACEBOOK_MULTI_PLATFORM_WATCHLIST_MEGAPHONE_QP:11577,FACEBOOK_MULTI_PLATFORM_VIDEO_HOME_MEGAPHONE_QP:11572,FACEBOOK_MULTI_PLATFORM_TAB_BAR_EXTENSION_QP:11573,FACEBOOK_MULTI_PLATFORM_SURVEY_BOTTOM_SHEET_QP:11574,FACEBOOK_MULTI_PLATFORM_END_OF_FEED:11576,FACEBOOK_MULTI_PLATFORM_NEARBYFRIENDS_QP:11575,FACEBOOK_MULTI_PLATFORM_COMMUNITY_MESSAGING_IN_BLUE_THREAD_VIEW_BANNER_QP:11585,FACEBOOK_MULTI_PLATFORM_PROFILE_CONTEXTUAL_QP:11587,FACEBOOK_MULTI_PLATFORM_CREATOR_STUDIO_BANNER_QP:11586,FACEBOOK_MULTI_PLATFORM_COMMUNITIES_TAB_IN_MESSENGER_JEWEL_QP:11578,FACEBOOK_MULTI_PLATFORM_COMMERCE_MANAGER_CATALOG_SETS_TAB_QP:11579,FACEBOOK_MULTI_PLATFORM_CM_TAB_TOUR_POPOVER_QP:11580,FACEBOOK_MULTI_PLATFORM_PHOTO_BREADCRUMB_QP:11581,FACEBOOK_MULTI_PLATFORM_MODAL_DIALOG_QP:11582,FACEBOOK_MULTI_PLATFORM_COMMENT_BREADCRUMB_QP:11583,FACEBOOK_MULTI_PLATFORM_BROWSER_PERMISSION_QP:11584,FACEBOOK_MULTI_PLATFORM_END_CALL_INTERSTITIAL_QP:11589,FACEBOOK_MULTI_PLATFORM_BOOKMARKS:11599,FACEBOOK_MULTI_PLATFORM_MESSENGER_CALL_VIEW_QP:11588,FACEBOOK_MULTI_PLATFORM_WEBVIEW_BANNER_QP:11607,FACEBOOK_MULTI_PLATFORM_SEARCH_RESULT_MODULES_QP:11598,FACEBOOK_MULTI_PLATFORM_MEDIA_SERP_MEGAPHONE_QP:11597,FACEBOOK_MULTI_PLATFORM_EVENTS_GUESTLIST_QP:11596,FACEBOOK_MULTI_PLATFORM_THREAD_VIEW_BANNER_QP:11595,FACEBOOK_MULTI_PLATFORM_SEARCH_GLYPH_QP:11606,FACEBOOK_MULTI_PLATFORM_MESSENGER_MEGAPHONE_QP:11594,FACEBOOK_MULTI_PLATFORM_SIDEBAR_CONTACTS_BUCKET_QP:11593,FACEBOOK_MULTI_PLATFORM_RHC_QP:11604,FACEBOOK_MULTI_PLATFORM_PUBLIC_CHAT_NUX_QP:11603,FACEBOOK_MULTI_PLATFORM_PAGE_ADMIN_HOME_QP:11592,FACEBOOK_MULTI_PLATFORM_SMS_NOTIFICATION_QP:11591,FACEBOOK_MULTI_PLATFORM_EMAIL_NOTIFICATION_QP:11602,FACEBOOK_MULTI_PLATFORM_MESSAGING_JEWEL_BANNER_QP:11601,FACEBOOK_MULTI_PLATFORM_GROUPS_RIGHT_HAND_COLUMN_QP:11600,FACEBOOK_MULTI_PLATFORM_CHAT_TAB_BANNER_QP:11590,FACEBOOK_MULTI_PLATFORM_DIODE_ROADBLOCK_QP:11625,FACEBOOK_MULTI_PLATFORM_QP_BANNER:11624,FACEBOOK_MULTI_PLATFORM_QP_STICKY_HEADER:11622,FACEBOOK_MULTI_PLATFORM_JEWEL_HEADER_QP:11621,FACEBOOK_MULTI_PLATFORM_JEWEL_INTERSTITIAL_QP:11620,FACEBOOK_MULTI_PLATFORM_LOGGEDOUT_INTERSTITIAL:11619,FACEBOOK_MULTI_PLATFORM_LOGIN_BANNER_QP:11618,FACEBOOK_MULTI_PLATFORM_PHOTO_OPEN_INTERSTITIAL_QP:11617,FACEBOOK_MULTI_PLATFORM_PP_MEGAPHONE_QP:11616,FACEBOOK_MULTI_PLATFORM_JEWEL_QP:11615,FACEBOOK_MULTI_PLATFORM_TOPIC_FEEDS_MEGAPHONE_QP:11614,MESSENGER_MULTI_PLATFORM_CALL_TAB_QP:11613,MESSENGER_MULTI_PLATFORM_ARMADILLO_THREAD_TOP_BANNER_QP:11612,MESSENGER_MULTI_PLATFORM_MSYS_THREAD_VIEW_SURFACE_QP:11610,MESSENGER_MULTI_PLATFORM_NEW_THREAD_NUX:11609,MESSENGER_MULTI_PLATFORM_MSYS_INTERSTITIAL_SURFACE_QP:11608,MESSENGER_MULTI_PLATFORM_BOTTOMSHEET_QP:11626,MESSENGER_MULTI_PLATFORM_CM_CHANNEL_CHAT_TAB_THREAD_QP:11623,MESSENGER_MULTI_PLATFORM_BUSINESS_SUPPORT_FOLDER_THREAD_LIST_BANNER_QP:11627,MESSENGER_MULTI_PLATFORM_MSYS_THREAD_LIST_SURFACE_QP:11630,MESSENGER_MULTI_PLATFORM_RECENT_THREAD_LIST_QP:11631,MESSENGER_MULTI_PLATFORM_INBOX_THREAD_LIST_BANNER_QP:11641,MESSENGER_MULTI_PLATFORM_ME_SETTINGS_BANNER_QP:11632,MESSENGER_MULTI_PLATFORM_NULL_STATE_SEARCH_HEADER_BANNER_QP:11633,PAGES_MANAGER_MULTI_PLATFORM_MEGAPHONE_QP:11642,WORKCHAT_MULTI_PLATFORM_CALL_LOG_SURFACE_QP:11634,WORKCHAT_MULTI_PLATFORM_WORKSPEED_INBOX_BANNER_QP:11643,WORKCHAT_MULTI_PLATFORM_BANNER_QP:11635,COMMERCE_MANAGER_MULTI_PLATFORM_CATALOG_UI_QP:11636,INTERNAL_TOOL_MULTI_PLATFORM_QP:11637,INTERNAL_TOOL_MULTI_PLATFORM_QP_DASH_QP:11638,INSTAGRAM_MULTI_PLATFORM_DIRECT_INTERSTITIAL_QP:11647,INSTAGRAM_MULTI_PLATFORM_EMAIL_NOTIFICATION_QP:11644,INTERNET_ORG_MULTI_PLATFORM_FBSV2_MEGAPHONE_FOR_LOGGED_OUT_USERS_QP:11639,FACEBOOK_MULTI_PLATFORM_FEED_PYMK_QP:11648,FACEBOOK_MULTI_PLATFORM_MESSAGES_INTERSTITIAL_QP:11649,FACEBOOK_MULTI_PLATFORM_SEARCH_NULL_STATE_MEGAPHONE_QP:11650,FACEBOOK_MULTI_PLATFORM_BIRTHDAY_STORY_SUNSET_QP:11651,FACEBOOK_MULTI_PLATFORM_DATING_MESSAGE_INBOX_QP:11652,FACEBOOK_MULTI_PLATFORM_DATING_MESSAGE_THREAD_QP:11653,FACEBOOK_MULTI_PLATFORM_DIALOG_QP:11654,FACEBOOK_MULTI_PLATFORM_CUSTOM_REACTIONS_DEFAULT_ENTRY_POINT_QP:11655,FACEBOOK_MULTI_PLATFORM_INBOX_BANNER_QP:11656,FACEBOOK_MULTI_PLATFORM_MIB_INTERSTITIAL_QP:11657,FACEBOOK_MULTI_PLATFORM_MIB_THREADVIEW_BANNER_QP:11658,FACEBOOK_MULTI_PLATFORM_TAB_PROMOTION_QP:11659,FACEBOOK_MULTI_PLATFORM_WORDMARK_QP:11660,FACEBOOK_MULTI_PLATFORM_SAVE_DASHBOARD_MEGAPHONE_QP:11661,MESSENGER_MULTI_PLATFORM_THREAD_VIEW_QP:11662,MESSENGER_MULTI_PLATFORM_COMMUNITY_MESSAGING_QP:11663,MESSENGER_MULTI_PLATFORM_INTERSTITIAL_QP:11664,WORKPLACE_MULTI_PLATFORM_GROUP_FEED_FOOTER:11646,INTERNET_ORG_MULTI_PLATFORM_WEB_INTERSITIAL:11645,WORKPLACE_MULTI_PLATFORM_NOTES_QP:11629,WORKPLACE_MULTI_PLATFORM_PROFILE_QP:11640,MESSENGER_MULTI_PLATFORM_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:11668,MESSENGER_MULTI_PLATFORM_CM_CHANNEL_THREAD_VIEW_QP:11669,MESSENGER_MULTI_PLATFORM_COMMUNITY_CHANNEL_LIST_BANNER_QP:11670,MESSENGER_MULTI_PLATFORM_DISCOVER_TAB_QP:11671,MESSENGER_MULTI_PLATFORM_FRIENDS_TAB_MEGAPHONE_QP:11672,MESSENGER_MULTI_PLATFORM_THREAD_LIST_QP:11673,MESSENGER_MULTI_PLATFORM_RTC_PEEK_PROMOTION_QP:11674,MESSENGER_MULTI_PLATFORM_SEARCH_NULL_STATE_SURFACE_QP:11675,PAGES_MANAGER_MULTI_PLATFORM_INTERSTITIAL_QP:11676,PAGES_MANAGER_MULTI_PLATFORM_REACT_NATIVE_MEGAPHONE_QP:11677,WORKCHAT_MULTI_PLATFORM_INTERSTITIAL_QP:11678,WORKCHAT_MULTI_PLATFORM_THREAD_LIST_QP:11679,INTERNET_ORG_MULTI_PLATFORM_MEGAPHONE_QP:11680,WORKPLACE_MULTI_PLATFORM_TAB_INTERSTITIAL_QP:11682,WORKPLACE_MULTI_PLATFORM_STICKY_HEADER_BANNER_QP:11628,WORKPLACE_MULTI_PLATFORM_EMAIL_NOTIFICATION_QP:11665,WORKPLACE_MULTI_PLATFORM_RHC_QP:11666,WORKPLACE_MULTI_PLATFORM_ONBOARDING_CARD_QP:11667,WEARABLE_APP_MULTI_PLATFORM_INTERNAL_TEST_INTERSTITIAL_SURFACE_QP:11681,WEARABLE_APP_MULTI_PLATFORM_INTERNAL_TEST_MEGAPHONE_SURFACE_QP:11683,FACEBOOK_MULTI_PLATFORM_QPSURFACE_NDX:11690,FACEBOOK_MULTI_PLATFORM_MARKETPLACE_SELLER_HUB_MEGAPHONE_QP:10466,FACEBOOK_FOR_IOS_MARKETPLACE_SELLER_HUB_MEGAPHONE_QP:11705,FACEBOOK_FOR_ANDROID_MARKETPLACE_SELLER_HUB_MEGAPHONE_QP:11706,FACEBOOK_FOR_WWW_MARKETPLACE_SELLER_HUB_MEGAPHONE_QP:11707,FACEBOOK_FOR_IOS_UXU_PLAYER_EDUCATION_NUX_QP:11986,FACEBOOK_MULTI_PLATFORM_UXU_PLAYER_EDUCATION_NUX_QP:11985,FACEBOOK_FOR_ANDROID_UXU_PLAYER_EDUCATION_NUX_ANDROID_QP:12007,FACEBOOK_MULTI_PLATFORM_UXU_PLAYER_EDUCATION_NUX_ANDROID_QP:12006,FACEBOOK_FOR_IOS_UXU_PLAYER_EDUCATION_RESHARE_NUX_QP:12020,FACEBOOK_MULTI_PLATFORM_UXU_PLAYER_EDUCATION_RESHARE_NUX_QP:12019,FACEBOOK_FOR_IOS_VDD_SWIPE_LEFT_TO_PROFILE_EDUCATION_NUX_QP:12192,FACEBOOK_FOR_ANDROID_VDD_SWIPE_LEFT_TO_PROFILE_EDUCATION_NUX_QP:12281,FACEBOOK_MULTI_PLATFORM_VDD_SWIPE_LEFT_TO_PROFILE_EDUCATION_NUX_QP:12191,MESSENGER_MULTI_PLATFORM_AVATAR_STICKER_TRAY_QP:12055,MESSENGER_LIGHTSPEED_FOR_IOS_AVATAR_STICKER_TRAY_QP:12056,MESSENGER_FOR_ANDROID_AVATAR_STICKER_TRAY_QP:12057,FACEBOOK_WWW_AVATAR_STICKER_TRAY_QP:12263,FACEBOOK_MULTI_PLATFORM_AVATAR_STICKER_TRAY_QP:12262,FACEBOOK_FOR_ANDROID_AVATAR_STICKER_TRAY_QP:12264,FACEBOOK_FOR_IOS_AVATAR_STICKER_TRAY_QP:12265,FACEBOOK_FOR_ANDROID_EXPLORE_MEGAPHONE_QP:12098,FACEBOOK_FOR_IOS_EXPLORE_MEGAPHONE_QP:12097,FACEBOOK_MULTI_PLATFORM_EXPLORE_MEGAPHONE_QP:12096,FACEBOOK_FOR_ANDROID_EXPLORE_IN_FEED_UNIT_QP:12344,FACEBOOK_FOR_IOS_EXPLORE_IN_FEED_UNIT_QP:12343,FACEBOOK_MULTI_PLATFORM_EXPLORE_IN_FEED_UNIT_QP:12342,FACEBOOK_FOR_ANDROID_EXPLORE_TAB_THIN_FOOTER_QP:12493,FACEBOOK_FOR_IOS_EXPLORE_TAB_THIN_FOOTER_QP:12492,FACEBOOK_MULTI_PLATFORM_EXPLORE_TAB_THIN_FOOTER_QP:12491,FACEBOOK_FOR_IOS_MARKETPLACE_PROMOTIONAL_UNIT_QP:12113,FACEBOOK_FOR_ANDROID_MARKETPLACE_PROMOTIONAL_UNIT_QP:12112,FBLITE_MARKETPLACE_PROMOTIONAL_UNIT_QP:12111,FACEBOOK_WWW_MARKETPLACE_PROMOTIONAL_UNIT_QP:12110,FACEBOOK_MULTI_PLATFORM_MARKETPLACE_PROMOTIONAL_UNIT_QP:12109,FACEBOOK_WWW_LWI_ADS_CREATION_TOOLTIP_QP:12134,FACEBOOK_MULTI_PLATFORM_LWI_ADS_CREATION_TOOLTIP_QP:12133,FACEBOOK_FOR_ANDROID_REELS_TAB_SWIPE_UP_EDUCATION_NUX_QP:12140,FACEBOOK_MULTI_PLATFORM_REELS_TAB_SWIPE_UP_EDUCATION_NUX_QP:12139,FACEBOOK_FOR_IOS_REELS_TAB_ONBOARDING_EDUCATION_NUX_QP:12249,FACEBOOK_MULTI_PLATFORM_REELS_TAB_ONBOARDING_EDUCATION_NUX_QP:12248,FACEBOOK_FOR_ANDROID_REELS_TAB_BOTTOM_SHEET_EDUCATION_NUX_QP:12251,FACEBOOK_MULTI_PLATFORM_REELS_TAB_BOTTOM_SHEET_EDUCATION_NUX_QP:12250,INTERNAL_TOOLS_CENTRA_HOMEPAGE_CARD_QP:12144,INTERNAL_TOOLS_MULTI_PLATFORM_CENTRA_HOMEPAGE_CARD_QP:12143,INTERNAL_TOOLS_CENTRA_MODAL_QP:12146,INTERNAL_TOOLS_MULTI_PLATFORM_CENTRA_MODAL_QP:12145,INTERNAL_TOOLS_CENTRA_INVESTIGATE_BUTTON_QP:12196,INTERNAL_TOOLS_MULTI_PLATFORM_CENTRA_INVESTIGATE_BUTTON_QP:12195,META_DOT_AI_MULTI_PLATFORM_METAAI_WEB_ABRA__QP:12176,META_DOT_AI_METAAI_WEB_ABRA:12177,FACEBOOK_FOR_ANDROID_STORIES_CREATION_HOME_QP:12180,FACEBOOK_FOR_IOS_STORIES_CREATION_HOME_QP:12179,FACEBOOK_MULTI_PLATFORM_STORIES_CREATION_HOME_QP:12178,FACEBOOK_FOR_ANDROID_CREATE_WITH_META_AI_QP:12183,FACEBOOK_FOR_IOS_CREATE_WITH_META_AI_QP:12182,FACEBOOK_MULTI_PLATFORM_CREATE_WITH_META_AI_QP:12181,FACEBOOK_FOR_ANDROID_STORIES_VIEWER_FOOTER_QP:12211,FACEBOOK_FOR_IOS_STORIES_VIEWER_FOOTER_QP:12212,FACEBOOK_MULTI_PLATFORM_STORIES_VIEWER_FOOTER_QP:12210,FACEBOOK_FOR_ANDROID_STORIES_EDITOR_UPSELL_QP:12256,FACEBOOK_FOR_IOS_STORIES_EDITOR_UPSELL_QP:12257,FACEBOOK_MULTI_PLATFORM_STORIES_EDITOR_UPSELL_QP:12255,FACEBOOK_FOR_IOS_FB_TRY_IT_SURFACE_QP:12370,FACEBOOK_FOR_ANDROID_FB_TRY_IT_SURFACE_QP:12371,FACEBOOK_MULTI_PLATFORM_FB_TRY_IT_SURFACE_QP:12369,FACEBOOK_FOR_ANDROID_FB_MEMORIES_HOME_QP:12381,FACEBOOK_FOR_IOS_FB_MEMORIES_HOME_QP:12380,FACEBOOK_MULTI_PLATFORM_FB_MEMORIES_HOME_QP:12379,META_DOT_COM_WEB_MDC_QUEST_AFFILIATES_TEST_QP:12337,FACEBOOK_FOR_ANDROID_EXPLORE_TAB_BOTTOMSHEET_TOOLTIP_QP:12351,FACEBOOK_FOR_IOS_EXPLORE_TAB_BOTTOMSHEET_TOOLTIP_QP:12350,FBLITE_EXPLORE_TAB_BOTTOMSHEET_TOOLTIP_QP:12352,FACEBOOK_MULTI_PLATFORM_EXPLORE_TAB_BOTTOMSHEET_TOOLTIP_QP:12349,ADS_EVENTS_MANAGER_WWW_VALUE_MONITORING_TABLE_NUX_QP:12363,ADS_EVENTS_MANAGER_MULTI_PLATFORM_VALUE_MONITORING_TABLE_NUX_QP:12362,FACEBOOK_FOR_ANDROID_UDD_AA_PREFERENCE_SETTINGS_TOOLTIP_QP:12395,FACEBOOK_FOR_IOS_UDD_AA_PREFERENCE_SETTINGS_TOOLTIP_QP:12394,FACEBOOK_MULTI_PLATFORM_UDD_AA_PREFERENCE_SETTINGS_TOOLTIP_QP:12393,FACEBOOK_FOR_ANDROID_STORIES_PRODUCTION_POG_SYSTEM_QP:12409,FACEBOOK_FOR_IOS_STORIES_PRODUCTION_POG_SYSTEM_QP:12408,FACEBOOK_MULTI_PLATFORM_STORIES_PRODUCTION_POG_SYSTEM_QP:12407,INSTAGRAM_FOR_ANDROID_IAB_TOOLTIPS_QP:12415,INSTAGRAM_FOR_IOS_IAB_TOOLTIPS_QP:12416,INSTAGRAM_MULTI_PLATFORM_IAB_TOOLTIPS_QP:12414,FACEBOOK_FOR_ANDROID_COMMUNITY_NOTES_COMPOSER_QP:12419,FACEBOOK_FOR_IOS_COMMUNITY_NOTES_COMPOSER_QP:12420,FACEBOOK_FOR_IOS_PAD_COMMUNITY_NOTES_COMPOSER_QP:12418,FACEBOOK_MULTI_PLATFORM_COMMUNITY_NOTES_COMPOSER_QP:12417,WHATSAPP_FOR_ANDROID_UPDATES_TAB_FOOTER_NOTICE_QP:12435,WHATSAPP_FOR_IOS_UPDATES_TAB_FOOTER_NOTICE_QP:12434,WHATSAPP_FOR_SMBA_UPDATES_TAB_FOOTER_NOTICE_QP:12433,WHATSAPP_FOR_SMBI_UPDATES_TAB_FOOTER_NOTICE_QP:12436,WHATSAPP_MULTI_PLATFORM_UPDATES_TAB_FOOTER_NOTICE_QP:12432,WHATSAPP_MULTI_PLATFORM_UPDATES_TAB_FOOTER_NOTICE_SMB_QP:12628,WHATSAPP_FOR_SMB_WEB_UPDATES_TAB_FOOTER_NOTICE_QP:12503,WHATSAPP_FOR_WEB_UPDATES_TAB_FOOTER_NOTICE_QP:12502,FACEBOOK_FOR_ANDROID_FEED_INLINE_COMPOSER_QP:12490,FACEBOOK_FOR_IOS_FEED_INLINE_COMPOSER_QP:12489,FACEBOOK_MULTI_PLATFORM_FEED_INLINE_COMPOSER_QP:12488,MESSENGER_FOR_ANDROID_MESSENGER_META_AI_CHAT_ENTITY_QP:12512,MESSENGER_LIGHTSPEED_FOR_IOS_MESSENGER_META_AI_CHAT_ENTITY_QP:12513,MESSENGER_MULTI_PLATFORM_MESSENGER_META_AI_CHAT_ENTITY_QP:12511,FACEBOOK_FOR_IOS_FEED_UNIT_DOUBLE_TAP_QP:12519,FACEBOOK_MULTI_PLATFORM_FEED_UNIT_DOUBLE_TAP_QP:12518,FACEBOOK_FOR_ANDROID_STORIES_POG_CARD_QP:12600,FACEBOOK_FOR_IOS_STORIES_POG_CARD_QP:12599,FACEBOOK_MULTI_PLATFORM_STORIES_POG_CARD_QP:12598,ENTERPRISE_CENTER_FOR_WEB_ENTERPRISE_CENTER_GEO_TOUR_QP:12611,ENTERPRISE_CENTER_FOR_WEB_EC_GEO_TOUR_QP:12612,INSTAGRAM_OFFSITE_INSTAGRAM_NOTIFICATIONS_FEED_NOTIFICATION_QP:12605,INSTAGRAM_MULTI_PLATFORM_INSTAGRAM_NOTIFICATIONS_FEED_NOTIFICATION_QP:12604,BARCELONA_OFFSITE_ACTIVITY_FEED_NOTIFICATION_QP:12636,BARCELONA_MULTI_PLATFORM_ACTIVITY_FEED_NOTIFICATION_QP:12635,INSTAGRAM_FOR_ANDROID_WRITE_COMMUNITY_NOTE_ONBOARDING_TOOLTIP_QP:12658,INSTAGRAM_FOR_IOS_WRITE_COMMUNITY_NOTE_ONBOARDING_TOOLTIP_QP:12657,INSTAGRAM_MULTI_PLATFORM_WRITE_COMMUNITY_NOTE_ONBOARDING_TOOLTIP_QP:12656,WHATSAPP_FOR_ANDROID_CHAT_FOOTER_QP:12655,WHATSAPP_FOR_IOS_CHAT_FOOTER_QP:12654,WHATSAPP_FOR_SMBA_CHAT_FOOTER_QP:12653,WHATSAPP_FOR_SMBI_CHAT_FOOTER_QP:12652,WHATSAPP_MULTI_PLATFORM_CHAT_FOOTER_QP:12651,FACEBOOK_FOR_ANDROID_STORY_AUDIO_REPLIES_QP:12688,FACEBOOK_FOR_IOS_STORY_AUDIO_REPLIES_QP:12687,FACEBOOK_MULTI_PLATFORM_STORY_AUDIO_REPLIES_QP:12686,WHATSAPP_FOR_ANDROID_WHATSAPP_CONSUMER_CHAT_FOOTER_QP:12701,WHATSAPP_FOR_IOS_WHATSAPP_CONSUMER_CHAT_FOOTER_QP:12702,WHATSAPP_MULTI_PLATFORM_WHATSAPP_CONSUMER_CHAT_FOOTER_QP:12700});f["default"]=a}),66);
__d("QuickPromotionSupportIGSchemaBatchFetchQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9315594988569221"}),null);
__d("QuickPromotionSupportIGSchemaBatchFetchQuery.graphql",["QuickPromotionSupportIGSchemaBatchFetchQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"scale"},{defaultValue:null,kind:"LocalArgument",name:"surface_nux_ids"}],c=[{kind:"Literal",name:"is_from_igwww",value:!0},{kind:"Variable",name:"surface_nux_ids",variableName:"surface_nux_ids"}],d={alias:null,args:null,kind:"ScalarField",name:"surface_nux_id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"client_ttl_seconds",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"is_holdout",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"log_eligibility_waterfall",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"promotion_id",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"asset_url",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"mode",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"client_side_dry_run",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"clause_type",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"filter_type",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"unknown_action",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"required",storageKey:null},r=[l,q],s={alias:null,args:null,concreteType:"QuickPromotionFilter",kind:"LinkedField",name:"filters",plural:!0,selections:[o,p,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"value",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extra_datas",plural:!0,selections:r,storageKey:null}],storageKey:null},t={alias:null,args:null,concreteType:"QuickPromotionFilter",kind:"LinkedField",name:"filters",plural:!0,selections:[o,p],storageKey:null},u={alias:null,args:null,concreteType:"BloksRootComponent",kind:"LinkedField",name:"bloks_view_v2",plural:!1,selections:[{alias:null,args:null,concreteType:"BloksComponent",kind:"LinkedField",name:"component",plural:!1,selections:[{alias:null,args:null,concreteType:"BloksBundle",kind:"LinkedField",name:"bundle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bloks_bundle_tree",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},v=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],w={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:v,storageKey:null};v={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"content",plural:!1,selections:v,storageKey:null};var x={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"limit",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"dismiss_promotion",storageKey:null},A=[w,x,y,z],B=[{kind:"Variable",name:"scale",variableName:"scale"}],C=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],D={alias:null,args:B,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:C,storageKey:null};B={alias:null,args:B,concreteType:"Image",kind:"LinkedField",name:"dark_mode_image",plural:!1,selections:C,storageKey:null};C={alias:null,args:null,concreteType:"XFBQPBulletListItem",kind:"LinkedField",name:"bullet_list",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"icon",plural:!1,selections:C,storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"dark_icon",plural:!1,selections:C,storageKey:null}],storageKey:null};var E={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},F={alias:null,args:null,concreteType:"QPDiglossiaData",kind:"LinkedField",name:"diglossia_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_diglossia_enabled",storageKey:null},{alias:null,args:null,concreteType:"QPDiglossiaContentTranslations",kind:"LinkedField",name:"content_translations",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"locale",storageKey:null},w,v,{alias:null,args:null,kind:"ScalarField",name:"primary_action_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"secondary_action_title",storageKey:null}],storageKey:null}],storageKey:null},G={alias:null,args:null,kind:"ScalarField",name:"is_server_force_pass",storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"is_uncancelable",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"encrypted_logging_data",storageKey:null},J={alias:null,args:null,kind:"ScalarField",name:"max_impressions",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"triggers",storageKey:null};q=[E,l,q];o={alias:null,args:null,concreteType:"QuickPromotionFilter",kind:"LinkedField",name:"filters",plural:!0,selections:[o,p,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"value",plural:!1,selections:q,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extra_datas",plural:!0,selections:q,storageKey:null}],storageKey:null};p=[E,w,x,y,z];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"QuickPromotionSupportIGSchemaBatchFetchQuery",selections:[{alias:null,args:c,concreteType:"IGQuickPromotionSurface",kind:"LinkedField",name:"ig_quick_promotion_batch_fetch_root",plural:!0,selections:[d,{alias:null,args:null,concreteType:"IGQuickPromotionSurfaceEligiblePromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"IGQuickPromotionSurfaceEligiblePromotionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[e,f,g,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[h,i,{alias:null,args:null,concreteType:"QuickPromotionAnimation",kind:"LinkedField",name:"animations",plural:!0,selections:[j,k,l],storageKey:null},m,{alias:null,args:null,concreteType:"QuickPromotionFilterClause",kind:"LinkedField",name:"contextual_filters",plural:!1,selections:[n,s,{alias:null,args:null,concreteType:"QuickPromotionFilterClause",kind:"LinkedField",name:"clauses",plural:!0,selections:[n,t,{alias:null,args:null,concreteType:"QuickPromotionFilterClause",kind:"LinkedField",name:"clauses",plural:!0,selections:[n,s],storageKey:null}],storageKey:null}],storageKey:null},u,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"creatives",plural:!0,selections:[w,v,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"primary_action",plural:!1,selections:A,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"secondary_action",plural:!1,selections:A,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"dismiss_action",plural:!1,selections:A,storageKey:null},D,B,C,E],storageKey:null},F,G,H,I,J,{alias:null,args:null,concreteType:"QuickPromotionTemplate",kind:"LinkedField",name:"template",plural:!1,selections:[l,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"parameters",plural:!0,selections:r,storageKey:null}],storageKey:null},K],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"QuickPromotionSupportIGSchemaBatchFetchQuery",selections:[{alias:null,args:c,concreteType:"IGQuickPromotionSurface",kind:"LinkedField",name:"ig_quick_promotion_batch_fetch_root",plural:!0,selections:[d,{alias:null,args:null,concreteType:"IGQuickPromotionSurfaceEligiblePromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"IGQuickPromotionSurfaceEligiblePromotionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[e,f,g,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[E,h,i,{alias:null,args:null,concreteType:"QuickPromotionAnimation",kind:"LinkedField",name:"animations",plural:!0,selections:[j,k,l,h],storageKey:null},m,{alias:null,args:null,concreteType:"QuickPromotionFilterClause",kind:"LinkedField",name:"contextual_filters",plural:!1,selections:[n,o,{alias:null,args:null,concreteType:"QuickPromotionFilterClause",kind:"LinkedField",name:"clauses",plural:!0,selections:[n,t,{alias:null,args:null,concreteType:"QuickPromotionFilterClause",kind:"LinkedField",name:"clauses",plural:!0,selections:[n,o],storageKey:null}],storageKey:null}],storageKey:null},u,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"creatives",plural:!0,selections:[w,v,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"primary_action",plural:!1,selections:p,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"secondary_action",plural:!1,selections:p,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"dismiss_action",plural:!1,selections:p,storageKey:null},D,B,C,E],storageKey:null},F,G,H,I,J,{alias:null,args:null,concreteType:"QuickPromotionTemplate",kind:"LinkedField",name:"template",plural:!1,selections:[l,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"parameters",plural:!0,selections:q,storageKey:null}],storageKey:null},K],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("QuickPromotionSupportIGSchemaBatchFetchQuery_instagramRelayOperation"),metadata:{},name:"QuickPromotionSupportIGSchemaBatchFetchQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("enumUtils",["nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return Object.values(b).find(function(b){return b===a})}function a(a,b){return a==null?null:h(a,b)}function i(a,b){if(a!=null)for(b of Object.keys(b))if(b===a)return b;return null}function j(a,b){return c("nullthrows")(h(a,b))}function b(a,b){return c("nullthrows")(i(a,b))}function d(a,b){var c=[];for(a of a)c.push(j(a,b));return c}function k(a,b){return(b=b[a])!=null?b:null}function l(a,b){return c("nullthrows")(k(a,b))}function e(a,b){var c=[];for(a of a)c.push(l(a,b));return c}function m(a,b){var c;Object.keys(b).forEach(function(d){b[d]===a&&(c=d)});return c}function f(a,b){return c("nullthrows")(m(a,b))}g.coerce=h;g.coerceNullable=a;g.coerceKey=i;g.assert=j;g.assertKey=b;g.assertIterable=d;g.coerceFromKey=k;g.assertFromKey=l;g.assertIterableFromKey=e;g.enumValueToKey=m;g.enumValueToKeyEnforcing=f}),98);
__d("QuickPromotionSupportIGSchemaBatchFetchQuery",["CometRelay","PolarisRelayEnvironment","QuickPromotionNuxID","QuickPromotionSupportIGSchemaBatchFetchQuery.graphql","enumUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=h!==void 0?h:h=b("QuickPromotionSupportIGSchemaBatchFetchQuery.graphql");a=a.map(function(a){return d("enumUtils").enumValueToKey(Number(a),c("QuickPromotionNuxID"))}).filter(Boolean);return d("CometRelay").fetchQuery(c("PolarisRelayEnvironment"),e,{scale:window.devicePixelRatio,surface_nux_ids:a}).toPromise().then(function(a){var b=[];a==null?void 0:a.ig_quick_promotion_batch_fetch_root.forEach(function(a){var d;b.push({data:{viewer:(d=a)!=null?d:{}},surface:c("QuickPromotionNuxID")[String(a.surface_nux_id)]})});a=JSON.parse(JSON.stringify(b));a={client_cache_ttl_in_sec:7200,qp_data:a,request_status:"SUCCESS"};return a})}g.fetchBatchQuickPromotionsIGWWWMigration=a}),98);
__d("PolarisQPActions",["FBLogger","PolarisInstajax","PolarisQPConstants","QuickPromotionSupportIGSchemaBatchFetchQuery","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return function(e){e({slot:a,surfaceParams:b,type:"FETCH_QP_REQUESTED"});return d("QuickPromotionSupportIGSchemaBatchFetchQuery").fetchBatchQuickPromotionsIGWWWMigration(b).then(function(f){if(!f||!f.qp_data){e({slot:a,surfaceParams:b,type:"FETCH_QP_FAILED"});return}var g={};f.qp_data.forEach(function(a){var b=a.data;g[a.surface]=b?c("nullthrows")(b.viewer.eligible_promotions.edges.filter(function(b){return a.surface===parseInt(d("PolarisQPConstants").SURFACES.PAGE_TOP,10)?b.node.bloks_view_v2!==null:!0}).map(function(b){b.node.bloks_view_v2&&(b.node.bloks_view_v2.component.bundle.bloks_bundle_tree=JSON.parse(b.node.bloks_view_v2.component.bundle.bloks_bundle_tree));var c=b.node.logging_data;c=c?JSON.parse(c):void 0;return babelHelpers["extends"]({},b.node,{logging_data:c,surface_id:a.surface})})):[]});e({promotions:g,slot:a,type:"FETCH_QP_SUCCEEDED"})},function(f){e({slot:a,surfaceParams:b,type:"FETCH_QP_FAILED"}),f instanceof d("PolarisInstajax").AjaxError||c("FBLogger")("ig_web").catching(f)})}}function b(a,b){return function(c){c({feedFilter:b,slot:a,type:"SET_FEED_QP_FILTERS"})}}function e(a){return{slot:a,type:"SET_QP_DISMISSED"}}g.fetchBatchQuickPromotionAction=a;g.setFeedPageFilter=b;g.dismissQP=e}),98);/*FB_PKG_DELIM*/
__d("EntMessageReplyType",[],(function(a,b,c,d,e,f){a=Object.freeze({REGULAR:0,BUMP:1});f["default"]=a}),66);
__d("LSInitSyncCompleteSubscription",["I64","LSIntEnum","Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,c){return new(j||(j=b("Promise")))(function(b,e){var f=d("ReQL").fromTableAscending(a.tables.sync_groups).getKeyRange(c).subscribe(function(a,c){if(c.operation==="delete")return;if((h||(h=d("I64"))).equal(c.value.syncStatus,(i||(i=d("LSIntEnum"))).ofNumber(2))){f();return b()}})})}function a(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.sync_groups).getKeyRange(b)).then(function(c){if(c!=null&&(h||(h=d("I64"))).equal(c.syncStatus,(i||(i=d("LSIntEnum"))).ofNumber(2)))return;return k(a,b)})}function c(a){return k(a,(i||(i=d("LSIntEnum"))).ofNumber(1))}g.maybeWaitForSyncGroup=a;g.use=c}),98);
__d("LSIssueNewError",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.db.table(6).add({errorId:void 0,taskId:a[0],errorCode:a[1],errorTitleText:a[2],errorBodyText:a[3],issuedTimestampMs:c[0],errorExtraData:a[4],presentationStyle:a[5]})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreIssueNewErrorStoredProcedure";a.__tables__=["user_visible_errors"];e.exports=a}),null);
__d("LSOptimisticUpdateThreadDisappearingSetting",["LSIssueNewError","LSIssueNewTask","LSLocalize"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.sortBy(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=!1:(b=a.item,d[0]=b.errorShouldBeShown)})},function(a){return d[0]===!0?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2285622730]),void 0).then(function(a){return d[4]=a})},function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1919524925]),void 0).then(function(a){return d[5]=a})},function(a){return c.storedProcedure(b("LSIssueNewError"),void 0,c.i64.cast([0,1545093]),d[4],d[5],void 0,void 0)}]):c.resolve()},function(e){return d[2]=new c.Map(),d[2].set("wa_jid",void 0),d[2].set("thread_key",a[0]),d[2].set("disappearing_ttl",a[1]),d[2].set("updated_timestamp",a[2]),d[2].set("updated_by",a[3]),d[2].set("sync_group",c.i64.cast([0,95])),d[3]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),"disappearing_setting",c.i64.cast([0,714]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticUpdateThreadDisappearingSettingStoredProcedure";a.__tables__=["user_visible_network_connectivity_error"];e.exports=a}),null);
__d("LSOptimisticUpdateThreadDisappearingSettingStoredProcedure",["LSOptimisticUpdateThreadDisappearingSetting","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){e===void 0&&(e={});a=a.storedProcedure(c("LSOptimisticUpdateThreadDisappearingSetting"),e.threadKey,e.disappearingTtl,e.updatedTimestamp,e.updatedBy);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSRefetchContactRowIfExists",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(e,f){var g=e.done;e=e.value;return g?0:(f=e.item,c.i64.le(f.authorityLevel,c.i64.cast([0,80]))?(d[0]=new c.Map(),d[0].set("contact_id",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"cpq_v2",c.i64.cast([0,207]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.resolve())})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSContactRefetchContactRowIfExistsStoredProcedure";a.__tables__=["contacts"];e.exports=a}),null);
__d("LSRefetchContactRowIfExistsStoredProcedure",["LSRefetchContactRowIfExists","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSRefetchContactRowIfExists"),e.id);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSRemoveError",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(6).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreRemoveErrorStoredProcedure";a.__tables__=["user_visible_errors"];e.exports=a}),null);
__d("LSRemoveErrorStoredProcedure",["LSRemoveError","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSRemoveError"),e.errorId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWBridgeInitOfflineQueueSyncCompleteHandler",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MessengerLogHistory").__setRef("MAWBridgeInitOfflineQueueSyncCompleteHandler");function a(){h.onReady(function(a){a=a.getInstance("maw_setup");a.debug("Init Offline Queue Sync Complete")})}g.call=a}),98);
__d("MAWTrackPendingOccamadilloThreads",["Deferred","LSDatabaseSingleton","LSInitSyncCompleteSubscription","LSIntEnum","LSPlatformLsInitLog","MAWMIC","MAWMICSchema","QuickPerformanceLogger","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(h={},h[d("MAWMICSchema").ANNOTATIONS.occamadilloBatchesSentToWorker]=0,h[d("MAWMICSchema").ANNOTATIONS.occamadilloPendingThreadsAfterInitSync]=0,h[d("MAWMICSchema").ANNOTATIONS.occamadilloDuplicateThreads]=0,h);(function(){Object.keys(l).forEach(function(a){d("MAWMIC").addIntAnnotation(a,0)})})();function m(a){d("MAWMIC").addIntAnnotation(a,++l[a])}function a(){return l.occamadilloBatchesSentToWorker}var n=new(c("Deferred"))(),o=new Set(),p=new Set(),q=new Set(),r=new Set();function e(a){a=a.callingSource;r.add((k||(k=d("LSIntEnum"))).toNumber(a));d("MAWMIC").addIntArrayAnnotation(d("MAWMICSchema").ANNOTATIONS.occamadilloCallingSources,Array.from(r))}function f(a){d("MAWMIC").addPoint(d("MAWMICSchema").POINTS.thread_mapping_start);if(o.has(a)){m(d("MAWMICSchema").ANNOTATIONS.occamadilloDuplicateThreads);return}p.add(a);d("LSPlatformLsInitLog").LsSync.isRunning()&&q.add(a);(i||(i=c("QuickPerformanceLogger"))).currentTimestamp();o.add(a);d("MAWMIC").addIntAnnotation("occamadilloThreadCount",o.size);d("LSPlatformLsInitLog").LsSync.hasEnded()&&m(d("MAWMICSchema").ANNOTATIONS.occamadilloPendingThreadsAfterInitSync)}function s(){d("MAWMIC").addBoolAnnotation("threadMappingAcked",!0)}function t(a){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(c("gkx")("2661"))yield n.getPromise();else{var b=(yield (j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton);yield d("LSInitSyncCompleteSubscription").maybeWaitForSyncGroup(b,(k||(k=d("LSIntEnum"))).ofNumber(95))}p["delete"](a);q["delete"](a);d("MAWMIC").addIntAnnotation("occamadilloCompleteThreadCount",o.size-p.size);w()});return u.apply(this,arguments)}function v(){n.resolve(),w()}function w(){d("MAWMIC").addIntAnnotation("occamadilloThreadCount",o.size);if(d("LSPlatformLsInitLog").LsSync.hasEnded()&&q.size===0){d("MAWMIC").addPoint(d("MAWMICSchema").POINTS.thread_mapping_end);return}p.size===0&&d("MAWMIC").addPoint(d("MAWMICSchema").POINTS.thread_mapping_end)}g.incrementCounter=m;g.getBatchesSentNumber=a;g.markThreadPassedToNativeOp=e;g.addPendingThread=f;g.markBridgeCallAcked=s;g.removePendingThread=t;g.completeSync=v;g.maybeEndOccamadilloThreadMapping=w}),98);
__d("MAWWorkerEvent",["FBLogger","MAWMIC","MAWReliabilityMonitor","MAWSetupWorkerAuxStateForLogging","MAWTrackPendingOccamadilloThreads","MAWWaitForBackendSetup","MultipleTabsLogger","QPLUserFlow","pageID","performanceNow","promiseDone","qpl","requireDeferred","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("MAWBridgeObserver").__setRef("MAWWorkerEvent"),j=c("requireDeferred")("MAWWebWorkerSingleton").__setRef("MAWWorkerEvent"),k=new Set(),l=new Set(["addEbUploadTrackingWorkerQPL","ackWithInstanceKey","addMediaDownloadQpl","searchGetFTSRestoreSessionId","none"]),m=new Set(["bulkCreateThread","bulkCreateOrUpdateThread","createThread","createOrUpdateThread"]),n=new Map(),o=function(a){switch(a){case"sendAndReceive":return 1e4;case"fireAndForget":return 4e3;case"waitUntilCompleted":return 1e4;case"waitUntilPersisted":return 1e4;default:return 1e4}},p=function(a,b,d){d=window.setTimeout(function(){v(a,"ack_timeout"),c("promiseDone")(i.load().then(function(a){a.notifyUnackedEvent({route:b,timestamp:(h||(h=c("performanceNow")))()})}))},o(d));n.set(a,d);return d},q=function(a){var b=n.get(a);b!=null&&(window.clearTimeout(b),c("promiseDone")(i.load().then(function(a){a.resetUnackedMessages()})),n["delete"](a))};function a(a,b,e){if(k.has(e)||l.has(b))return;k.add(e);c("QPLUserFlow").start(c("qpl")._(1056842055,"807"),{annotations:{bool:{duringMIC:d("MAWMIC").duringMIC(),useSharedWorker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker(),workerTerminatedPermanently:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.workerTerminatedPermanently},"int":{key:e},string:{callType:a,event:b,pageID:c("pageID"),workerHeartbeatsOnStart:d("MAWSetupWorkerAuxStateForLogging").getHeartbeatHistoryAsString(),workerID:d("MAWWaitForBackendSetup").getCurrentWorkerID()},string_array:{worker_restart_msgs:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartMessageTypes,worker_restart_reasons:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartReasons}},instanceKey:e});void d("MultipleTabsLogger").hasMultipleTabs().then(function(a){c("QPLUserFlow").addAnnotations(c("qpl")._(1056842055,"807"),{bool:{isMultiTabs:a}},{instanceKey:e})});void j.load().then(function(a){return a.getWorkerHealthStatus().then(function(a){c("QPLUserFlow").addAnnotations(c("qpl")._(1056842055,"807"),{string:{workerHealthStatusOnStart:a.tag}})})})}function b(a){if(!k.has(a))return;k["delete"](a);c("QPLUserFlow").endSuccess(c("qpl")._(1056842055,"807"),{instanceKey:a})}function e(a,b){if(!k.has(a))return;k["delete"](a);c("QPLUserFlow").endFailure(c("qpl")._(1056842055,"807"),"fail",{annotations:{bool:{workerTerminatedPermanently:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.workerTerminatedPermanently},string:{error:b},string_array:{worker_restart_msgs:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartMessageTypes,worker_restart_reasons:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartReasons}},instanceKey:a})}function f(a,b,e){if(!k.has(a))return;k["delete"](a);c("QPLUserFlow").endFailure(c("qpl")._(1056842055,"807"),"timeout",{annotations:{bool:{workerTerminatedPermanently:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.workerTerminatedPermanently},string:{error:b,workerHealthStatus:e.tag},string_array:{worker_restart_msgs:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartMessageTypes,worker_restart_reasons:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartReasons}},instanceKey:a})}function r(a,b){if(!k.has(a))return;c("QPLUserFlow").addAnnotations(c("qpl")._(1056842055,"807"),b,{instanceKey:a})}function s(a,b){if(!k.has(a))return;try{if(Array.isArray(b)){var e=b.every(function(a){return typeof a==="object"&&a!=null&&"state"in a&&a.state===d("MAWReliabilityMonitor").HealthReportState.OK.valueOf()});b=b.reduce(function(a,b){typeof b==="object"&&b!=null&&"state"in b&&"identifier"in b&&"reason"in b&&b.state!==d("MAWReliabilityMonitor").HealthReportState.OK.valueOf()&&typeof b.state==="string"&&typeof b.reason==="string"&&typeof b.identifier==="string"&&a.push([b.identifier,b.state,b.reason].join(":"));return a},[]);r(a,{bool:{workerHealthStatus:e},string:{error:(a=b[0])!=null?a:void 0},string_array:{errors:b}})}}catch(a){c("FBLogger")("messenger_web").catching(a).mustfix("Failed to log ack result annotations");return!1}}function t(a,b,c){if(typeof c==="object"&&typeof (c==null?void 0:c.timestamp)==="number"){c=c.payload;q(a);v(a,"ack");s(a,c);m.has(b)&&d("MAWTrackPendingOccamadilloThreads").markBridgeCallAcked()}}function u(a,b,c){l.has(b)||p(a,b,c),v(a,"send")}function v(a,b,d){if(!k.has(a))return;c("QPLUserFlow").addPoint(c("qpl")._(1056842055,"807"),b,{instanceKey:a,timestamp:d})}g.getUnackedEventTimeout=o;g.logStart=a;g.logSuccess=b;g.logFailure=e;g.logTimeoutFailure=f;g.logAnnotations=r;g.logAck=t;g.logSend=u}),98);
__d("MAWBridgeLoggingUtils",["MAWWorkerEvent","ODS","Random","WAHashStringToNumber"],(function(a,b,c,d,e,f,g){"use strict";var h,i=3185,j="armadillo_worker_runtime",k="getWorkerHeartbeat",l=10,m=new Array(l);function n(a,b,c){(h||(h=d("ODS"))).bumpEntityKey(i,j,a+"_"+b+"_"+c)}function a(a){return d("WAHashStringToNumber").hashStringToNumber(a+Math.round(d("Random").random()*1e4)+1e4)}function b(a,b,c,e){n(b,c,"start");if(c===k)return;(h||(h=d("ODS"))).bumpEntityKey(i,j,"route_start");d("MAWWorkerEvent").logStart(a,c,e);m.length===l&&m.shift();m.push(b+"_"+c)}function o(a){m.filter(Boolean).forEach(function(b){(h||(h=d("ODS"))).bumpEntityKey(i,j,b+a)})}function c(a,b,c){n(a,b,"success");if(b===k)return;(h||(h=d("ODS"))).bumpEntityKey(i,j,"route_success");d("MAWWorkerEvent").logSuccess(c)}function e(a,b,c,e){n(a,b,"fail");if(b===k)return;(h||(h=d("ODS"))).bumpEntityKey(i,j,"route_fail");d("MAWWorkerEvent").logFailure(e,c)}function f(a,b,c,e){n(a,b,"timeout");if(b===k)return;(h||(h=d("ODS"))).bumpEntityKey(i,j,"route_timeout");d("MAWWorkerEvent").logTimeoutFailure(c,"Route timeout",e)}function p(){o("_before_unresponsive"),m.fill(null)}g.CAT_ID=i;g.ENT=j;g.HEARTBEAT_ROUTE=k;g.RECENT_ROUTES_NUM=l;g.getBridgeEventInstanceKey=a;g.routeStart=b;g.logRecentRoutes=o;g.routeSuccess=c;g.routeFail=e;g.routeTimeoutFail=f;g.logRecentBridgeEvents=p}),98);
__d("MAWClientConsistencyRefresh",["ClientConsistencyEventEmitter","CurrentAppID"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(d("CurrentAppID").getAppID()){case 772021112871879:c("ClientConsistencyEventEmitter").emit("hardRefresh",a);break;default:c("ClientConsistencyEventEmitter").emit("softRefresh",a)}}g["default"]=a}),98);
__d("MAWCrossWorkerPortal",["FBLogger","WACrossWorkerPortal","pageID"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e,f){if(h!=null)return h;h=d("WACrossWorkerPortal").attachPortal(a,b,e,c("pageID"),f);return h}function b(){if(h==null){c("FBLogger")("messenger_web").warn("Trying to kill portal before its setup");return}d("WACrossWorkerPortal").killPortalAndSendPendingToBridge(h)}g.getOrCreateCrossWorkerPortal=a;g.killPortalWhenWorkerTerminating=b}),98);
__d("MAWWorkerOnClose",["MAWSetupWorkerAuxStateForLogging","MAWWaitForBackendSetup","MAWWebWorkerSingleton","QPLUserFlow","pageID","promiseDone","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qpl")._(1056841865,"2862");function a(a,b,e){c("QPLUserFlow").start(h,{annotations:{string:{currentWorkerId:d("MAWWaitForBackendSetup").getCurrentWorkerID(),pageID:c("pageID"),terminationMsgType:b,terminationReason:a,workerID:e},string_array:{pastWorkerTerminationMsgTypes:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartMessageTypes,pastWorkerTerminationReasons:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartReasons}}})}function b(a){c("promiseDone")(d("MAWWebWorkerSingleton").getWorkerHealthStatus(),function(b){return c("QPLUserFlow").endSuccess(h,{annotations:{bool:babelHelpers["extends"]({},b.data),string:{healthStatusAfter:b.tag,outcome:a}}})})}function e(a,b){c("promiseDone")(d("MAWWebWorkerSingleton").getWorkerHealthStatus(),function(d){return c("QPLUserFlow").endFailure(h,a,{annotations:{bool:babelHelpers["extends"]({},d.data),string:{healthStatusAfter:d.tag}},error:b})})}g.ON_WORKER_CLOSED_HANDLER_QPL=h;g.startQPL=a;g.success=b;g.fail=e}),98);
__d("MAWTimedBridge",["MAWBridgeLoggingUtils","MAWMaybeWithTimeout","MAWWaitForBackendSetup","MAWWebWorkerSingleton","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["route.",""]);h=function(){return a};return a}var i=17e4;function a(a,b,c,e,f){f===void 0&&(f=i);return d("MAWWaitForBackendSetup").waitForBackendSetup(c).then(function(){return d("MAWMaybeWithTimeout").maybeWithTimeout(a(),f,function(){return d("MAWWebWorkerSingleton").getWorkerHealthStatus().then(function(a){d("MAWBridgeLoggingUtils").routeTimeoutFail(b,c,e,a);d("WALogger").COUNT(h(),c).tags("bridge_timeout");throw new j("Bridge route "+c+" timed out, WorkerHealthStatus: "+a.tag)})},c)})}var j=function(b){babelHelpers.inheritsLoose(a,b);function a(a){var c;c=b.call(this,a)||this;c.name="BridgeTimeoutError";c.message=a;return c}return a}(babelHelpers.wrapNativeSuper(Error));g.DEFAULT_MAW_BRIDGE_TIMEOUT_MS=i;g.bridgeTimeout=a;g.MAWBridgeTimeoutError=j}),98);
__d("MAWBridgeSendAndReceive",["MAWBridge","MAWBridgeLoggingUtils","MAWTimedBridge","MAWWorkerEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){var f=d("MAWBridgeLoggingUtils").getBridgeEventInstanceKey(b),g=(e==null?void 0:e.isLoggingDisabled)!==!0,h=d("MAWTimedBridge").bridgeTimeout(function(){g&&d("MAWBridgeLoggingUtils").routeStart("sendAndReceive",a,b,f);return d("MAWBridge").getBridge().sendAndReceive(a,b,c,e==null?void 0:e.isLoggingDisabled,{onAck:function(a){g&&d("MAWWorkerEvent").logAck(f,b,a)},onSend:function(a){var c=a.queueMsgs;a=a.queueSize;g&&(d("MAWWorkerEvent").logSend(f,b,"sendAndReceive"),d("MAWWorkerEvent").logAnnotations(f,{"int":{bridgeSize:a},string_array:{bridgeMsgs:c}}))}},{bridgeQPLInstanceKey:f}).then(function(c){g&&d("MAWBridgeLoggingUtils").routeSuccess(a,b,f);return c})["catch"](function(c){g&&d("MAWBridgeLoggingUtils").routeFail(a,b,c.message,f);throw c})},a,b,f,e==null?void 0:e.timeoutMs);return h}g.sendAndReceive=a}),98);
__d("MAWWorkerWatchdog",["MAWBridgeLoggingUtils","MAWBridgeSendAndReceive","MAWSetupWorkerAuxStateForLogging","MAWWaitForBackendSetup","MAWWebWorkerSingleton","MAWWorkerWatchdogRecovery","Promise","QPLUserFlow","clearTimeout","err","gkx","justknobx","promiseDone","qpl","setInterval","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("gkx")("12962"),j=c("justknobx")._("4240"),k=j/2,l=c("qpl")._(1056847415,"2909"),m=!1,n=!1,o=null,p=["shared_not_exists","shared_exists_not_connected"];function q(){var a;c("QPLUserFlow").start(l,{annotations:{bool:{workerTerminatedPermanently:(a=d("MAWSetupWorkerAuxStateForLogging")).WorkerLifeCycleState.workerTerminatedPermanently},"int":{workerAge:a.WorkerLifeCycleState.getWorkerAge()},string:{currentWorkerId:d("MAWWaitForBackendSetup").getCurrentWorkerID()},string_array:{pastWorkerTerminationMsgTypes:a.WorkerLifeCycleState.restartMessageTypes,pastWorkerTerminationReasons:a.WorkerLifeCycleState.restartReasons}}});return(h||(h=b("Promise"))).race([d("MAWBridgeSendAndReceive").sendAndReceive("backend",d("MAWBridgeLoggingUtils").HEARTBEAT_ROUTE),new h(function(a,b){c("setTimeout")(function(){b(c("err")("Armadillo web worker heartbeat timed out."))},k)})]).then(function(){o!=null&&(c("clearTimeout")(o),o=null,c("QPLUserFlow").addPoint(l,"clear-lock-based-recovery")),c("QPLUserFlow").endSuccess(l),d("MAWSetupWorkerAuxStateForLogging").addWorkerHeartbeatToHistory("OK")},function(a){if(c("gkx")("13566")&&o==null){c("QPLUserFlow").addPoint(l,"starting-lock-based-recovery");var b=d("MAWWaitForBackendSetup").getCurrentWorkerID();o=c("setTimeout")(function(){c("promiseDone")(d("MAWWebWorkerSingleton").getWorkerHealthStatus().then(function(a){var c=d("MAWWorkerWatchdogRecovery").getWorkerRecoveryForWatchdog();if(p.includes(a.tag)&&c!=null)return c("locks_based_recovery",b,"locks_based_recovery")})),o=null},j*2)}d("MAWSetupWorkerAuxStateForLogging").addWorkerHeartbeatToHistory("ERROR");c("promiseDone")(d("MAWWebWorkerSingleton").getWorkerHealthStatus(),function(b){return c("QPLUserFlow").endFailure(l,"heartbeat_timeout",{annotations:{bool:babelHelpers["extends"]({},b.data),string:{workerHealthStatus:b.tag}},error:a})})})}function a(){if(n||!i)return;c("setInterval")(function(){if(!m)return;c("promiseDone")(q())},j);d("MAWWaitForBackendSetup").runAfterBackendSetup(function(){m=!0},d("MAWBridgeLoggingUtils").HEARTBEAT_ROUTE);n=!0}g.HEARTBEAT_TIMEOUT_INTERVAL=k;g.MAW_WORKER_HEARTBEAT_QPL=l;g.startWatchdog=a}),98);
__d("MAWSetupWorker",["CurrentAppID","Deferred","FBLogger","IGDWebUtils","MAWBridgeObserver","MAWClientConsistencyRefresh","MAWCommonSetupWorker","MAWCrossWorkerPortal","MAWInit","MAWLoggerUtils","MAWMIC","MAWSetupWorkerAuxStateForLogging","MAWUnrecoverableDbErrors","MAWWaitForBackendSetup","MAWWebWorkerSingleton","MAWWorkerOnClose","MAWWorkerWatchdog","QPLUserFlow","SharedWorkerBundleResource","SharedWorkerV2ResourceExperimental","WATagsLogger","asyncToGeneratorRuntime","cr:6600","gkx","promiseDone","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Shared worker responded to termination request: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["worker terminating: for ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["worker doesn't exist, no need to terminate"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["backend setup successful"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["bridge promise resolved"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["worker setting up with reason: ",", use shared worker: ",""]);m=function(){return a};return a}var n=function(){return c("gkx")("8512")},o=d("WATagsLogger").TAGS([d("MAWLoggerUtils").Tag.WorkerSetup,d("MAWLoggerUtils").Tag.MAWInit]),p=d("IGDWebUtils").isInstagramWebSupportedApp(Number(d("CurrentAppID").getAppID())),q=p?"IGDAWMainWorker":"MAWMainWorker",r=null,s=!1;function t(a){s=a,d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.workerTerminatedPermanently=a}function u(){return s}function v(a){switch(a){case"mawInit":return!0;case"mawReinitSetupMutex":case"mawReinitReregDevice":case"bridgeRecovery":case"workerUpgraded":case"rebootRequired":case"workerTerminated":default:return!1}}function w(a,b,c,d,e,f){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,h,i){if(u())throw c("FBLogger")("messenger_web").mustfixThrow("Worker is permanently killed.");d("MAWWaitForBackendSetup").markBackendSetupStarted();var j=function(b){return w(a,e,f,g,b,i)};(h==="bridgeRecovery"||h==="backendSetupFailure")&&c("QPLUserFlow").addPoint(d("MAWBridgeObserver").BAD_STATE_RECOVERY_QPL,"create_worker_start");d("MAWWebWorkerSingleton").setOnCloseForWorkerInstance(function(a,b,e){var f;d("MAWWorkerOnClose").startQPL(a,e,b);var g=(f=a)!=null?f:"unknown",i=G(g)&&d("MAWWaitForBackendSetup").isBackendSetupSettled();d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartReasons.push(g);d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartMessageTypes.push((f=e)!=null?f:"unknown");if(d("MAWWaitForBackendSetup").getCurrentWorkerID()==null||b!==d("MAWWaitForBackendSetup").getCurrentWorkerID()){d("MAWInit").MAWInit.logPoint(g+"_worker_termination_skipped");d("MAWMIC").addPoint(g+"_worker_termination_skipped");d("MAWWorkerOnClose").success(g+"_worker_restart_skipped");c("FBLogger")("messenger_web").warn("Worker termination skipped %s. Terminate reason: %s, Worker: %s, current worker: %s",h,a,b,d("MAWWaitForBackendSetup").getCurrentWorkerID());return}d("MAWWaitForBackendSetup").resetCurrentWorkerSkipIdCheck();c("FBLogger")("messenger_web").warn("Worker termination started %s. Terminate reason: %s, Worker: %s",h,a,b);d("MAWInit").MAWInit.logPoint(g+"_worker_terminated");d("MAWMIC").addPoint(g+"_worker_terminated");d("MAWInit").MAWInit.addStringArrayAnnotation("workerTerminationReason",d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartReasons);d("MAWMIC").addStringArrayAnnotation("workerTerminationReason",d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartReasons);d("MAWInit").MAWInit.addStringArrayAnnotation("workerTerminationMsgType",d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartMessageTypes);d("MAWMIC").addStringArrayAnnotation("workerTerminationMsgType",d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartMessageTypes);var k=a==="requested-upgrade"?"workerUpgraded":g+"_worker_terminated";a==="requested-upgrade"||n()?c("promiseDone")(E(),function(){if(i){t(!0);c("FBLogger")("messenger_web").warn("Tab displays soft refresh. Flow: %s",g);d("MAWInit").MAWInit.logPoint(g+"_soft_refresh");d("MAWMIC").addPoint(g+"_soft_refresh");c("MAWClientConsistencyRefresh")("maw_request_refresh");d("MAWWorkerOnClose").success("softRefresh");return}if(g!=="logout")return j(k).then(function(){return d("MAWWorkerOnClose").success(k)})["catch"](function(a){d("MAWInit").MAWInit.fail("worker_restart_failed",a),d("MAWWorkerOnClose").fail("workerUpgradeFailed",a),d("MAWWaitForBackendSetup").rejectBackendSetup(a)});else d("MAWWorkerOnClose").success("skip_logout")}):d("MAWWorkerOnClose").success("skip_workerLifeCycleCrossTabsDisabledGK")});var p=(yield d("MAWWebWorkerSingleton").createWorkerIfNone(h)),s=p.worker;p=p.workerID;d("MAWWaitForBackendSetup").setCurrentWorker(p);p=new(c("Deferred"))();r=p.getPromise();(h==="bridgeRecovery"||h==="backendSetupFailure")&&c("QPLUserFlow").addPoint(d("MAWBridgeObserver").BAD_STATE_RECOVERY_QPL,"create_worker_end");var v=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();o.LOG(m(),h,v);v&&s.addEventListener("message",function(a){var b;typeof a.data==="object"&&((b=a.data)==null?void 0:b.type)==="sw-shutdown"&&typeof a.data.response==="object"&&((b=a.data.response)==null?void 0:b.reason)==="maw-request-refresh"&&c("MAWClientConsistencyRefresh")("maw_request_refresh")});var x=new(d("MAWCommonSetupWorker").BridgeAdapter)(s,q);yield e(x);p.resolve(x);o.LOG(l());d("MAWMIC").addPoint(h+"_connect_to_backend");yield d("MAWInit").MAWInit.measurePerformance(h+"-init_backend",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=function(){return d("MAWCommonSetupWorker").initWorker({bridge:x,onWorkerAlreadySetup:f,onWorkerRestart:j,reason:h,vaultMaterials:a})};b=v?yield b():yield x.fullyConnected.then(b);d("MAWWaitForBackendSetup").resolveBackendSetup(b);o.LOG(k())}));return d("MAWWaitForBackendSetup").waitForBackendSetup("setup-worker")});return x.apply(this,arguments)}function a(a,b,e,f,g,h){var i=w(a,b,e,f,g,h);v(g)&&c("promiseDone")(d("MAWWaitForBackendSetup").waitForBackendSetup("init bridge recovery observer").then(function(){d("MAWBridgeObserver").initUnackedMessagesObserver({onConnectToExistingWorker:e,onTerminateWorker:f,onWorkerConnect:b,updateWorkerState:h,vaultMaterials:a}),d("MAWWorkerWatchdog").startWatchdog()}));return i}function e(){return r}function y(a){return z.apply(this,arguments)}function z(){z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){c("FBLogger")("messenger_web").info("Terminating dedicated worker: %s. Bridge Promise: %s",a,!!r);if(!r){o.LOG(j());return!1}o.LOG(i(),a);yield E();return!0});return z.apply(this,arguments)}function f(){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield y("terminateWorkerPermanently"),t(!0)});return A.apply(this,arguments)}function B(a,e){var f=c("gkx")("7313");return f?d("SharedWorkerV2ResourceExperimental").terminateSharedWorker(b("cr:6600"),a?"maw-request-refresh":(f=e)!=null?f:"unknown"):d("SharedWorkerBundleResource").terminateSharedWorker(b("cr:6600"),null,a?"maw-request-refresh":(f=e)!=null?f:"unknown")}function C(a){return D.apply(this,arguments)}function D(){D=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();if(b){c("FBLogger")("messenger_web").info("Terminating shared worker: %s",a);b=(yield B(!1,a).then(function(){return!0},function(){return!1}));o.LOG(h(),b);n()||(yield E())}else yield y(a)});return D.apply(this,arguments)}function E(){return F.apply(this,arguments)}function F(){F=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;c("FBLogger")("messenger_web").info("Updating worker state on termination");(a=(yield r))==null?void 0:a.close();r=null;d("MAWWaitForBackendSetup").resetBackendSetup();d("MAWCrossWorkerPortal").killPortalWhenWorkerTerminating();d("MAWWebWorkerSingleton").resetWorkerCreation()});return F.apply(this,arguments)}function G(a){if(a==="MAWEARKeychainDecryptionError"||d("MAWUnrecoverableDbErrors").isUnrecoverableDbErrorByName(a))return!0;return a==="update-required-fbid_change"||a==="update-required-vault_materials_change"?!0:!1}g.setPreventWorkerRestart=t;g.getOrSetupWorker=a;g.waitForWorkerSetup=e;g.terminateDedicatedWorker=y;g.terminateWorkerPermanently=f;g.killSharedWorker=B;g.terminateWorker=C}),98);
__d("MAWWorkerReboot",["FBLogger","MAWBridgeObserver","MAWSetupWorker","MAWWaitForBackendSetup","ODS","Promise","QPLUserFlow","pageID","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){(i||(i=d("ODS"))).bumpEntityKey(3185,"armadillo_shared_worker_reboot","shared_worker_reboot_"+a)}var k=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker(),l=function(a){switch(a){case"bridge_recovery":return"bridgeRecovery";case"backend_setup_failure":return"backendSetupFailure"}};function a(a,e,f,g,i,m){c("QPLUserFlow").start(d("MAWBridgeObserver").BAD_STATE_RECOVERY_QPL,{annotations:{bool:{isSharedWorker:k},string:{trigger:i,workerInitPageID:c("pageID")}}});c("FBLogger")("messenger_web").info("Rebooting worker started.");j("start");d("MAWWaitForBackendSetup").resetBackendSetup();var n=l(i);c("QPLUserFlow").addPoint(d("MAWBridgeObserver").BAD_STATE_RECOVERY_QPL,"terminate_worker_start");return new(h||(h=b("Promise")))(function(b,h){return d("MAWSetupWorker").terminateWorker(n).then(function(){c("QPLUserFlow").addPoint(d("MAWBridgeObserver").BAD_STATE_RECOVERY_QPL,"terminate_worker_end");c("FBLogger")("messenger_web").info("Reboot process killed existing worker successfully.");return d("MAWSetupWorker").getOrSetupWorker(a,e,f,g,n,m).then(function(a){c("FBLogger")("messenger_web").info("Rebooting worker success. Reason for reboot: %s",n),j("success"),c("QPLUserFlow").endSuccess(d("MAWBridgeObserver").BAD_STATE_RECOVERY_QPL),e(a),b()})})["catch"](function(a){c("FBLogger")("messenger_web").info("Rebooting worker failed. Error message: %s",a.message),j("fail"),c("QPLUserFlow").endFailure(d("MAWBridgeObserver").BAD_STATE_RECOVERY_QPL,a.message),d("MAWWaitForBackendSetup").rejectBackendSetup(a),h(a)})})}g.rebootWorker=a}),98);
__d("MAWBridgeObserver",["FBLogger","MAWWaitForBackendSetup","MAWWorkerReboot","promiseDone","qex","qpl"],(function(a,b,c,d,e,f,g){"use strict";a=c("qpl")._(1056840252,"808");var h=5,i=[],j=!1,k,l=function(){i=[]};b=function(a){if(!o())return;if(d("MAWWaitForBackendSetup").isBackendSetupInProgress()){l();return}if(n().length>=h&&!d("MAWWaitForBackendSetup").isBackendSetupInProgress()){c("FBLogger")("messenger_web").info("Minimum threshold of unacked messages reached: %s. Unacked messages: %s",h,JSON.stringify(n()));var b=c("qex")._("440"),e=c("qex")._("468")||h;b===!0&&n().length>=e?(c("FBLogger")("messenger_web").info("QE threshold of unacked messages reached: %s. Unacked messages: %s",h,JSON.stringify(n())),l(),c("promiseDone")(m())):(c("FBLogger")("messenger_web").info("Bridge recovery attempt skipped. Reason for skipped: maw_bridge_recovery_v2_enabled: %s, maw_bridge_recovery_threshold: %s",b,e),i.push(a))}else i.push(a)};var m=function(){c("FBLogger")("messenger_web").info("Starting bridge recovery attempt.");return d("MAWWorkerReboot").rebootWorker(k.vaultMaterials,k.onWorkerConnect,k.onConnectToExistingWorker,k.onTerminateWorker,"bridge_recovery",k.updateWorkerState).then(function(){c("FBLogger")("messenger_web").info("Bridge recovery attempt successful. Worker has restarted.")},function(a){c("FBLogger")("messenger_web").info("Bridge recovery attempt failed. Worker has failed to restart. Error: %s",a.message);throw a})};e=function(a){j=!0,k=a};var n=function(){return i},o=function(){return j};f=function(){return k};g.BAD_STATE_RECOVERY_QPL=a;g.MIN_UNACKED_EVENTS_THRESHOLD=h;g.resetUnackedMessages=l;g.notifyUnackedEvent=b;g.attemptRecovery=m;g.initUnackedMessagesObserver=e;g.getUnackedMessages=n;g.getIsObserverActive=o;g.getProps=f}),98);
__d("MAWGetDBVersionForTest",["justknobx"],(function(a,b,c,d,e,f,g){"use strict";function a(){if(!c("justknobx")._("1495"))return;var a=new URL(document.location.href);a=a.searchParams.get("db_version");if(a==null)return;if(a==="current"||a==="latest")return a;a=parseInt(a,10);if(Number.isInteger(a))return Number(a)}g.getDbVersionForTest=a}),98);
__d("WADevToolMessageChannel",[],(function(a,b,c,d,e,f){"use strict";var g=new MessageChannel(),h;a=function(){g=new MessageChannel();h(g);return g};b=function(){return g};c=function(a){h=a,h(g)};f.createNewChannel=a;f.getMostRecentChannel=b;f.onCreateNewChannel=c}),66);
__d("MAWCommonSetupWorker",["Deferred","FBLogger","MAWCurrentUser","MAWGetDBVersionForTest","MAWInit","MAWMIC","MAWSetupWorker","MAWWaitForBackendSetup","MAWWebWorkerSingleton","MessengerWebInitData","Promise","WADevToolMessageChannel","WALogger","WorkerClient","WorkerMessagePort","err","gkx","pageID","promiseDone","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Terminating worker and rebooting..."]);i=function(){return a};return a}var j=c("gkx")("3282");e=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var e;e=a.call(this,b,c)||this;e.onmessage=null;e.$BridgeAdapter$p_1=b;d("WorkerClient").init(babelHelpers.assertThisInitialized(e));e.onUnhandledMessage.add(function(a){e.onmessage&&e.onmessage({data:a})});e.addMessageListener("worker-setup",function(a){a.status==="worker-ready"&&d("MAWInit").MAWInit.addBoolAnnotation("workerReadyReceived",!0)});return e}var c=b.prototype;c.getBridgePort=function(){return this};return b}(d("WorkerMessagePort").WorkerSyncedMessagePort);function a(a){var b=a.bridge,e=a.reason,f=a.vaultMaterials,g=new(c("Deferred"))();b.addMessageListener("worker-setup",function(b){return k(a,g,b)});b.addMessageListener("worker-setup-ack",function(a){return l(a,e)});n(b,f);c("promiseDone")(d("MAWWebWorkerSingleton").doesWorkerExist(),function(a){return d("MAWInit").MAWInit.addBoolAnnotation("workerExistsOnSetup",a)});c("promiseDone")(d("MAWWebWorkerSingleton").getWorkerHealthStatus(),function(a){return d("MAWInit").MAWInit.addStringAnnotation("workerHealthStatus",a.tag)});return g.getPromise()}function k(a,b,e){var f;if(e.setupHash!==c("pageID"))return;switch(e.status){case"success":b.resolve(a.bridge.getBridgePort());break;case"failure":b.reject(c("err")((f=e.msg)!=null?f:"Error setting up worker"));break;case"already-setup":return m(a,b,e);default:d("MAWInit").MAWInit.addBoolAnnotation("invalidSetupMessageReceived",!0);throw c("FBLogger")("messenger_web").mustfixThrow("Invalid message for worker: "+e.status)}}function l(a,b){if(a.setupHash!==c("pageID"))return;d("MAWInit").MAWInit.logPoint(b+"_backend_setup_ack");d("MAWMIC").addPoint(b+"_backend_setup_ack");a=(b=a.backendState)!=null?b:"none";d("MAWInit").MAWInit.addStringAnnotation("backendAckState",a);d("MAWMIC").addStringAnnotation("backendAckState",a)}function m(a,e,f){var g=a.bridge,j=a.onWorkerAlreadySetup,k=a.onWorkerRestart;a=a.reason;switch(f.action){case"no-action":e.resolve(g.getBridgePort());j();d("MAWInit").MAWInit.logPoint(a+"_backend_already_setup");d("MAWMIC").addPoint(a+"_backend_already_setup");break;case"reboot-required":d("WALogger").DEV(i());d("MAWMIC").addPoint(a+"_worker_rebooting");d("MAWInit").MAWInit.logPoint(a+"_worker_rebooting");j=(g=f==null?void 0:f.reason)!=null?g:"none";d("MAWInit").MAWInit.addStringAnnotation("workerRebootReason",j);d("MAWMIC").addStringAnnotation("workerRebootReason",j);a=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()?(h||(h=b("Promise"))).resolve(d("MAWWaitForBackendSetup").resetCurrentWorkerWithId(d("MAWWaitForBackendSetup").getCurrentWorkerID())):d("MAWSetupWorker").terminateDedicatedWorker("reboot required");return a.then(function(){return k("rebootRequired").then(function(a){return e.resolve(a)})["catch"](function(a){return e.reject(a)})});default:f.action;throw c("FBLogger")("messenger_web").mustfixThrow("Invalid action for worker-setup:already-setup: "+f.action)}}function n(a,b){b={content:{createdAt:c("MessengerWebInitData").createdAt,fbId:d("MAWCurrentUser").getID(),sessionId:c("MessengerWebInitData").sessionId,testDbVersion:d("MAWGetDBVersionForTest").getDbVersionForTest(),userKeyBase:c("MessengerWebInitData").userKeyBase,vaultMaterials:b},setupHash:c("pageID"),type:"worker-setup"};if(j){d("MAWInit").MAWInit.addBoolAnnotation("devToolsEnabled",!0);var e=d("WADevToolMessageChannel").createNewChannel();b.content.devToolMessageChannelPort2=e.port2;a.postMessage(b,[e.port2])}else a.postMessage(b)}g.BridgeAdapter=e;g.initWorker=a}),98);
__d("MAWChatJid",["FBLogger","I64","MAWJids","MAWMiActMappingTableAPI","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,e){try{return d("MAWMiActMappingTableAPI").getMappingRowForIntJid(a,d("MAWJids").convertChatJidToIntJid(e)).then(function(a){return a==null?void 0:a.serverThreadKey})}catch(a){c("FBLogger")("messenger_web").catching(a).warn("Invalid chatJid: "+e);return(i||(i=b("Promise"))).reject(a)}}function a(a,b,d){return j(a,b).then(function(a){if(a!=null)return a;throw c("FBLogger")("messenger_web").mustfixThrow("[toThreadKey] No mapping record for chatJid, source: %s",d)})}function e(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=(yield j(a,b));return b==null?void 0:d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(b))});return k.apply(this,arguments)}function f(a,e){try{return d("MAWMiActMappingTableAPI").getMappingRowForIntJid(a,e).then(function(a){return a==null?void 0:a.serverThreadKey})}catch(a){c("FBLogger")("messenger_web").catching(a).warn("Invalid integer jid: "+(h||(h=d("I64"))).to_string(e));return(i||(i=b("Promise"))).reject(a)}}g.toThreadKeyMaybe=j;g.toThreadKey=a;g.toThreadMaybe=e;g.toThreadKeyMaybeForChatJidInteger=f}),98);
__d("MAWDefaultE2eeOneToOneEligibility",["LSContactBitOffset"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.maybeContact;a=a!=null&&d("LSContactBitOffset").has(83,a);return a}g.isContactDefaultE2eeOneToOneEligible=a}),98);
__d("MAWEphemeralMsgAutoResetSystemId",[],(function(a,b,c,d,e,f){"use strict";a="-111111";b=a;f["default"]=b}),66);
__d("MAWEphemeralSettingsUpdate",["FBLogger","I64","LSOptimisticUpdateThreadDisappearingSettingStoredProcedure","MAWChatJid","MAWCurrentUser","MAWEphemeralMsgAutoResetSystemId","Promise","asyncToGeneratorRuntime","gkx","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("MAWEphemeralSettingsUpdate"),k=c("requireDeferred")("LSFactory").__setRef("MAWEphemeralSettingsUpdate"),l=c("requireDeferred")("WATimeUtils").__setRef("MAWEphemeralSettingsUpdate");function m(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){a=(yield a.threads.get(e));if(a!=null){e=a.disappearingSettingUpdatedTs;a=a.disappearingSettingTtl;if(e==null||a==null)return!0;if((i||(i=d("I64"))).lt(e,(i||(i=d("I64"))).of_float(c))&&!(i||(i=d("I64"))).equal(a,(i||(i=d("I64"))).of_int32(b)))return!0}return!1});return n.apply(this,arguments)}function o(a,b,c,d,e,f,g){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,j,l,n){var o=(yield m(a,e,f,j));if(!o)return(h||(h=b("Promise"))).resolve();l&&c("FBLogger")("labyrinth_web").addMetadata("LABYRINTH_WEB","APP_VERSION","OCCAM_EPHEMERAL_SETTINGS_UPDATE").info("[Occam][Web] Ephemeral Settings Updated.");o=(yield k.load());return c("LSOptimisticUpdateThreadDisappearingSettingStoredProcedure")(o(a),{disappearingTtl:(i||(i=d("I64"))).of_int32(e),threadKey:j,updatedBy:i.of_string(g?c("MAWEphemeralMsgAutoResetSystemId"):(l=n)!=null?l:d("MAWCurrentUser").getID()),updatedTimestamp:i.of_float(f)})});return p.apply(this,arguments)}function a(a,b,c,d){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d){var e=(yield j.load());e=(yield e());return e.runInTransaction(function(e){return o(e,a,b,c,d,!1)},"readwrite")});return q.apply(this,arguments)}function e(a,b,c,d,e){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,i){var k=(yield j.load());k=(yield k());var m;c("gkx")("11440")&&(m=(yield l.load()).castUnixTimeToMillisTime(e));return k.runInTransaction(function(){var j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(j){var k=(yield d("MAWChatJid").toThreadKeyMaybe(j,g));return k!=null?o(j,a,c("gkx")("11440")?m:(yield l.load()).castUnixTimeToMillisTime(e),f,k,i):(h||(h=b("Promise"))).resolve()});return function(a){return j.apply(this,arguments)}}(),"readwrite")});return r.apply(this,arguments)}g.updateEphemeralSettingsWithTxn=o;g.updateEphemeralSettings=a;g.updateEphemeralSettingsByChatJid=e}),98);
__d("MAWSubscribeToContactNames",["fbt","$InternalEnum","Env","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i;d=b("$InternalEnum").Mirrored(["FIRST_NAME","FULL_NAME"]);var j=Boolean((i||(i=c("Env"))).isMessengerDotComOnComet)?"Messenger":c("gkx")("22979")?"Instagram":"Facebook";function k(){return h._(/*BTDS*/"__JHASH__qNfUY0OKWF7__JHASH__",[h._param("Platform Name",j)]).toString()}function a(a,b){return(a=a.get(b))!=null?a:k()}g.ContactNameMode=d;g.getUnknownUser=k;g.getContactNameFromLookup=a}),226);
__d("hasDefaultThreadOneToOneCapabilityDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("requireDeferred")("hasDefaultThreadOneToOneCapability").__setRef("hasDefaultThreadOneToOneCapabilityDeferred");g["default"]=a}),98);
__d("useCometMessengerhasDefaultThreadOneToOneCapability",["FBLogger","hasDefaultThreadOneToOneCapabilityDeferred","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(a,b){var d=j(!1),e=d[0],f=d[1];i(function(){c("hasDefaultThreadOneToOneCapabilityDeferred").load().then(function(c){b==null?f(!1):c(b,a).then(function(a){f(a)})["catch"](function(){})})["catch"](function(a){c("FBLogger")("messenger_web").warn("Error loading hasDefaultThreadOneToOneCapability. %s",a)})},[a,e,b]);return e}g["default"]=a}),98);
__d("MAWThreadCutover",["I64","LSAuthorityLevel","LSContactBitOffset","LSDatabaseSingleton","LSMessagingThreadTypeUtil","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","MWPActor.react","MWPreloadableQueries","ReQL","ReQLSuspense","WAJids","asyncToGeneratorRuntime","useCometMessengerhasDefaultThreadOneToOneCapability","useMAWCanThreadBeCutoverOnDemand","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b){var e=(j||(j=c("useReStore")))(),f=v(a);e=c("useCometMessengerhasDefaultThreadOneToOneCapability")(e,a);a=b!=null&&d("LSMessagingThreadTypeUtil").isGroup(b);return a?!0:f||e}function e(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return(yield C(a))!=null});return k.apply(this,arguments)}function l(a){var b=(j||(j=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return a!=null?d("MWPreloadableQueries").getCutoverThreadByThreadKey(b,a):d("ReQL").empty()},[b,a],f.id+":62")!=null}function m(a){var b,e=(j||(j=c("useReStore")))();b=(b=d("ReQLSuspense").useFirst(function(){return a!=null?d("MWPreloadableQueries").getCutoverThreadByThreadKey(e,a):d("ReQL").empty()},[e,a],f.id+":74"))==null?void 0:b.showOpenMessageHistory;return b===!1}function n(a,b){return d("ReQL").fromTableAscending(a.tables.mi_act_mapping_table).getKeyRange(b)}function o(a,b){return d("ReQL").fromTableAscending(a.tables.cutover_threads).filter(function(a){return(h||(h=d("I64"))).equal(a.armadilloThreadId,b)})}function p(a){var b=(j||(j=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return a==null?d("ReQL").empty():n(b,a)},[b,a],f.id+":107");return d("ReQLSuspense").useFirst(function(){return e==null?d("ReQL").empty():o(b,e.jid)},[b,e],f.id+":115")}function q(a,b){return d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b.openThreadId)}function r(a){a=s(a);if(a==null||(h||(h=d("I64"))).lt(a.authorityLevel,(h||(h=d("I64"))).of_int32(c("LSAuthorityLevel").SERVER_PARTIAL)))return;return a}function s(a){var b=(j||(j=c("useReStore")))(),e=p(a);return d("ReQLSuspense").useFirst(function(){return e==null?d("ReQL").empty():q(b,e)},[b,e],f.id+":157")}function t(a){var b=(j||(j=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return a==null?d("ReQL").empty():n(b,a)},[b,a],f.id+":169"),g=e==null?void 0:e.jid;e=d("ReQLSuspense").useFirst(function(){return g!=null?d("ReQL").fromTableAscending(b.tables.threads).getKeyRange(g):d("ReQL").empty()},[b.tables.threads,g],f.id+":178");var h=c("useMAWCanThreadBeCutoverOnDemand")(g);return h?e:void 0}function u(a){a=p(a);if(a!=null)return a.openThreadId}function v(a){return p(a)!=null}function w(a,b){b=d("WAJids").threadIdForChatJid(b);return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.cutover_threads).getKeyRange((h||(h=d("I64"))).of_string(b))).then(function(a){return a!=null})}function x(){var a=(j||(j=c("useReStore")))(),b=d("MWPActor.react").useActor();a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(b),f.id+":218");return a!=null&&((b=d("LSContactBitOffset").has(75,a))!=null?b:!1)}function y(){var a=(j||(j=c("useReStore")))(),b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.tables.experiences_shared_state).getKeyRange(c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY)},[a],f.id+":233");b=d("MWEncryptedBackupsSharedState").getEntryValue({db:a,sharedStateRow:b,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY});return b!=null}function z(a){var b=(j||(j=c("useReStore")))(),e=a!=null?(h||(h=d("I64"))).of_string(a):void 0,g=l(e);return d("ReQLSuspense").useFirst(function(){if(g&&e!=null)return d("ReQL").fromTableAscending(b.tables.mi_act_mapping_table).filter(function(a){return(h||(h=d("I64"))).equal(a.jid,e)}).map(function(a){return(h||(h=d("I64"))).to_string(a.serverThreadKey)});else return d("ReQL").empty()},[b,e,g],f.id+":254")}function A(){return!0}function B(a){var b=(j||(j=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){if(a!=null)return d("MWPreloadableQueries").getCutoverThreadByThreadKey(b,a);else return d("ReQL").empty()},[b,a],f.id+":281"),g=e==null?void 0:e.armadilloThreadId;e=d("ReQLSuspense").useFirst(function(){if(g!=null)return d("ReQL").fromTableAscending(b.tables.mi_act_mapping_table.index("jid")).getKeyRange(g);else return d("ReQL").empty()},[g,b.tables.mi_act_mapping_table],f.id+":292");return e==null?void 0:e.serverThreadKey}function C(a){return D.apply(this,arguments)}function D(){D=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton),c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.mi_act_mapping_table).getKeyRange(a)));if(c==null)return void 0;a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.cutover_threads).filter(function(a){return(h||(h=d("I64"))).equal(a.armadilloThreadId,c.jid)})));return a});return D.apply(this,arguments)}g.useShouldHideE2eeAttribution=a;g.isCutoverThreadKey=e;g.useIsCutoverOpenThread=l;g.useIsDualThreadCutoverOpenThread=m;g.getMiActMappings=n;g.getCutoverThreadsByJid=o;g.useGetCutoverMapping=p;g.getThreadByCutoverThread=q;g.useOpenThreadIfExistsFromCutoverThread=r;g.useCutoverOpenThread=s;g.useODCutoverEligibleOpenOneToOneThread=t;g.useGetCutoverOpenThreadKey=u;g.useIsCutoverSecureThread=v;g.isCutoverSecureThreadFromChatJid=w;g.useIsCurrentUserCutoverUser=x;g.useGetHasUserRestoredBefore=y;g.useGetCutoverSecureThreadKey=z;g.useSupportedCutoverEnvironment=A;g.useCutoverSecureThreadKeyForOpenThreadKey=B;g.getCutoverThreadBySecureThreadKey=C}),98);
__d("useMAWCanThreadBeCutoverOnDemand",["LSContactBitOffset","LSMessagingThreadTypeUtil","MAWThreadCutover","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b,e=(h||(h=c("useReStore")))(),g=d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableAscending(e.tables.contacts,d("LSContactBitOffset").contactCapabilityFields).getKeyRange(a):d("ReQL").empty()},[e,a],f.id+":34");g=g!=null&&d("LSContactBitOffset").has(76,g);var i=d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableAscending(e.tables.threads,["threadType"]).getKeyRange(a):d("ReQL").empty()},[e,a],f.id+":53");i=i?d("LSMessagingThreadTypeUtil").isOpenOneToOne(i.threadType):!1;b=((b=(b=d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableAscending(e.tables.messages_ranges_v2__generated,["minMessageId"]).getKeyRange(a):d("ReQL").empty()},[e,a],f.id+":67"))==null?void 0:b.minMessageId)!=null?b:"")==="";var j=d("MAWThreadCutover").useIsCutoverOpenThread(a),k=d("MAWThreadCutover").useIsCutoverSecureThread(a);j=j||k;return g&&i&&!b&&!j}g["default"]=a}),98);
__d("MAWUIJob",["ExecutionEnvironment","MAWBridge","WAJobOrchestratorTypes","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["UIJobStarters waitUntilPersisted called in the worker, which is a bug for job: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["UIJobStarters waitUntilCompleted called in the worker, which is a bug for job: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["UIJobStarters fireAndForget called in the worker, which is a bug for job: ",""]);k=function(){return a};return a}var l={priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION};a={fireAndForget:function(a){(h||(h=c("ExecutionEnvironment"))).isInWorker&&d("WALogger").ERROR(k(),a.type);d("MAWBridge").getBridge().fireAndForget("backend","runJobFireAndForget",babelHelpers["extends"]({},a,{scheduleConfig:(a=a.scheduleConfig)!=null?a:l}))},waitUntilCompleted:function(a,b,e){(h||(h=c("ExecutionEnvironment"))).isInWorker&&d("WALogger").ERROR(j(),a.type);a=d("MAWBridge").getBridge().sendAndReceive("backend","runJobWaitUntilCompleted",babelHelpers["extends"]({},a,{scheduleConfig:(a=a.scheduleConfig)!=null?a:l}),void 0,b,e);return a},waitUntilPersisted:function(a,b,e){(h||(h=c("ExecutionEnvironment"))).isInWorker&&d("WALogger").ERROR(i(),a.type);a=d("MAWBridge").getBridge().sendAndReceive("backend","runJobWaitUntilPersisted",babelHelpers["extends"]({},a,{scheduleConfig:(a=a.scheduleConfig)!=null?a:l}),void 0,b,e);return a}};g.UIJobStarters=a}),98);
__d("MAWTimedJob",["FBLogger","MAWBridgeLoggingUtils","MAWMaybeWithTimeout","MAWTimedBridge","MAWUIJob","MAWWaitForBackendSetup","MAWWebWorkerSingleton","MAWWorkerEvent","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";a={fireAndForget:function(a,b){b===void 0&&(b=d("MAWTimedBridge").DEFAULT_MAW_BRIDGE_TIMEOUT_MS);var e=!1;return d("MAWMaybeWithTimeout").maybeWithTimeout(d("MAWWaitForBackendSetup").waitForBackendSetup(a.type).then(function(){e=!0;return d("MAWUIJob").UIJobStarters.fireAndForget(a)}),b,function(){return d("MAWWebWorkerSingleton").getWorkerHealthStatus().then(function(b){throw c("FBLogger")("maw_core_lla").mustfixThrow("Failed to ack execution of job %s in time. Backend setup: %s, workerHealthStatus: %s",a.type,e,b.tag)})},a.type)},waitUntilCompleted:function(a,b){b===void 0&&(b=d("MAWTimedBridge").DEFAULT_MAW_BRIDGE_TIMEOUT_MS);var e=!1,f=d("MAWBridgeLoggingUtils").getBridgeEventInstanceKey(a.type);return d("MAWMaybeWithTimeout").maybeWithTimeout(d("MAWWaitForBackendSetup").waitForBackendSetup(a.type).then(function(){d("MAWWorkerEvent").logStart("waitUntilCompleted",a.type,f);e=!0;return d("MAWUIJob").UIJobStarters.waitUntilCompleted(a,{onAck:function(b){d("MAWWorkerEvent").logAck(f,a.type,b)},onSend:function(b){var c=b.queueMsgs;b=b.queueSize;d("MAWWorkerEvent").logSend(f,a.type,"waitUntilCompleted");d("MAWWorkerEvent").logAnnotations(f,{"int":{bridgeSize:b},string_array:{bridgeMsgs:c}})}},{bridgeQPLInstanceKey:f}).then(function(a){d("MAWWorkerEvent").logSuccess(f);return a},function(a){a=c("getErrorSafe")(a);d("MAWWorkerEvent").logFailure(f,a.message);throw a})}),b,function(){return d("MAWWebWorkerSingleton").getWorkerHealthStatus().then(function(b){d("MAWWorkerEvent").logTimeoutFailure(f,"Failed to complete execution of job",b);throw c("FBLogger")("maw_core_lla").mustfixThrow("Failed to complete execution of job %s in time. Backend setup: %s, workerHealthStatus: %s",a.type,e,b.tag)})},a.type)},waitUntilPersisted:function(a,b){b===void 0&&(b=d("MAWTimedBridge").DEFAULT_MAW_BRIDGE_TIMEOUT_MS);var e=!1,f=d("MAWBridgeLoggingUtils").getBridgeEventInstanceKey(a.type);return d("MAWMaybeWithTimeout").maybeWithTimeout(d("MAWWaitForBackendSetup").waitForBackendSetup(a.type).then(function(){e=!0;d("MAWWorkerEvent").logStart("waitUntilPersisted",a.type,f);return d("MAWUIJob").UIJobStarters.waitUntilPersisted(a,{onAck:function(b){d("MAWWorkerEvent").logAck(f,a.type,b)},onSend:function(b){var c=b.queueMsgs;b=b.queueSize;d("MAWWorkerEvent").logSend(f,a.type,"waitUntilPersisted");d("MAWWorkerEvent").logAnnotations(f,{"int":{bridgeSize:b},string_array:{bridgeMsgs:c}})}},{bridgeQPLInstanceKey:f}).then(function(a){d("MAWWorkerEvent").logSuccess(f);return a},function(a){a=c("getErrorSafe")(a);d("MAWWorkerEvent").logFailure(f,a.message);throw a})}),b,function(){return d("MAWWebWorkerSingleton").getWorkerHealthStatus().then(function(b){d("MAWWorkerEvent").logTimeoutFailure(f,"Failed to persist execution of job",b);throw c("FBLogger")("maw_core_lla").mustfixThrow("Failed to persist execution of job %s in time. Backend setup: %s, workerHealthStatus: %s",a.type,e,b.tag)})},a.type)}};g.TimedUIJobStarters=a}),98);
__d("MWGetOtherContactOrSelf",["I64","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){a=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(c.tables.participants).getKeyRange(a)));if(a.length===1){var e=a[0];return d("ReQL").firstAsync(d("ReQL").fromTableAscending(c.tables.contacts).getKeyRange(e.contactId))}if(a.length>2)return;e=a.find(function(a){return!(h||(h=d("I64"))).equal(a.contactId,b)});if(e!=null)return d("ReQL").firstAsync(d("ReQL").fromTableAscending(c.tables.contacts).getKeyRange(e.contactId))});return i.apply(this,arguments)}g.getOtherContactOrSelf=a}),98);
__d("MessageSendsClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1271");b=d("FalcoLoggerInternal").create("message_sends_client",a);e=b;g["default"]=e}),98);
__d("MWLogSend",["ErrorGuard","FBLogger","I64","LSMessagingThreadTypeUtil","LSPlatformLsInitLog","MessageSendsClientFalcoEvent","MultipleTabsLogger","Promise","ReQL","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=[];function l(a){return function(){while(k.length>0)(j||(j=c("ErrorGuard"))).applyWithGuard(o,null,[a,k.shift(),!0])}}var m=!1;function n(a,b){k.push(b),m||(d("LSPlatformLsInitLog").onCompleteOrFail(l(a)),m=!0)}function o(a,e,f){e._mentionedJids;var g=e.actor,j=e.additionalTags,k=e.attachmentFbids,l=e.attachmentType,m=e.backend,o=e.ephemeralDurationInSec,p=e.hasReply,q=e.igdTargetType,r=e.initatingSource,s=e.isInstamadilloTTLC,t=e.messagingThreadId,u=e.msgTtl,v=e.offlineThreadingId,w=e.sendType,x=e.source,y=e.threadKey,z=e.threadType;c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield (i||(i=b("Promise"))).all([d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(y).filter(function(a){return!(h||(h=d("I64"))).equal(a.contactId,g)})),d("MultipleTabsLogger").hasMultipleTabs()]).then(function(b){var i=b[0];b=b[1];if(i==null){var A=d("LSPlatformLsInitLog").isPending();if(A&&f!==!0){n(a,e);return}f===!0&&c("FBLogger")("meteora").warn("LS_INIT completed but participants table is still empty.")}var B=i.map(function(a){return(h||(h=d("I64"))).to_string(a.contactId)});A=d("LSMessagingThreadTypeUtil").isOneToOne(z)&&(i==null?void 0:i.length)===0;A&&B.push((h||(h=d("I64"))).to_string(g));var C=t!=null?t:(h||(h=d("I64"))).to_string(y),D=u!=null?(h||(h=d("I64"))).to_string((h||(h=d("I64"))).of_float(u)):void 0,E=[b===!0?19:null,o!=null?15:null,s===!0?37:null].filter(Boolean);(C==null||C===""||(h||(h=d("I64"))).le(y,(h||(h=d("I64"))).zero))&&(e.waGroupJid!=null?c("FBLogger")("mw_log_send").mustfix("Thread FBID is null and recovered by chatJid in send flow - ThreadKey %s, messagingThreadId %s, send type %s",(h||(h=d("I64"))).to_string(y),t,w):c("FBLogger")("mw_log_send").mustfix("Thread FBID is null in send flow - ThreadKey %s, messagingThreadId %s, send type %s",(h||(h=d("I64"))).to_string(y),t,w));c("MessageSendsClientFalcoEvent").log(function(){return{additional_tags:j,backend:m,event_type:w,feature_tags:E,group_thread_subtype:void 0,igd_action:void 0,igd_target_type:q,igd_verb:void 0,initiating_app_id:void 0,initiating_source:r,is_reply:p,message_attachment_fbids:k.map(String),message_id:void 0,message_type:l,messaging_thread_fbid:C,messaging_thread_type:(h||(h=d("I64"))).to_int32(z),msg_ttl:D,nav_chain:void 0,nonce:void 0,offline_threading_id:v,recipient_fbids:B,send_attribution:h.to_int32(x),send_attribution_raw:void 0,view_mode:void 0,wa_group_jid:e.waGroupJid}})})})())}g.log=o}),98);
__d("ReQLSubscribe",["ErrorGuard","ReQL","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){a=a.take(1);var e=(h||(h=c("ErrorGuard"))).guard(b),f=!1,g=null,i=a.subscribe(function(a,b){if(f)return;switch(b.operation){case"delete":(g==null||g.current!==void 0)&&(g={current:void 0},e(g.current));return;case"add":case"put":((a=g)==null?void 0:a.current)!==b.value&&(g={current:b.value},e(g.current))}});c("promiseDone")(d("ReQL").firstAsync(a),function(a){!f&&g==null&&(g={current:a},e(a))});return function(){f||(f=!0,i==null?void 0:i())}}g.subscribeToFirst=a}),98);
__d("getLSMediaContactProfilePictureUrl",["LSMediaUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.profilePictureUrlExpirationTimestampMs;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)||a.profilePictureUrl===""){return(b=a.profilePictureFallbackUrl)!=null?b:a.profilePictureUrl}else return a.profilePictureUrl}g["default"]=a}),98);
__d("hasDefaultThreadOneToOneCapability",["FBLogger","LSContactBitOffset","MAWDefaultE2eeOneToOneEligibility","MWGetOtherContactOrSelf","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(a==null)return!1;var e=(yield d("ReQL").firstExnAsync(d("ReQL").fromTableAscending(b.tables._user_info).map(function(a){return a.facebookUserId}))),f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.contacts).getKeyRange(e)));if(f==null){c("FBLogger")("messenger_search").warn("Error fetching viewer details");return!1}f=d("LSContactBitOffset").has(80,f);if(!f)return!1;f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.contacts).getKeyRange(a)));a=(yield d("MWGetOtherContactOrSelf").getOtherContactOrSelf(a,e,b));b=(e=a)!=null?e:f;return d("MAWDefaultE2eeOneToOneEligibility").isContactDefaultE2eeOneToOneEligible({maybeContact:b})});return h.apply(this,arguments)}g["default"]=a}),98);
__d("isMWBumpMessage",["EntMessageReplyType","I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return a!=null&&(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").BUMP))}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("IWAAPI",["WABridge"],(function(a,b,c,d,e,f,g){"use strict";b=1;function a(a){return function(){for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];return d("WABridge").getBridge().sendAndReceive("backend","waapi",{type:a,args:c})}}g.version=b;g.makeBridgedApi=a}),98);
__d("LSCoreClientFolderType",[],(function(a,b,c,d,e,f){a=Object.freeze({INBOX:0,PENDING:1,OTHER:2,SPAM:3,ARCHIVED:4,HIDDEN:5,MARKETPLACE:12,RESTRICTED:15,INTEROP:19});f["default"]=a}),66);
__d("LSCreateE2EEMetadataThread",["LSArrayGetObjectAt","LSBase64Encode.nop","LSIsEncryptionVersionSecure","LSIssueNewTask","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][createE2EEMetadataThread] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[19]=new c.Map(),d[19].set("error_msg","Expected a nonempty query result"),d[19].set("code",c.i64.cast([0,3])),d[19].set("src_line","MEBClientStateUtils.php:244 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[20]=c.createArray(),d[21]=(d[20].push(d[19]),d[20]),e=[void 0,d[20]],d[2]=e[0],d[3]=e[1],e):(b=a.item,d[19]=new c.Map(),d[19].set("backup_id",b.backupId),d[19].set("device_public_key_blob",b.devicePublicKeyBlob),d[19].set("device_private_key_blob",b.devicePrivateKeyBlob),d[19].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[19].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[19].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[19].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[19].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[19].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[19].set("orf_client_state_v2_blob",void 0),d[19].set("orf_v2_authority_level",void 0),d[19].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[19].set("device_id",b.deviceId),d[19].set("backup_tenancy",b.backupTenancy),d[19].set("encryption_version",b.encryptionVersion),d[19].set("revision_version",b.revisionVersion),d[19].set("initialize_restore_result",void 0),d[19].set("authority_level",b.authorityLevel),e=[d[19],void 0],d[2]=e[0],d[3]=e[1],e)})},function(a){return d[5]=new c.Map(),d[5].set("value",d[2]),d[5].set("errors",d[3]),d[6]=d[5].get("value"),d[6]!==void 0?c.sequence([function(a){return d[19]=d[6].get("backup_id"),d[20]=d[6].get("device_public_key_blob"),d[21]=d[6].get("device_private_key_blob"),d[22]=d[6].get("epoch_storage_public_key_blob"),d[23]=d[6].get("epoch_storage_private_key_blob"),d[24]=d[6].get("epoch_auth_public_key_blob"),d[25]=d[6].get("epoch_auth_private_key_blob"),d[26]=d[6].get("mailbox_root_key_blob"),d[27]=d[6].get("ocmf_client_state_blob"),d[28]=d[6].get("orf_client_state_v2_blob"),d[29]=d[6].get("orf_v2_authority_level"),d[30]=d[6].get("oblivious_validation_token_blob"),d[31]=d[6].get("device_id"),d[32]=d[6].get("backup_tenancy"),d[33]=d[6].get("encryption_version"),d[34]=d[6].get("revision_version"),d[35]=d[6].get("initialize_restore_result"),d[36]=d[6].get("authority_level"),c.i64.neq(d[31],void 0)?c.sequence([function(a){return d[38]=void 0,c.i64.neq(d[38],void 0)?c.resolve(d[39]=d[38]):c.sequence([function(a){return d[51]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[52]=a[0],a})},function(a){return d[52]?d[61]=(d[51].push(c.i64.cast([0,0])),d[51]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[53]=a[0],a})},function(a){return d[53]?d[61]=(d[51].push(c.i64.cast([0,2])),d[51]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[54]=a[0],a})},function(a){return d[54]?d[61]=(d[51].push(c.i64.cast([0,3])),d[51]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[55]=a[0],a})},function(a){return d[55]?d[61]=(d[51].push(c.i64.cast([0,4])),d[51]):0,d[56]=c.createArray(),d[57]=c.i64.of_int32(d[51].length),c.i64.gt(d[57],c.i64.cast([0,0]))?c.loopAsync(d[57],function(a){return d[61]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[51],d[61]).then(function(a){return a=a,d[62]=a[0],d[63]=a[1],a})},function(a){return d[64]=(d[56].push(d[62]),d[56])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[61]=c.createArray(),d[62]=c.i64.of_int32(d[56].length),c.i64.gt(d[62],c.i64.cast([0,0]))?c.loopAsync(d[62],function(a){return d[64]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[56],d[64]).then(function(a){return a=a,d[65]=a[0],d[66]=a[1],a})},function(a){return d[67]=(d[61].push(c.i64.to_string(d[65])),d[61])}])}):c.resolve()},function(a){return d[63]=d[61].join(","),d[58]=d[63]}])},function(a){return d[56].some(function(a){return c.i64.eq(d[33],a)})?d[59]=d[33]:d[59]=void 0,c.i64.neq(d[59],void 0)?d[60]=d[59]:d[60]=void 0,d[39]=d[60]}])},function(a){return c.i64.neq(d[39],void 0)?d[40]=d[39]:d[40]=c.i64.cast([0,0]),c.i64.neq(d[32],void 0)?d[41]=d[32]:d[41]=c.i64.cast([0,1]),c.nativeOperation(b("LSBase64Encode.nop"),d[27]).then(function(a){return a=a,d[42]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[26]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return d[44]=new c.Map(),d[44].set("ocmf_client_state_blob",d[42]==null?"":d[42]),d[44].set("mailbox_root_key",d[43]==null?"":d[43]),d[45]=c.createArray(),c.forEach(c.filter(c.db.table(169).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[51]=(d[45].push(a.epochId),d[45])})},function(a){return d[49]="Queried locally available epochs. Count: ",d[46]=c.i64.of_int32(d[45].length),d[50]=c.i64.to_string(d[46]),d[47]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBEpochClientUtils] ",d[47],d[49],d[47],d[50]].join("")),c.resolve()},function(a){return d[48]=new c.Map(),d[48].set("device_id",d[31]),d[48].set("raw_tokens",d[44]),d[48].set("locally_available_epochs",d[45]),d[37]=d[48]}]):c.resolve(d[37]=void 0)},function(a){return d[7]=d[37]}]):c.resolve((d[19]=d[5].get("errors"),d[20]=d[5].get("errors"),d[7]=void 0))},function(e){return d[8]=c.i64.random(),d[9]=c.i64.to_string(d[8]),d[10]=new c.Map(),d[10].set("wa_jid",a[0]),d[10].set("offline_thread_key",a[1]),d[10].set("thread_type",a[2]),d[10].set("folder_type",a[3]),d[10].set("bump_timestamp_ms",a[4]),d[10].set("tam_thread_subtype",c.i64.cast([0,0])),d[10].set("created_by_local_device",a[5]),d[10].set("device_context",d[7]),d[10].set("qpl_instance_key",d[9]),d[11]=d[10].get("offline_thread_key"),d[12]=c.toJSON(d[10]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[11]),c.i64.cast([0,388]),d[12],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return d[13]=c.i64.of_float(Date.now()),d[14]=c.i64.random(),d[16]="Finishing execution. Execution time: ",d[17]=c.i64.to_string(c.i64.sub(d[13],d[0])),d[18]=" ms",d[15]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][createE2EEMetadataThread] ",d[15],d[16],d[15],d[17],d[15],d[18]].join("")),c.i64.eq(c.i64.mod_(d[14],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[19]=",",d[20]=c.createArray(),void 0!==void 0?d[21]=(d[20].push(void 0),d[20]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"createE2EEMetadataThread",[d[16],d[19],d[17],d[19],d[18]].join(""),d[20],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxCreateE2EEMetadataThreadStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","secure_encrypted_backups_epochs"];e.exports=a}),null);
__d("LSCreateE2EEMetadataThreadStoredProcedure",["LSCreateE2EEMetadataThread","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSCreateE2EEMetadataThread"),e.waJid,e.offlineThreadKey,e.threadType,e.folderType,e.bumpTimestampMs,e.createdByLocalDevice);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSCreateOfflineThreadingIDStoredProcedure",["LSCreateOfflineThreadingID","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSCreateOfflineThreadingID"),e.timestampMs);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSRtcCallState",[],(function(a,b,c,d,e,f){a=Object.freeze({NO_ONGOING_CALL:0,AUDIO_GROUP_CALL:1,VIDEO_GROUP_CALL:2,VIDEO_1TO1_CALL:3,AUDIO_1TO1_CALL:4});f["default"]=a}),66);
__d("LSThreadPointQueryAndRestoreMessagesWithJID",["LSArrayGetObjectAt","LSBase64Encode.nop","LSIsEncryptionVersionSecure","LSIssueNewTask","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][ThreadPointQueryAndRestoreMessagesWithJID] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[19]=new c.Map(),d[19].set("error_msg","Expected a nonempty query result"),d[19].set("code",c.i64.cast([0,3])),d[19].set("src_line","MEBClientStateUtils.php:244 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[20]=c.createArray(),d[21]=(d[20].push(d[19]),d[20]),e=[void 0,d[20]],d[2]=e[0],d[3]=e[1],e):(b=a.item,d[19]=new c.Map(),d[19].set("backup_id",b.backupId),d[19].set("device_public_key_blob",b.devicePublicKeyBlob),d[19].set("device_private_key_blob",b.devicePrivateKeyBlob),d[19].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[19].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[19].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[19].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[19].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[19].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[19].set("orf_client_state_v2_blob",void 0),d[19].set("orf_v2_authority_level",void 0),d[19].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[19].set("device_id",b.deviceId),d[19].set("backup_tenancy",b.backupTenancy),d[19].set("encryption_version",b.encryptionVersion),d[19].set("revision_version",b.revisionVersion),d[19].set("initialize_restore_result",void 0),d[19].set("authority_level",b.authorityLevel),e=[d[19],void 0],d[2]=e[0],d[3]=e[1],e)})},function(a){return d[5]=new c.Map(),d[5].set("value",d[2]),d[5].set("errors",d[3]),d[6]=d[5].get("value"),d[6]!==void 0?c.sequence([function(a){return d[19]=d[6].get("backup_id"),d[20]=d[6].get("device_public_key_blob"),d[21]=d[6].get("device_private_key_blob"),d[22]=d[6].get("epoch_storage_public_key_blob"),d[23]=d[6].get("epoch_storage_private_key_blob"),d[24]=d[6].get("epoch_auth_public_key_blob"),d[25]=d[6].get("epoch_auth_private_key_blob"),d[26]=d[6].get("mailbox_root_key_blob"),d[27]=d[6].get("ocmf_client_state_blob"),d[28]=d[6].get("orf_client_state_v2_blob"),d[29]=d[6].get("orf_v2_authority_level"),d[30]=d[6].get("oblivious_validation_token_blob"),d[31]=d[6].get("device_id"),d[32]=d[6].get("backup_tenancy"),d[33]=d[6].get("encryption_version"),d[34]=d[6].get("revision_version"),d[35]=d[6].get("initialize_restore_result"),d[36]=d[6].get("authority_level"),c.i64.neq(d[31],void 0)?c.sequence([function(a){return d[38]=void 0,c.i64.neq(d[38],void 0)?c.resolve(d[39]=d[38]):c.sequence([function(a){return d[51]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[52]=a[0],a})},function(a){return d[52]?d[61]=(d[51].push(c.i64.cast([0,0])),d[51]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[53]=a[0],a})},function(a){return d[53]?d[61]=(d[51].push(c.i64.cast([0,2])),d[51]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[54]=a[0],a})},function(a){return d[54]?d[61]=(d[51].push(c.i64.cast([0,3])),d[51]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[55]=a[0],a})},function(a){return d[55]?d[61]=(d[51].push(c.i64.cast([0,4])),d[51]):0,d[56]=c.createArray(),d[57]=c.i64.of_int32(d[51].length),c.i64.gt(d[57],c.i64.cast([0,0]))?c.loopAsync(d[57],function(a){return d[61]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[51],d[61]).then(function(a){return a=a,d[62]=a[0],d[63]=a[1],a})},function(a){return d[64]=(d[56].push(d[62]),d[56])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[61]=c.createArray(),d[62]=c.i64.of_int32(d[56].length),c.i64.gt(d[62],c.i64.cast([0,0]))?c.loopAsync(d[62],function(a){return d[64]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[56],d[64]).then(function(a){return a=a,d[65]=a[0],d[66]=a[1],a})},function(a){return d[67]=(d[61].push(c.i64.to_string(d[65])),d[61])}])}):c.resolve()},function(a){return d[63]=d[61].join(","),d[58]=d[63]}])},function(a){return d[56].some(function(a){return c.i64.eq(d[33],a)})?d[59]=d[33]:d[59]=void 0,c.i64.neq(d[59],void 0)?d[60]=d[59]:d[60]=void 0,d[39]=d[60]}])},function(a){return c.i64.neq(d[39],void 0)?d[40]=d[39]:d[40]=c.i64.cast([0,0]),c.i64.neq(d[32],void 0)?d[41]=d[32]:d[41]=c.i64.cast([0,1]),c.nativeOperation(b("LSBase64Encode.nop"),d[27]).then(function(a){return a=a,d[42]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[26]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return d[44]=new c.Map(),d[44].set("ocmf_client_state_blob",d[42]==null?"":d[42]),d[44].set("mailbox_root_key",d[43]==null?"":d[43]),d[45]=c.createArray(),c.forEach(c.filter(c.db.table(169).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[51]=(d[45].push(a.epochId),d[45])})},function(a){return d[49]="Queried locally available epochs. Count: ",d[46]=c.i64.of_int32(d[45].length),d[50]=c.i64.to_string(d[46]),d[47]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBEpochClientUtils] ",d[47],d[49],d[47],d[50]].join("")),c.resolve()},function(a){return d[48]=new c.Map(),d[48].set("device_id",d[31]),d[48].set("raw_tokens",d[44]),d[48].set("locally_available_epochs",d[45]),d[37]=d[48]}]):c.resolve(d[37]=void 0)},function(a){return d[7]=d[37]}]):c.resolve((d[19]=d[5].get("errors"),d[20]=d[5].get("errors"),d[7]=void 0))},function(e){return d[8]=c.i64.random(),d[9]=c.i64.to_string(d[8]),d[10]=new c.Map(),d[10].set("wa_jid",a[0]),d[10].set("tam_thread_subtype",c.i64.cast([0,0])),d[10].set("enable_logging_for_tpq",!1),d[10].set("device_context",d[7]),d[10].set("qpl_instance_key",d[9]),d[11]=d[10].get("wa_jid"),d[12]=c.toJSON(d[10]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[11]),c.i64.cast([0,556]),d[12],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return d[13]=c.i64.of_float(Date.now()),d[14]=c.i64.random(),d[16]="Finishing execution. Execution time: ",d[17]=c.i64.to_string(c.i64.sub(d[13],d[0])),d[18]=" ms",d[15]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][ThreadPointQueryAndRestoreMessagesWithJID] ",d[15],d[16],d[15],d[17],d[15],d[18]].join("")),c.i64.eq(c.i64.mod_(d[14],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[19]=",",d[20]=c.createArray(),void 0!==void 0?d[21]=(d[20].push(void 0),d[20]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"ThreadPointQueryAndRestoreMessagesWithJID",[d[16],d[19],d[17],d[19],d[18]].join(""),d[20],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","secure_encrypted_backups_epochs"];e.exports=a}),null);
__d("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure",["LSSynchronousPromise","LSThreadPointQueryAndRestoreMessagesWithJID","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSThreadPointQueryAndRestoreMessagesWithJID"),e.waJid);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWBridgeGroupInviteLoadedHandler",["fbt","I64","LSMessagingThreadTypeUtil","MAWMiActMappingTableAPI","Promise","ReQL","asyncToGeneratorRuntime","justknobx"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function a(a,b,c){return l(a,c,b.actorId)}function k(a,c,e){return d("MAWMiActMappingTableAPI").getThreadKeyForChatJid(a,c).then(function(c){return c==null?(j||(j=b("Promise"))).resolve():l(a,c,e)})}function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=a.threads,g=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(f).getKeyRange(b)));if(g==null)return;var j=d("LSMessagingThreadTypeUtil").isGroup(g.threadType);if(!j)return;j=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.group_invites).getKeyRange(b)));if(j==null){c("justknobx")._("1162")&&(yield f.put(babelHelpers["extends"]({},g,{additionalThreadContext:void 0})));return}b=(i||(i=d("I64"))).equal((i||(i=d("I64"))).of_string(e),j.inviterId)?null:yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.contacts,["name"]).getKeyRange(j.inviterId));if(b==null)return;e=h._(/*BTDS*/"__JHASH__UJFQkCMRFkv__JHASH__",[h._param("Inviter Name",b.name)]).toString();a=g.folderName==="inbox"?h._(/*BTDS*/"__JHASH__4F6x7gUU1-S__JHASH__").toString():g.additionalThreadContext;yield f.put(babelHelpers["extends"]({},g,{additionalThreadContext:a,snippet:e}))});return m.apply(this,arguments)}function e(a,b){return k(a,b.threadJid,b.actorId)}function f(a,b,c){return k(a,b,c)}g.callForOneDb=a;g.call=e;g.callFromMainThread=f}),226);
__d("MAWContactRelationshipType",["I64","LSContactBitOffset","WADbContact"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("LSContactBitOffset").hasWithDefault(64,a,!0);a=(h||(h=d("I64"))).ge(a.contactViewerRelationship,h.of_string("2"));if(a&&b)return d("WADbContact").ONE_WAY_CONTACT;else if(!a&&!b)return d("WADbContact").REVERSED_ONE_WAY_CONTACT;else if(a&&!b)return d("WADbContact").TWO_WAY_CONTACT;return d("WADbContact").NON_CONTACT}g.getContactRelationshipType=a}),98);
__d("MAWBridgeOneToOneMessageRequestLoadedHandler",["fbt","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWContactRelationshipType","MAWJids","MAWMessageRequestUtil","MAWMiActMappingTableAPI","ODS","Promise","ReQL","WADbContact","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l;function a(a,b){b=b.threadJid;return m(a,b)}function e(a,b){return m(a,b)}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=d("MAWJids").convertChatJidToIntJid(c);c=(yield d("MAWMiActMappingTableAPI").getThreadKeyForChatJid(a,c));if(c==null)return;c=(yield (l||(l=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(c)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.contacts).getKeyRange(e))]));e=c[0];c=c[1];if(e==null||c==null||!d("LSMessagingThreadTypeUtil").isOneToOne(e.threadType))return;c=o(e,c);c=e.folderName==="pending"||e.folderName==="other"||e.folderName==="spam"||c;if(!c)return;c=e.folderName==="inbox"?h._(/*BTDS*/"__JHASH__4F6x7gUU1-S__JHASH__").toString():void 0;c=babelHelpers["extends"]({},e,{additionalThreadContext:c},p(e));yield a.threads.put(c)});return n.apply(this,arguments)}function o(a,b){var e=d("MAWContactRelationshipType").getContactRelationshipType(b);e=a.folderName==="inbox"&&e===d("WADbContact").REVERSED_ONE_WAY_CONTACT&&!(i||(i=d("I64"))).equal(a.lastActivityTimestampMs,(i||(i=d("I64"))).zero);a=(i||(i=d("I64"))).lt(b.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE));e&&!a&&(k||(k=d("ODS"))).bumpEntityKey(3185,"e2ee.message_request_loaded_failure","contacts_not_yet_loaded",1);return e&&a}function p(a){a=d("LSThreadBitOffset").clear(d("MAWMessageRequestUtil").disabledThreadCapabilitiesForIncomingRequest,a.capabilities,a.capabilities2,a.capabilities3,a.capabilities4,a.capabilities5);a=d("LSThreadBitOffset").set(d("MAWMessageRequestUtil").enabledThreadCapabilitiesForIncomingRequest,a[0],a[1],a[2],a[3],a[4]);return{capabilities:a[0],capabilities2:a[1],capabilities3:a[2],capabilities4:a[3],capabilities5:a[4]}}g.call=a;g.callFromMainThread=e}),226);
__d("MAWActThreadMapping",["I64","MAWBridgeGroupInviteLoadedHandler","MAWBridgeOccamadilloVerifyThreadExistsHandler","MAWBridgeOneToOneMessageRequestLoadedHandler","MAWBridgeParticipantsUpdatedHandler","MAWBridgeSendAndReceive","MAWCurrentUser","MAWJids","MAWMiActMappingTableAPI","MAWMiActOnActThreadReadyQueue","MAWThreadMappingQPL","Promise","WAJids","asyncToGeneratorRuntime","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Map(),k=null;function l(){return c("gkx")("14178")}function m(a,b,d,e){var g=e.then(function(b){c("promiseDone")(a.runInTransaction(function(a){return s(a,p(b),d)},"readwrite",void 0,void 0,f.id+":65"));return b});b.forEach(function(a){return j.set(a,g)})}function n(a){return(i||(i=b("Promise"))).all(Array.from(a).map(function(a){var b=a[0];a=a[1];return a.then(function(a){a=a.find(function(a){return((a=a.value)==null?void 0:a.chatJid)===b});return(a==null?void 0:a.status)==="fulfilled"?{status:"fulfilled",value:babelHelpers["extends"]({},a.value,{isCreated:!1})}:{reason:a==null?void 0:a.reason,status:"rejected"}})}))}function o(a){var b=new Map(),c=new Map();a.threads.forEach(function(a){var e=j.get(a.chatJid);e!=null?(a.instanceKey!=null&&d("MAWThreadMappingQPL").addPoint("reuse_existing_promise_for_act_mapping",a.instanceKey),c.set(a.chatJid,e)):b.set(a.chatJid,a)});return{cachedPromisesByJid:c,threadsToVerifyByJid:b}}function p(a){var b=new Map();a.forEach(function(a){a.status==="fulfilled"&&b.set(a.value.chatJid,a.value)});return b}function q(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","bulkCreateOrUpdateThread",b));c("promiseDone")(a.runInTransaction(function(a){return s(a,p(e),b)},"readwrite",void 0,void 0,f.id+":160"));return e});return r.apply(this,arguments)}function a(a,c){if(!l())return q(a,c);k==null&&(k=u(a));var e=o(c),f=e.cachedPromisesByJid;e=e.threadsToVerifyByJid;f=n(f);if(e.size===0)return f;var g=d("MAWBridgeSendAndReceive").sendAndReceive("backend","bulkCreateOrUpdateThread",babelHelpers["extends"]({},c,{threads:Array.from(e.values())}));m(a,Array.from(e.keys()),c,g);return(i||(i=b("Promise"))).all([g,f]).then(function(a){var b=a[0];a=a[1];return b.concat(a)})}function e(a){var b=a.authoritativeThreadKey,e=a.description,f=a.instanceKey,g=a.jid;a=a.optimisticThreadKey;f!=null&&d("MAWMiActOnActThreadReadyQueue").logOnFlushQueue(a,b,f,e);a!=null&&c("promiseDone")(d("MAWMiActOnActThreadReadyQueue").processQueueOnActThreadReady((h||(h=d("I64"))).of_string(a),g,e,"clientThreadKey"));b!=null&&c("promiseDone")(d("MAWMiActOnActThreadReadyQueue").processQueueOnActThreadReady((h||(h=d("I64"))).of_string(b),g,e,"authoritativeThreadKey"))}function s(a,b,c){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=[],h=d("MAWCurrentUser").getID(),j=c("gkx")("14386");yield (i||(i=b("Promise"))).all(f.threads.map(function(f){var k=f.authoritativeThreadKey,l=f.chatJid;f=f.instanceKey;var m=e.get(l);if(m==null)return(i||(i=b("Promise"))).resolve();var n=m.clientThreadKey,o=m.folder,p=m.lastActivityTs;m=m.participants;m.forEach(function(a){g.push(babelHelpers["extends"]({},a,{chatJid:l}))});m=d("WAJids").switchOnMsgrChatJidType(l,{group:function(a){return!0},user:function(a){return!1}});j&&c("promiseDone")(m?d("MAWBridgeGroupInviteLoadedHandler").callFromMainThread(a,l,h):d("MAWBridgeOneToOneMessageRequestLoadedHandler").callFromMainThread(a,l));return d("MAWBridgeOccamadilloVerifyThreadExistsHandler").callFromMainThread(a,{authoritativeThreadKey:k,clientThreadKey:n,description:"bulkCreateThreadWithoutAfterTxn",folder:o,instanceKey:f,isGroup:m,jid:l,lastActivityTs:p})}));c("gkx")("13628")&&(yield d("MAWBridgeParticipantsUpdatedHandler").callFromMainThread(a,g))});return t.apply(this,arguments)}function u(a){return d("MAWMiActMappingTableAPI").subscribeToMappingDeletion(a,function(a,b){b=d("MAWJids").convertIntJidToOneToOneChatJid(a);j.has(b)&&j["delete"](b);b=d("MAWJids").convertIntJidToGroupJid(a);j.has(b)&&j["delete"](b)})}g.bulkVerifyThreadExistsInWorker=a;g.executePromisesBlockedOnActThreadMapping=e}),98);
__d("MAWBridgeFireAndForget",["MAWBridge","MAWBridgeLoggingUtils","MAWTimedBridge","MAWWaitForBackendSetup","MAWWorkerEvent","Promise","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("justknobx")._("1143");function a(a,c,e,f){return d("MAWWaitForBackendSetup").runAfterBackendSetup(function(){var g=d("MAWBridgeLoggingUtils").getBridgeEventInstanceKey(c);f!==!0&&d("MAWBridgeLoggingUtils").routeStart("fireAndForget",a,c,g);void d("MAWTimedBridge").bridgeTimeout(function(){return new(h||(h=b("Promise")))(function(b){d("MAWBridge").getBridge().fireAndForget(a,c,e,f,{onAck:function(e){f!==!0&&(d("MAWWorkerEvent").logAck(g,c,e),d("MAWBridgeLoggingUtils").routeSuccess(a,c,g)),b()},onSend:function(a){var b=a.queueMsgs;a=a.queueSize;f!==!0&&(d("MAWWorkerEvent").logSend(g,c,"fireAndForget"),d("MAWWorkerEvent").logAnnotations(g,{"int":{bridgeSize:a},string_array:{bridgeMsgs:b}}))}},{bridgeQPLInstanceKey:g})})},a,c,g,i)},c)}g.fireAndForget=a}),98);
__d("MAWCreateOptimisticThread",["I64","LSAuthorityLevel","LSCreateOfflineThreadingIDStoredProcedure","LSFactory","LSIntEnum","LSMailboxType","LSRtcCallState","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield c("LSCreateOfflineThreadingIDStoredProcedure")(c("LSFactory")(a),{timestampMs:(h||(h=d("I64"))).of_float(Date.now())}));a=a[0];return a});return k.apply(this,arguments)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e={authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),folderName:"inbox",lastReadWatermarkTimestampMs:(h||(h=d("I64"))).of_float(0),mailboxType:i.ofNumber(c("LSMailboxType").MESSENGER),ongoingCallState:i.ofNumber(c("LSRtcCallState").NO_ONGOING_CALL),parentThreadKey:h.zero,threadKey:b,threadType:i.ofNumber(15)};yield a.threads.put(e);return b});return m.apply(this,arguments)}function a(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield j(a));yield l(a,b);return b});return n.apply(this,arguments)}g.createOfflineThreadingId=j;g.createOptimisticThreadWithThreadKey=l;g.createOptimisticThread=a}),98);
__d("MessagingFolderTag",[],(function(a,b,c,d,e,f){a=Object.freeze({INBOX:"inbox",OTHER:"other",SPAM:"spam",PENDING:"pending",MONTAGE:"montage",HIDDEN:"hidden",LEGACY:"legacy",DISABLED:"disabled",PAGE_BACKGROUND:"page_background",PAGE_DONE:"page_done",BLOCKED:"blocked",COMMUNITY:"community",RESTRICTED:"restricted",BC_PARTNERSHIP:"bc_partnership",E2EE_CUTOVER:"e2ee_cutover",E2EE_CUTOVER_ARCHIVED:"e2ee_cutover_archived",E2EE_CUTOVER_PENDING:"e2ee_cutover_pending",E2EE_CUTOVER_OTHER:"e2ee_cutover_other",INTEROP:"interop",ARCHIVED:"archived",AI_ACTIVE:"ai_active",SALSA_RESTRICTED:"salsa_restricted",MESSENGER_MARKETING_MESSAGE:"messenger_marketing_message",SECRET_CONVERSATIONS:"secret_conversations",WEBCHAT_PLUGIN:"webchat_plugin",NFB_OVERFLOW:"nfb_overflow",UNKNOWN:""});f["default"]=a}),66);
__d("MAWFolderUtils",["FBLogger","I64","LSCoreClientFolderType","LSIntEnum","MAWFolderTypes","MessagingFolderTag"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){switch(a){case d("MAWFolderTypes").PENDING:return c("MessagingFolderTag").PENDING;case d("MAWFolderTypes").OTHER:return c("MessagingFolderTag").OTHER;case d("MAWFolderTypes").SPAM:return c("MessagingFolderTag").SPAM;case d("MAWFolderTypes").ARCHIVED:return c("MessagingFolderTag").UNKNOWN;default:return c("MessagingFolderTag").INBOX}}function b(a){switch(a){case d("MAWFolderTypes").PENDING:return(h||(h=d("LSIntEnum"))).ofNumber(-101);case d("MAWFolderTypes").OTHER:return(h||(h=d("LSIntEnum"))).ofNumber(-102);case d("MAWFolderTypes").SPAM:return(h||(h=d("LSIntEnum"))).ofNumber(-103);case d("MAWFolderTypes").ARCHIVED:return(h||(h=d("LSIntEnum"))).ofNumber(-110);default:return(h||(h=d("LSIntEnum"))).ofNumber(-100)}}function e(a){switch(a){case d("MAWFolderTypes").ARCHIVED:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSCoreClientFolderType").ARCHIVED);case d("MAWFolderTypes").INBOX:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSCoreClientFolderType").INBOX);case d("MAWFolderTypes").OTHER:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSCoreClientFolderType").SPAM);case d("MAWFolderTypes").PENDING:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSCoreClientFolderType").OTHER);case d("MAWFolderTypes").RESTRICTED:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSCoreClientFolderType").RESTRICTED);case d("MAWFolderTypes").SPAM:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSCoreClientFolderType").PENDING);default:a;throw c("FBLogger")("messenger_web").mustfixThrow("Unhandled folder ID: "+a)}}function f(a){switch(a){case(h||(h=d("LSIntEnum"))).ofNumber(-1):return(h||(h=d("LSIntEnum"))).ofNumber(-101);case(h||(h=d("LSIntEnum"))).ofNumber(-2):return(h||(h=d("LSIntEnum"))).ofNumber(-102);case(h||(h=d("LSIntEnum"))).ofNumber(-3):return(h||(h=d("LSIntEnum"))).ofNumber(-103);case(h||(h=d("LSIntEnum"))).ofNumber(-10):return(h||(h=d("LSIntEnum"))).ofNumber(-110);default:return(h||(h=d("LSIntEnum"))).ofNumber(-100)}}function j(a){switch(a){case"inbox":return d("MAWFolderTypes").FOLDER_ID.INBOX;case"pending":return d("MAWFolderTypes").FOLDER_ID.PENDING;case"spam":return d("MAWFolderTypes").FOLDER_ID.SPAM;case"archived":return d("MAWFolderTypes").FOLDER_ID.ARCHIVED;case"other":return d("MAWFolderTypes").FOLDER_ID.OTHER;case"restricted":return d("MAWFolderTypes").FOLDER_ID.RESTRICTED;default:return null}}function k(a){switch((i||(i=d("I64"))).to_int32(a)){case d("MAWFolderTypes").FOLDER_ID.INBOX:return 0;case d("MAWFolderTypes").FOLDER_ID.PENDING:return-1;case d("MAWFolderTypes").FOLDER_ID.SPAM:return-3;case d("MAWFolderTypes").FOLDER_ID.ARCHIVED:return-10;case d("MAWFolderTypes").FOLDER_ID.OTHER:return-2;default:return null}}g.getMessagingFolderTag=a;g.getClientSystemFolder=b;g.systemFolderToLSCoreClientFolder=e;g.systemFolderToClientSystemFolder=f;g.folderTagToFolderId=j;g.parentThreadKeyToLsSystemFolder=k}),98);
__d("MAWCreateOptimisticMiThreadForActThread",["DateConsts","FBLogger","I64","LSCoreClientFolderType","LSCreateE2EEMetadataThreadStoredProcedure","LSFactory","LSIntEnum","LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure","MAWCreateOptimisticThread","MAWFolderUtils","MAWLoggerDeferred","MAWThreadMappingQPL","MAWThreadMappingState","MAWThreadUpdateMiddlewareGatingUtil","MAWTimeUtils","Promise","WATimeUtils","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occam] Creating e2ee metadata optimistic thread.\n  threadKey: ","\n  bumpTimestampMs: ",",\n  description: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occam] Notifying MI server about thread: int jid ",", state: ",". "]);l=function(){return a};return a}var m=(j||(j=d("I64"))).of_int32(c("LSCoreClientFolderType").INBOX);function n(a){if(a==null){c("FBLogger")("messenger_web").warn("[Occam] no folder ID was supplied to Occamadillo verify thread exists handler");return m}return d("MAWFolderUtils").systemFolderToLSCoreClientFolder(a)}function a(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=e.authoritativeThreadKey,i=e.clientThreadKey,k=e.description,l=e.folder,m=e.instanceKey,n=e.intJid,o=e.isGroup;e=e.lastActivityTs;var p=d("MAWThreadUpdateMiddlewareGatingUtil").isNewMiThreadCreationFlowEnabled("exposure_logging_enabled");m!=null&&d("MAWThreadMappingQPL").addAnnotations({bool:{isNewServerThreadCreationFlowEnabled:p}},m);if(p)i!=null&&(yield d("MAWThreadMappingState").markActThreadMappingAsCompleted(a,{intJid:n,threadKey:(j||(j=d("I64"))).of_string(i)},m),yield d("MAWThreadMappingQPL").measurePerformanceForNullableInstanceKey("thread_point_query_sproc",m,function(){return c("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure")(c("LSFactory")(a),{waJid:n})}));else{p=i!=null?(j||(j=d("I64"))).of_string(i):yield d("MAWCreateOptimisticThread").createOptimisticThread(a);yield (h||(h=b("Promise"))).all([yield q(a,{i64ClientThreadKey:p,intJid:n,mawThread:{authoritativeThreadKey:g,description:k,folder:l,instanceKey:m,isGroup:o,lastActivityTs:e},threadLifecycleState:f}),yield d("MAWThreadMappingState").markActThreadMappingAsCompleted(a,{intJid:n,threadKey:p},m)])}});return o.apply(this,arguments)}function p(a){a=d("MAWTimeUtils").millisTimeToTimestamp(a);return(j||(j=d("I64"))).equal(a,(j||(j=d("I64"))).zero)?d("MAWTimeUtils").millisTimeToTimestamp(d("WATimeUtils").millisTime()):a}function q(a,b){var e=b.i64ClientThreadKey,f=b.intJid,g=b.mawThread;b=b.threadLifecycleState;c("promiseDone")(d("MAWLoggerDeferred").LOG(l(),f,b==null?void 0:b.type));var h=c("LSFactory")(a),m=p(g.lastActivityTs),o=n(g.folder),q=g.isGroup?(i||(i=d("LSIntEnum"))).ofNumber(16):(i||(i=d("LSIntEnum"))).ofNumber(15);a=(j||(j=d("I64"))).to_string(e);var r=g.description;c("promiseDone")(d("MAWLoggerDeferred").LOG(k(),a,j.to_string(m),r));a=d("WATimeUtils").millisTime();var s=j.to_float(m);Math.abs(s-a)<d("DateConsts").MS_PER_SEC&&c("FBLogger")("messenger_web").warn("[GetOrCreateThread] bumpTimestampMs is too close to now. bumpTimestampMs: %s, lastActivityTs: %s, now: %s, description: %s, threadLifecycleState: %s, mawThread.authoritativeThreadKey is null: %s",s,g.lastActivityTs,a,r,b==null?void 0:b.type,g.authoritativeThreadKey==null?"true":"false");s=g.instanceKey;s!=null&&d("MAWThreadMappingQPL").pendingThreadCreationOnServer.set((j||(j=d("I64"))).to_string(f),s);return d("MAWThreadMappingQPL").measurePerformanceForNullableInstanceKey("create_e2ee_metadata_thread_sproc",s,function(){return c("LSCreateE2EEMetadataThreadStoredProcedure")(h,{bumpTimestampMs:m,createdByLocalDevice:null,folderType:o,offlineThreadKey:e,threadType:q,waJid:f})})}g.maybeUpdateMappingTableAndUpgradeOptimisticActThreadInMI=a;g.upgradeOptimisticActThreadInMI=q}),98);
__d("MAWThreadDefaults",["fbt","I64","LSBitOffset","LSIntEnum","qex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function k(){if(c("qex")._("327")===!0)return!0;else return c("qex")._("121")===!0}function a(a){if(k())return d("LSBitOffset").set((j||(j=d("LSIntEnum"))).ofNumber(42),a);else return a}function b(a){return d("LSBitOffset").set((j||(j=d("LSIntEnum"))).ofNumber(4),a)}e=d("LSBitOffset").set((j||(j=d("LSIntEnum"))).ofNumber(18),d("LSBitOffset").set(j.ofNumber(56),d("LSBitOffset").set(j.ofNumber(14),d("LSBitOffset").set(j.ofNumber(23),d("LSBitOffset").set(j.ofNumber(8),d("LSBitOffset").set(j.ofNumber(15),d("LSBitOffset").set(j.ofNumber(2),d("LSBitOffset").empty)))))));f=a(b(d("LSBitOffset").set(j.ofNumber(7),d("LSBitOffset").set(j.ofNumber(6),d("LSBitOffset").set(j.ofNumber(9),d("LSBitOffset").set(j.ofNumber(10),d("LSBitOffset").set(j.ofNumber(19),d("LSBitOffset").set(j.ofNumber(35),d("LSBitOffset").set(j.ofNumber(3),d("LSBitOffset").set(j.ofNumber(43),e))))))))));a=d("LSBitOffset").set(j.ofNumber(17),d("LSBitOffset").set(j.ofNumber(60),d("LSBitOffset").set(j.ofNumber(16),d("LSBitOffset").set(j.ofNumber(26),d("LSBitOffset").set(j.ofNumber(28),d("LSBitOffset").clear(j.ofNumber(27),f))))));b=d("LSBitOffset").set((i||(i=d("I64"))).sub(j.ofNumber(103),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(85),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(109),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(74),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(65),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(64),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(106),i.of_string("64")),d("LSBitOffset").empty)))))));e=h._(/*BTDS*/"__JHASH__9ZFn8zMzjpf__JHASH__").toString();h=d("LSBitOffset").set(i.sub(j.ofNumber(172),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(170),i.of_string("64")),d("LSBitOffset").empty));g.defaultThreadCapabilities=f;g.defaultGroupThreadCapabilities=a;g.defaultThreadCapabilities_2=b;g.nullstateDescriptionText1=e;g.defaultThreadCapabilities_3=h;g.defaultThreadCapabilities_4=d("LSBitOffset").empty;g.defaultThreadCapabilities_5=d("LSBitOffset").empty}),226);
__d("MAWBridgeOccamadilloVerifyThreadExistsHandler",["FBLogger","I64","LSAuthorityLevel","LSThreadBitOffset","MAWActThreadMapping","MAWBridgeFireAndForget","MAWCreateOptimisticMiThreadForActThread","MAWJids","MAWLoggerDeferred","MAWMiActGetThreadLifecycleState","MAWMiActThreadLifecycleState","MAWThreadDefaults","MAWThreadMappingQPL","MAWThreadMappingState","MAWTimeUtils","Promise","WATimeUtils","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occam] Thread loading complete: jid ",", threadKey ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occam] New authoritative thread: jid ",", threadKey: ","), state: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occam] Authoritative thread not found for clientThreadKey: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occam] Thread is missing in verify thread exists"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["Last activity ts = 0 from MI for thread: ",", using local state ts: ",""]);n=function(){return a};return a}function o(a,b,c){a=a;(i||(i=d("I64"))).equal(a,(i||(i=d("I64"))).zero)&&(void d("MAWLoggerDeferred").WARN(n(),(i||(i=d("I64"))).to_string(c),i.to_string(b)),a=b);return a}var p=[105,17,25,24];function q(a,b){var c=p.filter(function(b){return d("LSThreadBitOffset").has(b,a)}),e=61,f=267,g=d("LSThreadBitOffset").has(e,a),h=d("LSThreadBitOffset").has(f,a);g&&c.push(e);h&&c.push(f);return d("LSThreadBitOffset").set(c,b?d("MAWThreadDefaults").defaultGroupThreadCapabilities:d("MAWThreadDefaults").defaultThreadCapabilities,d("MAWThreadDefaults").defaultThreadCapabilities_2,d("MAWThreadDefaults").defaultThreadCapabilities_3,d("MAWThreadDefaults").defaultThreadCapabilities_4,d("MAWThreadDefaults").defaultThreadCapabilities_5)}function r(a,b,c){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){var f=(yield a.threads.get(c));if(f==null){void d("MAWLoggerDeferred").ERROR(m());return(h||(h=b("Promise"))).resolve()}var g=e.clientThreadKey!=null?(i||(i=d("I64"))).of_string(e.clientThreadKey):f.clientThreadKey,j=o(f.lastActivityTimestampMs,d("MAWTimeUtils").millisTimeToTimestamp(e.lastActivityTs),c);e=q(f,e.isGroup);return a.threads.upsert([c],babelHelpers["extends"]({},f,{capabilities:e[0],capabilities2:e[1],capabilities3:e[2],capabilities4:e[3],capabilities5:e[4],clientThreadKey:g,lastActivityTimestampMs:j}))});return s.apply(this,arguments)}function t(a,b,c,d){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f){yield (h||(h=b("Promise"))).all([d("MAWThreadMappingState").markActThreadMappingAsCompleted(a,{intJid:e,threadKey:c},f.instanceKey),x(a,c,f)])});return u.apply(this,arguments)}function v(a,b,c){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){(i||(i=d("I64"))).equal(b,c)||(yield a.threads["delete"](c))});return w.apply(this,arguments)}function x(a,b,c){return y.apply(this,arguments)}function y(){y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){var f=e.clientThreadKey,g=e.instanceKey,j=e.isGroup,k=e.lastActivityTs;yield d("MAWThreadMappingQPL").measurePerformanceForNullableInstanceKey("handle_existing_thread",g,function(){return(h||(h=b("Promise"))).all([r(a,c,{clientThreadKey:f,isGroup:j,lastActivityTs:k}),f!=null&&v(a,c,(i||(i=d("I64"))).of_string(f))])})});return y.apply(this,arguments)}function z(a,b,c){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=(yield a.threads.get(b));f!=null&&(i||(i=d("I64"))).to_int32(f.authorityLevel)===c("LSAuthorityLevel").AUTHORITATIVE?yield x(a,b,e):e.instanceKey!=null&&d("MAWThreadMappingQPL").handleExistingThreadFail(e.instanceKey,f);f==null&&void d("MAWLoggerDeferred").LOG(l(),e.clientThreadKey)});return A.apply(this,arguments)}function B(a,b){return C.apply(this,arguments)}function C(){C=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=b.authoritativeThreadKey,f=b.clientThreadKey,g=b.description,h=b.folder,l=b.instanceKey,m=b.isGroup,n=b.jid;b=b.lastActivityTs;var o=d("MAWJids").convertChatJidToIntJid(n),p=(yield d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByJidOrThreadKey(a,o,e,"MAWBridgeOccamadilloVerifyThreadExistsHandler"));l!=null&&d("MAWThreadMappingQPL").addAnnotations({string:{threadStateInOccamVTE:p.type.toString()}},l);switch(p.type){case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD_WITH_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.THREAD_KEY_ONLY:return d("MAWCreateOptimisticMiThreadForActThread").maybeUpdateMappingTableAndUpgradeOptimisticActThreadInMI(a,{authoritativeThreadKey:e,clientThreadKey:f,description:g,folder:h,instanceKey:l,intJid:o,isGroup:m,lastActivityTs:b},p).then(function(){return{previousState:p.type}});case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:e=(i||(i=d("I64"))).to_string(p.serverThreadKey);void d("MAWLoggerDeferred").LOG(k(),n,e,p.type);return t(a,p.serverThreadKey,o,{clientThreadKey:f,instanceKey:l,isGroup:m,lastActivityTs:b}).then(function(){return{previousState:p.type}});case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE:h=(i||(i=d("I64"))).to_string(p.serverThreadKey);void d("MAWLoggerDeferred").LOG(j(),n,h);return z(a,p.serverThreadKey,{clientThreadKey:f,instanceKey:l,isGroup:m,lastActivityTs:b}).then(function(){return{previousState:p.type}});case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT:throw c("FBLogger")("messenger_web").mustfixThrow("[Occam] Unimplemented VerifyThreadExists state: %s for JID: %s, from %s",p.type,n,g);default:p.type;throw c("FBLogger")("messenger_web").mustfixThrow("[Occam] Unhandled VerifyThreadExists state: %s for JID: %s, from %s",p.type,n,g)}});return C.apply(this,arguments)}function D(a,b,c,d){return E.apply(this,arguments)}function E(){E=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f){yield d("MAWThreadMappingQPL").measurePerformanceForNullableInstanceKey("insert_ephemeral_cache",f,b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield a.threads.get(c));if(b!=null){var f;b={ephemeralExpirationInSec:(i||(i=d("I64"))).to_int32((f=b.disappearingSettingTtl)!=null?f:(i||(i=d("I64"))).zero),ephemeralLastUpdatedOrSetTimestamp:d("WATimeUtils").castMilliSecondsToUnixTime(i.to_float((f=b.disappearingSettingUpdatedTs)!=null?f:(i||(i=d("I64"))).zero))};d("MAWBridgeFireAndForget").fireAndForget("backend","setEphemeralSettingCache",{jid:e,settings:b})}}))});return E.apply(this,arguments)}function a(a,b){return F.apply(this,arguments)}function F(){F=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=b.authoritativeThreadKey,d=b.clientThreadKey,e=b.description,f=b.folder,g=b.instanceKey,h=b.isGroup,i=b.jid;b=b.lastActivityTs;yield H(a,{authoritativeThreadKey:c,clientThreadKey:d,description:(a=e)!=null?a:"unknown",folder:f,instanceKey:g,isGroup:h,jid:i,lastActivityTs:b})});return F.apply(this,arguments)}function e(a,b){return G.apply(this,arguments)}function G(){G=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=b.authoritativeThreadKey,d=b.clientThreadKey,e=b.description,f=b.folder,g=b.instanceKey,h=b.isGroup,i=b.jid;b=b.lastActivityTs;yield H(a,{authoritativeThreadKey:c,clientThreadKey:d,description:e,folder:f,instanceKey:g,isGroup:h,jid:i,lastActivityTs:b})});return G.apply(this,arguments)}function H(a,b){return I.apply(this,arguments)}function I(){I=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=b.authoritativeThreadKey,f=b.clientThreadKey,g=b.description,h=b.instanceKey,j=b.jid;h!=null&&d("MAWThreadMappingQPL").addPoint("occam_verify_thread_exists_start",h);var k=c("gkx")("11539");k&&d("MAWActThreadMapping").executePromisesBlockedOnActThreadMapping({authoritativeThreadKey:e,description:g,instanceKey:h,jid:j,optimisticThreadKey:f});var l=(yield B(a,b));l=l.previousState;k||d("MAWActThreadMapping").executePromisesBlockedOnActThreadMapping({authoritativeThreadKey:e,description:g,instanceKey:h,jid:j,optimisticThreadKey:f});g=(k=e)!=null?k:f;e=g!=null?(i||(i=d("I64"))).of_string(g):null;e!=null&&l!==d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE&&(yield D(a,e,j,h));if(h!=null){d("MAWThreadMappingQPL").addPoint("occam_verify_thread_exists_end",h);k=d("MAWJids").convertChatJidToIntJid(b.jid);d("MAWThreadMappingQPL").pendingThreadCreationOnServer.has((i||(i=d("I64"))).to_string(k))||(yield d("MAWThreadMappingQPL").end({instanceKey:h,intJid:k,tables:a,threadKey:e}))}});return I.apply(this,arguments)}g.genUpdatesForAuthoritativeThread=x;g.insertEphemeralCache=D;g.call=a;g.callFromMainThread=e}),98);
__d("MAWCommonSetupBridge",["BrowserLockManager","CurrentAppID","CurrentUser","FBLogger","I64","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadAttributionType","MAWBridge","MAWChatJid","MAWCrossWorkerPortal","MAWCurrentUser","MAWDbMedia","MAWEBSwitch","MAWInit","MAWJobActionsV2","MAWMIC","MAWReportSendMessageSuccessResult","MAWThreadCutover","MAWThreadUtils","MWLogSend","ODS","Promise","QPLEvent","QPLUserFlow","WACrossWorkerPortal","WADevToolMessageChannel","WADevToolsBridge","WAExceededStorageQuota","WAJids","cr:2691","gkx","justknobx","pageID","performanceAbsoluteNow","promiseDone","requireDeferred","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o=c("requireDeferred")("MAWMainThreadLogger").__setRef("MAWCommonSetupBridge"),p=new Set([25312111,25311870]),q=new Map();e=new Map([[(a=d("MAWDbMedia")).MEDIA_TYPE.IMAGE,8],[a.MEDIA_TYPE.VIDEO,10],[a.MEDIA_TYPE.GIF,6],[a.MEDIA_TYPE.STICKER,4],[a.MEDIA_TYPE.PTT,11],[a.MEDIA_TYPE.DOCUMENT_FILE,9]]);var r=new Set([25312150,25313100,1056840931,25299294]),s=function(){return(n||(n=c("performanceAbsoluteNow")))()-Date.now()},t=s();function u(a,b,e){return(i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(f){return d("MAWThreadCutover").isCutoverSecureThreadFromChatJid(f,a).then(function(a){c("QPLUserFlow").addAnnotations(b,{bool:{is_cutover:a}},{instanceKey:e})})})}var v=/[^a-zA-Z0-9._-]/g,w=/[.]+/g,x=/[\s_.-]+/g;function y(a){return a.replace(x,".").replace(v,"").replace(w,".")}var z={handleMessageSendResult:function(a){a.success&&d("MAWReportSendMessageSuccessResult").reportSendMessageSuccessResult(a.report)},log:function(a){var b=a.logLevel,c=a.logString,e=a.tags;a=e.length>0;var f=""+(d("CurrentAppID").getAppID()||"unknown");switch(b){case"count":(j||(j=d("ODS"))).bumpEntityKey(3185,y("e2ee."+(a?e.join("."):c)),y("count."+(a?c+"."+f:f)),1);o.onReadyImmediately(function(a){a=a.count;return a(c,e)});return;case"log":o.onReadyImmediately(function(a){a=a.info;return a(c,e)});return;case"warn":o.onReadyImmediately(function(a){a=a.warn;return a(c,e)});return;case"logRestricted":o.onReadyImmediately(function(a){a=a.logRestricted;return a(c,e)});return;case"debug":break;case"error":break;default:break}},logError:function(a){var b=a.entriesToReport,c=a.framesToPop,d=a.logString,e=a.message,f=a.stack,g=a.tags;o.onReadyImmediately(function(a){a=a.logError;return a(d,g,e,f,c,b)})},odsBumpEntityKey:function(a){var b=a.amount,c=a.entity;a=a.key;(j||(j=d("ODS"))).bumpEntityKey(3185,c,a+"."+(d("CurrentAppID").getAppID()||"unknown"),b)},onJobFinished:function(a){a.type==="createGroup"&&a.originalArgs.key!=null&&d("MAWJobActionsV2").recentFinishedJobsCache.set(a.originalArgs.key,a.result);switch(a.type){case"sendAppData":var b=a.originalArgs,e=a.result;(b=b.args.contents.actions)==null?void 0:b.forEach(function(a){a=a.messageAction;if(a==null||a.type!=="delete_for_me"||e.type!=="not_sent")return;q.set(e.appDataExternalId,{chatJid:a.protocolMsgId.chat,externalId:a.protocolMsgId.externalId,type:"deleteMsgForMe"})});break}if(a.type==="sendWrittenAppData"){b=a.originalArgs.appDataExternalId;var f=q.get(b);q["delete"](b);if(f!=null&&f.type==="deleteMsgForMe"&&a.result.type==="success"){var g=f.chatJid,h=f.externalId,j=d("MAWThreadUtils").getLSThreadTypeFromJid(g);c("promiseDone")((i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(a){c("promiseDone")(d("MAWChatJid").toThreadKey(a.tables,g,"MAWCommonSetupBridge::sendWrittenAppData").then(function(b){d("MWLogSend").log(a,{actor:(k||(k=d("I64"))).of_string(d("MAWCurrentUser").getID()),attachmentFbids:[],attachmentType:25,backend:1,hasReply:!1,messagingThreadId:k.to_string(b),offlineThreadingId:h,sendType:3,source:(l||(l=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").UNKNOWN),threadKey:b,threadType:j})}))}))}}},qplEvent:function(a){var e=a.action,f=a.annotations,g=a.debugInfo,i=a.error,j=a.event,k=a.instanceKey,l=a.performanceAndDateSkew,n=a.timeoutInMs;a=a.timestamp;if(!c("CurrentUser").isEmployee()&&p.has((m||(m=d("QPLEvent"))).getMarkerId(j)))return;var o=k||0;k=f==null?void 0:(k=f.string)==null?void 0:k.jid;k=k!=null?d("WAJids").validateChatJid(k):void 0;k=r.has((m||(m=d("QPLEvent"))).getMarkerId(j))&&k!=null?u(k,j,o):(h||(h=b("Promise"))).resolve();var q=a!=null&&l!=null&&c("gkx")("8334")?a+l-t+s():a;switch(e.type){case"start":c("QPLUserFlow").start(j,{annotations:babelHelpers["extends"]({},f||{},{bool:babelHelpers["extends"]({},(f==null?void 0:f.bool)||{},{is_eb_enabled:c("MAWEBSwitch").isEnabled(),is_pdb:c("gkx")("8483"),isArmadilloPublicLaunchUser:c("gkx")("23405"),isDev:0,isGifSearchEnbled:!0,isLockApiSupported:c("BrowserLockManager")!=null,isRestoreDBEnabled:c("gkx")("23906"),isTlcPublicUser:d("MAWCurrentUser").isTlcPublicUser(),useSharedWorker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()})}),instanceKey:o,timeoutInMs:n,timestamp:q});break;case"success":c("QPLUserFlow").addAnnotations(j,{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}},{instanceKey:o});k["finally"](function(){c("QPLUserFlow").endSuccess(j,{annotations:f,instanceKey:o,timestamp:q})});break;case"cancel":c("QPLUserFlow").addAnnotations(j,{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}},{instanceKey:o});k["finally"](function(){c("QPLUserFlow").endCancel(j,{annotations:f,instanceKey:o,timestamp:q})});break;case"point":f&&c("QPLUserFlow").addAnnotations(j,f,{instanceKey:o});(m||(m=d("QPLEvent"))).getMarkerId(j)===1056839232?d("MAWMIC").addPoint(e.name,q):c("QPLUserFlow").addPoint(j,e.name,{instanceKey:o,timestamp:q});break;case"annotations":c("QPLUserFlow").addAnnotations(j,(l=f)!=null?l:{},{instanceKey:o});break;case"failure":c("QPLUserFlow").addAnnotations(j,{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0},string:{failureReason:e.name}},{instanceKey:o});k["finally"](function(){c("QPLUserFlow").endFailure(j,e.name,{annotations:f,instanceKey:o,timestamp:q})});break;case"error":c("QPLUserFlow").markError(j,e.name,{debugInfo:g,error:i,instanceKey:o});break;default:throw c("FBLogger")("messenger_web").mustfixThrow("Bridge sends unreachable qplEvent action type")}}},A=function(a,b){a.push(b);return a};f=function(a){var e=a.customizeEventHandlers;a=a.worker;d("MAWInit").MAWInit.logPoint("bridge_setup_start");var f=d("MAWBridge").getBridge();f.setHandlers("event",babelHelpers["extends"]({},z,e));e=d("MAWCrossWorkerPortal").getOrCreateCrossWorkerPortal(f,["backend","mps"],A,{bridgeBatcherMaxTokens:Number.MAX_SAFE_INTEGER,portalCacheSize:c("justknobx")._("3092"),useLRUCache:c("gkx")("6949")});e.setPort(a);if(c("gkx")("3282")){var g=d("WADevToolsBridge").getDevToolBridge();a=new MessageChannel();var h=d("WACrossWorkerPortal").attachPortal(g,["backend"],A,c("pageID")),i=d("WACrossWorkerPortal").attachPortal(g,["devtool","mawDbDevTool"],A,c("pageID"));d("WADevToolMessageChannel").onCreateNewChannel(function(a){h.setPort(a.port1)});i.setPort(a.port1);b("cr:2691")==null?void 0:b("cr:2691").connectAddonPort(a.port2);e.addListener(function(a,b){return g.fireAndForget("devtool","bridgeMessage",{direction:b==="outgoing"?"toWorker":"toMain",msg:a,ts:Date.now()},!0)})}d("MAWMIC").addPoint("bridge_setup_done");d("MAWInit").MAWInit.logPoint("bridge_setup_end");return f};g.MEDIA_TYPE_TO_ATTACHMENT_TYPE=e;g.initBridge=f}),98);
__d("MAWGetAttachmentTypeForSendWrittenMsg",["MAWCommonSetupBridge"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e,f,g,h,i){if(f)return 43;if(a==="revokeMsg")return 26;if(g!=null)return g;if(c)return 3;if(e&&h===!1)return 13;if(i===!0)return 13;f=b!=null?d("MAWCommonSetupBridge").MEDIA_TYPE_TO_ATTACHMENT_TYPE.get(b):null;return(a=f)!=null?a:0}g.getAttachmentTypeForSendWrittenMsg=a}),98);
__d("MAWReportSendMessageSuccessResult",["BrowserLockManager","FBLogger","I64","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadAttributionType","MAWChatJid","MAWCurrentUser","MAWFrontendMediaUtils","MAWGetAttachmentTypeForSendWrittenMsg","MAWThreadUtils","MAWVault","MAWXMAUtils","MWLogSend","MultipleTabsLogger","URLMatcher","WAJids","asyncToGeneratorRuntime","gkx","justknobx","promiseDone","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{a=(yield d("MAWChatJid").toThreadKey(a.tables,b,"MAWCommonSetupBridge::sendWrittenMsg"));return a}catch(a){if(c("gkx")("10750")){c("FBLogger")("messenger_e2ee_web_send").warn("MAWCommonSetupBridge::sendWrittenMsg failed to get threadKey. With error: %s",a);return(h||(h=d("I64"))).zero}throw a}});return l.apply(this,arguments)}function m(a){var e,f=a.externalId,g=null,l=!1,m=!1;switch(a.messageType){case"editMsg":l=!0;break;case"revokeMsg":f=a.referencedExternalId;break;case"sendMsg":m=a.specialTextSize!=null;break;case"reactionMsg":g=a.reaction!=null?20:27;break;case"bumpMsg":break;case"noteReplyMsg":break;case"sendPoll":break;case"fixMe":return;default:a.messageType}var n=null;a.fileType!=null&&(n=d("MAWFrontendMediaUtils").getMediaTypeAndServerMediaTypeFromBlob(a.fileType).mediaType);var o=a.xmaMessageType!=null,p=a.quote!=null||d("MAWXMAUtils").isXMAStoryReply(a.xmaMessageType);e=c("URLMatcher").match(d("MAWVault").unvault((e=a.content)!=null?e:""));e=e!=null&&e.length>0;var q=d("MAWGetAttachmentTypeForSendWrittenMsg").getAttachmentTypeForSendWrittenMsg(a.messageType,n,m,o,l,g,p,e),r=d("MAWThreadUtils").getLSThreadTypeFromJid(a.chatJid);c("promiseDone")((i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var e=(a==null?void 0:a.source)!=null?a.source:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").UNKNOWN),g=(yield k(b,a.chatJid)),i=d("WAJids").validateGroupJid(a.chatJid);d("MWLogSend").log(b,{actor:(h||(h=d("I64"))).of_string(d("MAWCurrentUser").getID()),attachmentFbids:[],attachmentType:q,backend:1,hasReply:p,initatingSource:a==null?void 0:a.initiatingSource,messagingThreadId:h.to_string(g),msgTtl:(b=a.ephemeralSetting)==null?void 0:b.ephemeralExpirationInSec,offlineThreadingId:f,sendType:1,source:e,threadKey:g,threadType:r,waGroupJid:c("gkx")("10750")&&i!=null?d("WAJids").threadIdForChatJid(i):void 0})});return function(a){return e.apply(this,arguments)}}()))}function a(a){if(c("justknobx")._("154")&&d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()&&(c("BrowserLockManager")!=null&&!d("MultipleTabsLogger").hasUniqueLock()))return;m(a)}g.reportSendMessageSuccessResultFn=m;g.reportSendMessageSuccessResult=a}),98);
__d("MAWGetEphemeralSettings",["I64","MAWBridgeSendAndReceive","MAWChatJid","ReQL","WAJids","WALogger","WATimeUtils","asyncToGeneratorRuntime","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[ephemeral settings in memory]: MAWGetEphemeralSettings api call for chatJid "," returns ",""]);i=function(){return a};return a}var j=c("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("MAWGetEphemeralSettings"),k=c("requireDeferred")("MAWEphemeralSettingsUpdate").__setRef("MAWGetEphemeralSettings");function a(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(d("WAJids").switchOnMsgrChatJidType(a,{group:function(){return!1},user:function(){return!0}})){var e=(yield j.load());e=(yield e());b=(b=b)!=null?b:yield d("MAWChatJid").toThreadKeyMaybe(e.tables,a);if(b!=null){e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(b)));if(e!=null&&e.disappearingSettingTtl!=null){b={ephemeralExpirationInSec:(h||(h=d("I64"))).to_int32(e.disappearingSettingTtl),ephemeralLastUpdatedOrSetTimestamp:e.disappearingSettingUpdatedTs!=null?d("WATimeUtils").castMilliSecondsToUnixTime((h||(h=d("I64"))).to_float(e.disappearingSettingUpdatedTs)):d("WATimeUtils").unixTime()};return b}return}return d("MAWBridgeSendAndReceive").sendAndReceive("backend","getEphemeralSettings",{threadId:a}).then(function(b){d("WALogger").LOG(i(),a,b);if(b!=null){c("promiseDone")(k.load().then(function(c){return c.updateEphemeralSettingsByChatJid(b.ephemeralExpirationInSec,b.ephemeralLastUpdatedOrSetTimestamp,!1,a,!0)}));return b}return void 0})}});return l.apply(this,arguments)}g.getEphemeralSetting=a}),98);
__d("MAWIsIDBOperational",["FBLogger","WebAsyncStorage","asyncToGeneratorRuntime","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useEffect,j=e.useState;function k(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a===void 0&&(a=!1);if(a&&!c("WebAsyncStorage").isOpenPromiseSettled())return!1;a=(yield c("WebAsyncStorage").isOperational());if(!a.success){c("FBLogger")("messenger_web").catching(a.error).warn("Marking MAW IDB as unavailable: %s",a.error.message);return!1}return!0});return l.apply(this,arguments)}var m=!1;function a(){var a=j(m),b=a[0],d=a[1];i(function(){c("promiseDone")(k().then(function(a){d(a),m=a}))},[d]);return b}g.isIDBOperational=k;g.useIsIDBOperational=a}),98);
__d("MAWMainThreadLogger",["CurrentMessengerUser","FBLogger","MAWAppVersion","MAWConsoleLogger","MAWDeleteOldLogsFromDisk","MAWLeakDetection","MAWLoggerUtils","MAWLoggingSwitches","MAWSaveLogToDisk","Promise","WAJids","WATagsLogger","asyncToGeneratorRuntime","err","getErrorSafe","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=!1;function a(){i=!1}function e(){i||(i=!0,d("WATagsLogger").initializeWaLogger(t))}var j=function(){return c("FBLogger")("messenger_web")};function k(a,b){a=l(a);a!=null&&d("MAWLoggerUtils").logToHistory("log",a,b,!1)}function l(a){if(!d("CurrentMessengerUser").isEmployee()&&!d("CurrentMessengerUser").isTestUser())return;a=d("WAJids").maybeSanitizeLogLineText(a);a=d("MAWLeakDetection").maybeReplaceVaultedString(a);return a}function f(a,b){a=d("WAJids").maybeSanitizeLogLineText(a);a=d("MAWLeakDetection").maybeReplaceVaultedString(a);d("MAWLoggerUtils").logToHistory("log",a,b,!1)}function m(a,b){a=d("WAJids").maybeSanitizeLogLineText(a);a=d("MAWLeakDetection").maybeReplaceVaultedString(a);d("MAWLoggerUtils").logToHistory("log",a,b,!1)}function n(a,b){a=d("WAJids").maybeSanitizeLogLineText(a);a=d("MAWLeakDetection").maybeReplaceVaultedString(a);j().tags(b.map(function(a){return String(a)})).warn(a)}function o(a,b,d,e,f,g){d=c("err")(d);d.stack=e;c("promiseDone")(r(a,b,d,f,g))}function p(a,b){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){a=d("MAWLeakDetection").maybeReplaceVaultedString(d("WAJids").maybeSanitizeLogLineText(a));var e=d("MAWLoggingSwitches").removeLoggingFromBridge?d("MAWSaveLogToDisk").getLastNEntries(c):(h||(h=b("Promise"))).resolve([]);c=c===0?[]:[].concat((yield e).map(function(a){return a.args}));return{logs:[].concat(c),sanitizedMessage:a}});return q.apply(this,arguments)}function r(a,b,c,d,e){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){var h;a=d("MAWLeakDetection").maybeReplaceVaultedString(d("WAJids").maybeSanitizeLogLineText(a));h=(h=e)!=null?h:c("err")(a);f=(a=f)!=null?a:e==null?2:0;e=(a=g)!=null?a:0;g=(yield p(h.message,e));a=g.logs;e=g.sanitizedMessage;g=c("getErrorSafe")(h);try{h.message=e}catch(a){g=c("err")(e,h.fileName,h.lineNumber)}f!==0&&(g.framesToPop=f);(h=j())==null?void 0:(f=h.addMetadata("MESSENGER_E2EE_WEB","APP_VERSION",d("MAWAppVersion").getVersionNumber()).tags(b.map(function(a){return String(a)})).catching(g)).mustfix.apply(f,[e].concat(a))});return s.apply(this,arguments)}var t={count:function(a,b){d("MAWConsoleLogger").logToConsole("count",a,b)},debug:function(a,b){d("MAWConsoleLogger").logToConsole("log",a,b)},devConsole:function(a,b,c){for(var e=arguments.length,f=new Array(e>3?e-3:0),g=3;g<e;g++)f[g-3]=arguments[g];switch(a){case"COUNT":d("MAWConsoleLogger").logToConsole.apply(void 0,["count",b,c].concat(f));break;case"DEV":d("MAWConsoleLogger").logToConsole.apply(void 0,["log",b,c].concat(f));break;case"DEV_XMPP":d("MAWConsoleLogger").logToConsole.apply(void 0,["log",b,c].concat(f));break;case"LOG":d("MAWConsoleLogger").logToConsole.apply(void 0,["info",b,c].concat(f));break;case"WARN":d("MAWConsoleLogger").logToConsole.apply(void 0,["warn",b,c].concat(f));break;case"ERROR":d("MAWConsoleLogger").logToConsole.apply(void 0,["error",b,c].concat(f));break;case"CATCHING":d("MAWConsoleLogger").logToConsole.apply(void 0,["error",b,c].concat(f));break}},error:function(a,b,e){c("promiseDone")(r(a,b,e)),d("MAWConsoleLogger").logToConsole("error",a,b)},info:function(a,b){m(a,b),d("MAWConsoleLogger").logToConsole("info",a,b)},logRestricted:function(a,b){k(a,b),d("MAWConsoleLogger").logToConsole("log",a,b)},warn:function(a,b){n(a,b),d("MAWConsoleLogger").logToConsole("warn",a,b)}};function u(){return!d("MAWLoggingSwitches").removeLoggingFromBridge?(h||(h=b("Promise"))).resolve([]):d("MAWSaveLogToDisk").getEntries()}function v(){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!d("MAWLoggingSwitches").removeLoggingFromBridge)return;yield d("MAWDeleteOldLogsFromDisk").clearLogs()});return w.apply(this,arguments)}function x(a){return new Date(typeof a==="string"?parseInt(a,10):a).toISOString().replace("T"," ").replace("Z","")}function y(a){return a.map(function(a){try{var b=x(a.date);return[b,a.level,a.category,a.event,a.args].join(" | ")}catch(a){return[x(Date.now()),"error","LOGGER","Error formatting log: "+((a==null?void 0:a.message)||"")].join(" | ")}}).filter(Boolean).join("\n")}g.__testClearLoggerSetup=a;g.setupMainWaLogger=e;g.logRestricted=k;g.count=f;g.info=m;g.warn=n;g.logError=o;g.getEntries=u;g.clearEntries=v;g.formatEntries=y}),98);
__d("WABridgedAPI",["IWAAPI"],(function(a,b,c,d,e,f,g){"use strict";b={queryGroups:(a=d("IWAAPI")).makeBridgedApi("queryGroups"),getDevices:a.makeBridgedApi("getDevices"),removeCurrentDevice:a.makeBridgedApi("removeCurrentDevice"),removeDevice:a.makeBridgedApi("removeDevice"),getCurrentUserDeviceList:a.makeBridgedApi("getCurrentUserDeviceList")};c=b;g["default"]=c}),98);/*FB_PKG_DELIM*/
__d("IGDDataclassTypes.flow",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Share:"SHARE",Reply:"REPLY",React:"REACT",Mention:"MENTION"});c=b("$InternalEnum")({Note:"NOTE",Story:"STORY",Profile:"PROFILE",Clip:"CLIP",Feed:"FEED",Live:"LIVE",Comment:"COMMENT",LocationShare:"LOCATION_SHARE",ReelsAudio:"REELS_AUDIO",MediaNote:"MEDIA_NOTE",StoryHighlight:"STORY_HIGHLIGHT",SocialContext:"SOCIAL_CONTEXT"});d=b("$InternalEnum")({Mention:"MENTION",Reply:"REPLY"});f.XmsgIgXmaActionType=a;f.XmsgIgReceiverFetchContentType=c;f.XmsgIgReceiverFetchXmaMediaNoteFetchParamsMessageType=d}),66);
__d("IGDXMAAttachmentUtil",["bx"],(function(a,b,c,d,e,f,g){"use strict";d=c("bx").getURL(c("bx")("13341"));var h=String.fromCodePoint(128293),i=String.fromCodePoint(128546),j=String.fromCodePoint(128079),k=String.fromCodePoint(128558),l=String.fromCodePoint(128514),m=String.fromCodePoint(128525);function a(a){return a!=null?a===h||a===i||a===j||a===k||a===l?!0:a===m:!1}function b(a,b){return a==="xma_ig_comment_action_url"&&b==="xma_ig_comment_media_action_url"}g.DEFAULT_PROFILE_URL=d;g.isEmojiReaction=a;g.isXmaPostComment=b}),98);
__d("LSComputeParticipantCapabilities",["LSGetViewerFBID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.filter(c.db.table(14).fetch([[[a[1],d[0]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,d[0])}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1,!1],d[1]=c[0],d[2]=c[1],c):(b=a.item,c=[b.isAdmin==null?!1:b.isAdmin,b.isModerator],d[1]=c[0],d[2]=c[1],c)})},function(b){return c.filter(c.db.table(14).fetch([[[a[1],a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[0])}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1,!1],d[4]=c[0],d[5]=c[1],c):(b=a.item,c=[b.isAdmin==null?!1:b.isAdmin,b.isModerator],d[4]=c[0],d[5]=c[1],c)})},function(b){return c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[c.i64.cast([0,1073741823]),c.i64.cast([0,0]),!1],d[7]=e[0],d[8]=e[1],d[9]=e[2],e):(b=a.item,e=[b.capabilities==null?c.i64.cast([0,1073741823]):b.capabilities,b.contactTypeExact==null?c.i64.cast([0,0]):b.contactTypeExact,b.isManagedByViewer==null?!1:b.isManagedByViewer],d[7]=e[0],d[8]=e[1],d[9]=e[2],e)})},function(a){return d[12]=c.i64.eq(d[8],c.i64.cast([0,4]))?d[9]?c.i64.cast([0,2612119]):c.i64.or_(c.i64.cast([0,2612119]),c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,3])))):d[7],c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[11]=a[0],a})},function(e){return d[13]=c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,20]))),d[15]=d[1]&&!d[4]&&c.i64.neq(d[11],a[0])?d[12]:c.i64.eq(c.i64.and_(d[12],d[13]),c.i64.cast([0,0]))?d[12]:c.i64.sub(d[12],d[13]),c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[14]=a[0],a})},function(e){return d[16]=c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,22]))),d[19]=d[4]&&d[1]&&c.i64.neq(d[14],a[0])?d[15]:c.i64.eq(c.i64.and_(d[15],d[16]),c.i64.cast([0,0]))?d[15]:c.i64.sub(d[15],d[16]),d[2]?d[17]=!(d[4]||d[5]):d[17]=!0,c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[18]=a[0],a})},function(b){return d[20]=c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,21]))),e[0]=(d[1]||d[2])&&d[17]&&c.i64.neq(a[0],d[18])?d[19]:c.i64.eq(c.i64.and_(d[19],d[20]),c.i64.cast([0,0]))?d[19]:c.i64.sub(d[19],d[20])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxComputeParticipantCapabilitiesStoredProcedure";a.__tables__=["participants","contacts"];e.exports=a}),null);
__d("LSAddParticipantIdToGroupThread",["LSComputeParticipantCapabilities"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return c.storedProcedure(b("LSComputeParticipantCapabilities"),a[1],a[0]).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.filter(c.db.table(14).fetch([[[a[0],a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[1])&&c.i64.gt(b.authorityLevel,a[9])}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(14).put({threadKey:a[0],contactId:a[1],readWatermarkTimestampMs:a[2],readActionTimestampMs:a[3],deliveredWatermarkTimestampMs:a[4],nickname:a[5],normalizedSearchTerms:a[10],isAdmin:a[6],isSuperAdmin:a[13],subscribeSource:a[7],authorityLevel:a[9],participantCapabilities:d[0],groupParticipantJoinState:a[11],isModerator:a[12],threadRoles:a[14]}):0})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxAddParticipantIdToGroupThreadStoredProcedure";a.__tables__=["participants"];e.exports=a}),null);
__d("LSClearMessagePlaceholderRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(13).fetch([[[a[0],b.i64.cast([0,0])]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&c.minMessageId===a[1]&&b.i64.eq(b.i64.cast([0,0]),c.minTimestampMs)&&b.i64.eq(a[2],c.maxTimestampMs)}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxClearMessagePlaceholderRangeStoredProcedure";a.__tables__=["messages_ranges_v2__generated"];e.exports=a}),null);
__d("LSClearPinnedMessages",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(205).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxClearPinnedMessagesStoredProcedure";a.__tables__=["msg_pinned_messages_v2"];e.exports=a}),null);
__d("LSDatabaseSingletonLazyWrapper",["LSDatabaseSingleton"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return(h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton}g["default"]=a}),98);
__d("LSDeleteExistingMessageRanges",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(13).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteExistingMessageRangesStoredProcedure";a.__tables__=["messages_ranges_v2__generated"];e.exports=a}),null);
__d("LSDeleteThenInsertMessageRequest",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(34).put({threadKey:a[0],messageRequestStatus:a[2]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteThenInsertMessageRequestStoredProcedure";a.__tables__=["message_requests"];e.exports=a}),null);
__d("LSDeleteThenInsertThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(9).fetch([[[a[7]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[29],parentThreadKey:a[35],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetText:a[20],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],snippetHasEmoji:a[42],hasPersistentMenu:a[43],disableComposerInput:a[44],cannotUnsendReason:a[45],viewedPluginKey:a[46],viewedPluginContext:a[47],clientThreadKey:a[48],capabilities:a[49],shouldRoundThreadPicture:a[50],proactiveWarningDismissTime:a[51],isCustomThreadPicture:a[52],otidOfFirstMessage:a[53],normalizedSearchTerms:a[54],additionalThreadContext:a[55],disappearingThreadKey:a[56],isDisappearingMode:a[57],disappearingModeInitiator:a[58],unreadDisappearingMessageCount:a[59],lastMessageCtaId:a[61],lastMessageCtaType:a[62],consistentThreadFbid:a[63],threadDescription:a[64],unsendLimitMs:a[65],syncGroup:a[66],threadInvitesEnabled:a[67],threadInviteLink:a[68],numUnreadSubthreads:a[69],subthreadCount:a[70],threadInvitesEnabledV2:a[71],joinRequestApprovalSetting:a[72],pendingJoinRequestsCount:a[73],eventStartTimestampMs:a[74],eventEndTimestampMs:a[75],takedownState:a[76],memberCount:a[77],admodCount:a[78],secondaryParentThreadKey:a[79],igFolder:a[80],inviterId:a[81],threadTags:a[82],readReceiptsDisabledV2:a[83],threadStatus:a[84],threadSubtype:a[85],pauseThreadTimestamp:a[86],metadata:a[87],syncSource:a[88]}):(e=d.item,c[1]=e.lastActivityTimestampMs,c[3]=e.parentThreadKey,c[2]=e.disappearingThreadKey,c[4]=e.isDisappearingMode,b.i64.le(e.authorityLevel,a[6])?b.i64.gt(c[1],a[0])&&b.i64.neq(c[2],void 0)?(b.i64.eq(a[35],b.i64.cast([-1,4294967286]))&&b.i64.eq(c[3],b.i64.cast([0,0]))?(f=[c[3],e.folderName],c[5]=f[0],c[6]=f[1],f):(d=[a[35],a[10]],c[5]=d[0],c[6]=d[1],d),b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:e.lastReadWatermarkTimestampMs,authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:c[6],ongoingCallState:a[29],parentThreadKey:c[5],lastActivityTimestampMs:c[1],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetText:a[20],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],snippetHasEmoji:a[42],hasPersistentMenu:a[43],disableComposerInput:a[44],cannotUnsendReason:a[45],viewedPluginKey:a[46],viewedPluginContext:a[47],clientThreadKey:a[48],capabilities:a[49],shouldRoundThreadPicture:a[50],proactiveWarningDismissTime:a[51],isCustomThreadPicture:a[52],otidOfFirstMessage:a[53],normalizedSearchTerms:a[54],additionalThreadContext:a[55],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[58],unreadDisappearingMessageCount:a[59],lastMessageCtaId:a[61],lastMessageCtaType:a[62],consistentThreadFbid:a[63],threadDescription:a[64],unsendLimitMs:a[65],syncGroup:a[66],threadInvitesEnabled:a[67],threadInviteLink:a[68],numUnreadSubthreads:a[69],subthreadCount:a[70],threadInvitesEnabledV2:a[71],joinRequestApprovalSetting:a[72],pendingJoinRequestsCount:a[73],eventStartTimestampMs:a[74],eventEndTimestampMs:a[75],takedownState:a[76],memberCount:a[77],admodCount:a[78],secondaryParentThreadKey:a[79],igFolder:a[80],inviterId:a[81],threadTags:a[82],readReceiptsDisabledV2:a[83],threadStatus:a[84],threadSubtype:a[85],pauseThreadTimestamp:a[86],metadata:a[87],syncSource:a[88]})):b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[29],parentThreadKey:a[35],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetText:a[20],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],snippetHasEmoji:a[42],hasPersistentMenu:a[43],disableComposerInput:a[44],cannotUnsendReason:a[45],viewedPluginKey:a[46],viewedPluginContext:a[47],clientThreadKey:a[48],capabilities:a[49],shouldRoundThreadPicture:a[50],proactiveWarningDismissTime:a[51],isCustomThreadPicture:a[52],otidOfFirstMessage:a[53],normalizedSearchTerms:a[54],additionalThreadContext:a[55],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[58],unreadDisappearingMessageCount:a[59],lastMessageCtaId:a[61],lastMessageCtaType:a[62],consistentThreadFbid:a[63],threadDescription:a[64],unsendLimitMs:a[65],syncGroup:a[66],threadInvitesEnabled:a[67],threadInviteLink:a[68],numUnreadSubthreads:a[69],subthreadCount:a[70],threadInvitesEnabledV2:a[71],joinRequestApprovalSetting:a[72],pendingJoinRequestsCount:a[73],eventStartTimestampMs:a[74],eventEndTimestampMs:a[75],takedownState:a[76],memberCount:a[77],admodCount:a[78],secondaryParentThreadKey:a[79],igFolder:a[80],inviterId:a[81],threadTags:a[82],readReceiptsDisabledV2:a[83],threadStatus:a[84],threadSubtype:a[85],pauseThreadTimestamp:a[86],metadata:a[87],syncSource:a[88]}):b.resolve())})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxDeleteThenInsertThreadStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSFlushSyncTrace",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(153).fetch(),function(c){return b.i64.eq(c.traceType,b.i64.cast([0,2]))&&c.contextOne===a[1]&&c.contextThree===a[0]}),function(a){var b=a.update;a.item;return b({shouldFlush:!0})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSDataTraceFlushSyncTraceStoredProcedure";a.__tables__=["data_trace_meta"];e.exports=a}),null);
__d("LSExecuteFinallyBlockForSyncTransaction",["LSFlushSyncTrace"],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(c){return b.forEach(b.filter(b.db.table(3).fetch([[["",a[1]]]]),function(c){return c.taskQueueName===""&&b.i64.eq(c.syncDatabaseId,a[1])&&b.i64.eq(c.epochId,a[2])}),function(c){var d=c.update;c=c.item;return d({epochId:!a[0]&&b.i64.eq(c.failureCount,b.i64.cast([-1,4294967295]))?c.epochId:void 0,failureCount:b.i64.eq(c.failureCount,b.i64.cast([-1,4294967295]))?b.i64.cast([0,0]):b.i64.add(c.failureCount,b.i64.cast([0,1]))})})},function(a){return b.resolve()}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreExecuteFinallyBlockForSyncTransactionStoredProcedure";a.__tables__=["network_requests"];e.exports=a}),null);
__d("LSExecuteFirstBlockForSyncTransaction",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSLogEventAnnotate.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return c.resolve()},function(e){return c.filter(c.db.table(3).fetch([[["",a[0]]]]),function(b){return b.taskQueueName===""&&c.i64.eq(b.syncDatabaseId,a[0])&&c.i64.eq(b.epochId,a[1])}).next().then(function(e,f){f=e.done;e=e.value;return f?c.sequence([function(e){return d[2]=",",function(a){c.logger(a).mustfix(a)}(["epoch mismatch",d[2]," db_type=",d[2],c.i64.to_string(a[0]),d[2]," previous_cursor=",d[2],a[2]==null?"null":a[2],d[2]," next_cursor=",d[2],a[3]].join("")),d[3]=new c.Map(),d[3].set("database_id",a[0]),d[3].set("epoch_id",a[1]),d[3].set("sync_status",a[4]),d[3].set("next_cursor",a[3]),d[3].set("error_msg","epoch mismatch"),a[9]?d[4]=!1:d[4]=!0,d[4]?c.resolve():(d[6]=a[9].keys(),d[7]=c.i64.of_int32(d[6].length),c.i64.gt(d[7],c.i64.cast([0,0]))?c.loopAsync(d[7],function(e){return d[8]=e,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[6],d[8]).then(function(a){return a=a,d[9]=a[0],d[10]=a[1],a})},function(b){return d[11]=a[9].get(d[9]),d[3].set(d[9],d[11])}])}):c.resolve())},function(a){return c.nativeOperation(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,35]),c.i64.cast([0,0]),d[3])},function(a){return d[5]=!1,d[0]=d[5]}]):(e.item,c.sequence([function(e){return c.filter(c.db.table(1).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.groupId,a[0])&&b.currentCursor===a[2]}).next().then(function(e,f){f=e.done;e=e.value;return f?c.sequence([function(e){return d[4]=",",function(a){c.logger(a).mustfix(a)}(["cursor mismatch",d[4]," db_type=",d[4],c.i64.to_string(a[0]),d[4]," previous_cursor=",d[4],a[2]==null?"null":a[2],d[4]," next_cursor=",d[4],a[3]].join("")),d[5]=new c.Map(),d[5].set("database_id",a[0]),d[5].set("epoch_id",a[1]),d[5].set("sync_status",a[4]),d[5].set("next_cursor",a[3]),d[5].set("error_msg","cursor mismatch"),a[9]?d[6]=!1:d[6]=!0,d[6]?c.resolve():(d[8]=a[9].keys(),d[9]=c.i64.of_int32(d[8].length),c.i64.gt(d[9],c.i64.cast([0,0]))?c.loopAsync(d[9],function(e){return d[10]=e,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[8],d[10]).then(function(a){return a=a,d[11]=a[0],d[12]=a[1],a})},function(b){return d[13]=a[9].get(d[11]),d[5].set(d[11],d[13])}])}):c.resolve())},function(a){return c.nativeOperation(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,35]),c.i64.cast([0,0]),d[5])},function(a){return d[7]=!1,d[2]=d[7]}]):(e.item,c.sequence([function(b){return d[4]=c.i64.of_float(Date.now()),d[5]=c.i64.of_float(Date.now()),c.forEach(c.db.table(1).fetch([[[a[0]]]]),function(b){var e=b.update;b.item;return e({currentCursor:a[3],syncStatus:a[4],sendSyncParams:a[5],minTimeToSyncTimestampMs:c.i64.eq(a[6],c.i64.cast([0,0]))?c.i64.cast([0,0]):c.i64.add(d[4],a[6]),canIgnoreTimestamp:a[7],syncChannel:a[8],lastSyncCompletedTimestampMs:d[5]})})},function(b){return c.forEach(c.db.table(3).fetch([[["",a[0]]]]),function(a){var b=a.update;a.item;return b({failureCount:c.i64.cast([-1,4294967295])})})},function(e){return d[6]=new c.Map(),d[6].set("database_id",a[0]),d[6].set("epoch_id",a[1]),d[6].set("sync_status",a[4]),d[6].set("next_cursor",a[3]),a[9]?d[7]=!1:d[7]=!0,d[7]?c.resolve():(d[9]=a[9].keys(),d[10]=c.i64.of_int32(d[9].length),c.i64.gt(d[10],c.i64.cast([0,0]))?c.loopAsync(d[10],function(e){return d[11]=e,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[9],d[11]).then(function(a){return a=a,d[12]=a[0],d[13]=a[1],a})},function(b){return d[14]=a[9].get(d[12]),d[6].set(d[12],d[14])}])}):c.resolve())},function(a){return c.nativeOperation(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,35]),c.i64.cast([0,0]),d[6])},function(a){return d[8]=!0,d[2]=d[8]}]))})},function(a){return d[0]=d[2]}]))})},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSCoreExecuteFirstBlockForSyncTransactionStoredProcedure";a.__tables__=["data_trace_meta","network_requests","sync_groups"];e.exports=a}),null);
__d("LSGetFirstAvailableAttachmentCTAID",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(a){return b.sequence([function(a){return b.db.table(19).fetchDesc().next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=b.i64.cast([0,1]):(d=a.item,c[0]=b.i64.add(d.ctaId,b.i64.cast([0,1])))})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxGetFirstAvailableAttachmentCTAIDStoredProcedure";a.__tables__=["attachment_ctas"];e.exports=a}),null);
__d("LSGetIfViewerIsWorkplaceUser",["gkx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,b=a[a.length-1],d=[];return d[0]=c("gkx")("26374"),b.resolve(d)}a.__sproc_name__="LSCoreGetIfViewerIsWorkplaceUserStoredProcedure";a.__tables__=[];b=a;g["default"]=b}),98);
__d("LSLocalizedStrings",["fbt"],(function(a,b,c,d,e,f,g,h){a=function(a,b){switch(a){default:return""}};b=a;g["default"]=b}),98);
__d("LSLocalizedStringsV2",["fbt","I64"],(function(a,b,c,d,e,f,g,h){var i;a=function(a,b){switch(a){case"2285622730":return h._(/*BTDS*/"__JHASH__bHf-pjjpSrh__JHASH__");case"1919524925":return h._(/*BTDS*/"__JHASH__g2TuGL7kp7W__JHASH__");case"14617150":return h._(/*BTDS*/"__JHASH__KN5FuK9HL68__JHASH__");case"460740012":return h._(/*BTDS*/"__JHASH__PmrYWcLl7s-__JHASH__");case"2353844300":return h._(/*BTDS*/"__JHASH__U3_S6m-Asci__JHASH__");case"2987332812":return h._(/*BTDS*/"__JHASH__6iMiBqdcEoA__JHASH__");case"1530605193":return h._(/*BTDS*/"__JHASH__0YPxlGHLAO___JHASH__",[h._param("user_name",b(0))]);case"3921131020":return h._(/*BTDS*/"__JHASH__mtqLMpBAIfE__JHASH__");case"1899892426":return h._(/*BTDS*/"__JHASH__AcX9AAMg2Jv__JHASH__");case"3287869262":return h._(/*BTDS*/"__JHASH__nh5Ig-KQkRx__JHASH__",[h._param("user_name",b(0))]);case"1890485478":return h._(/*BTDS*/"__JHASH__r5f8SC2OUWe__JHASH__");case"1299547062":return h._(/*BTDS*/"__JHASH__UxIyHnrkGvQ__JHASH__");case"3621454483":return h._(/*BTDS*/"__JHASH__6CXDyy4pKod__JHASH__",[h._param("user_name",b(0))]);case"3948960063":return h._(/*BTDS*/"__JHASH__4jXDffqGKxc__JHASH__");case"1249692047":return h._(/*BTDS*/"__JHASH__XuMb0GRtMp2__JHASH__",[h._param("user_name",b(0))]);case"2106510577":return h._(/*BTDS*/"__JHASH__adFbSa44M9G__JHASH__");case"3960370133":return h._(/*BTDS*/"__JHASH__WRQpot61Zha__JHASH__",[h._param("user_name",b(0))]);case"3798396796":return h._(/*BTDS*/"__JHASH__AKC6gu2oXen__JHASH__",[h._param("app_name",b(0))]);case"3388601579":return h._(/*BTDS*/"__JHASH__LLEsQ4Y9-C7__JHASH__",[h._param("user_name",b(0)),h._param("app_name",b(1))]);case"1556712457":return h._(/*BTDS*/"__JHASH__pQsKY3JdghI__JHASH__");case"3601791933":return h._(/*BTDS*/"__JHASH__VzXmY6Nofoo__JHASH__",[h._param("user_name",b(0))]);case"3759817031":return h._(/*BTDS*/"__JHASH__C6rFQy3ZqgT__JHASH__");case"2934729541":return h._(/*BTDS*/"__JHASH__5sq-yY8-PHO__JHASH__",[h._param("user_name",b(0))]);case"392493418":return h._(/*BTDS*/"__JHASH__Y9RNnaq--9C__JHASH__");case"4085467454":return h._(/*BTDS*/"__JHASH__Tf8KEtj2NUW__JHASH__",[h._param("user_name",b(0))]);case"2738683656":return h._(/*BTDS*/"__JHASH__VTdyPQ7H4GZ__JHASH__");case"2996525642":return h._(/*BTDS*/"__JHASH__YPG0HYdjvfW__JHASH__",[h._param("user_name",b(0))]);case"2326868239":return h._(/*BTDS*/"__JHASH__j-o8KFpMPxd__JHASH__");case"1001986796":return h._(/*BTDS*/"__JHASH__zsY9ES-V3Ko__JHASH__",[h._param("user_name",b(0))]);case"2285746939":return h._(/*BTDS*/"__JHASH__8PT2JtdeJx9__JHASH__");case"3759448420":return h._(/*BTDS*/"__JHASH__H7eOZ8S6YOP__JHASH__",[h._param("user_name",b(0))]);case"3719716921":return h._(/*BTDS*/"__JHASH__qiicOieyAHd__JHASH__");case"284944921":return h._(/*BTDS*/"__JHASH__TkSIon2AHjf__JHASH__",[h._param("user_name",b(0))]);case"3322002377":return h._(/*BTDS*/"__JHASH__hs-XIkGvPGM__JHASH__",[h._param("user_name",b(0))]);case"2486550278":return h._(/*BTDS*/"__JHASH__78NZ4EbNix1__JHASH__");case"3557790945":return h._(/*BTDS*/"__JHASH__9P29njYEtVJ__JHASH__");case"3756846086":return h._(/*BTDS*/"__JHASH__HqUxJ78yQEs__JHASH__",[h._param("user_name",b(0))]);case"780378803":return h._(/*BTDS*/"__JHASH__4RDpwDU2bxj__JHASH__");case"3918212613":return h._(/*BTDS*/"__JHASH__sfM4caXMU8x__JHASH__",[h._param("user_name",b(0))]);case"3161890215":return h._(/*BTDS*/"__JHASH__rMpUt8zHstd__JHASH__");case"863428456":return h._(/*BTDS*/"__JHASH__ZqoJBBTdmfd__JHASH__",[h._param("user_name",b(0))]);case"2716405471":return h._(/*BTDS*/"__JHASH__3bEfkOlWqZQ__JHASH__");case"3909474073":return h._(/*BTDS*/"__JHASH__0LAhbzE2305__JHASH__",[h._param("user_name",b(0))]);case"1522141193":return h._(/*BTDS*/"__JHASH__Xv5h5VWZ1z-__JHASH__");case"2804766375":return h._(/*BTDS*/"__JHASH__iwXmJRLI5oQ__JHASH__",[h._param("user_name",b(0))]);case"2051792592":return h._(/*BTDS*/"__JHASH__wrYW1iMsokY__JHASH__");case"3686831438":return h._(/*BTDS*/"__JHASH__jxXuvG9WsQ-__JHASH__",[h._param("user_name",b(0))]);case"1247108605":return h._(/*BTDS*/"__JHASH__wezHuMnDNgf__JHASH__",[h._param("receiver_name",b(0))]);case"2966876020":return h._(/*BTDS*/"__JHASH__V86-MgG4uJ1__JHASH__",[h._param("user_name",b(0)),h._param("receiver_name",b(1))]);case"1056933543":return h._(/*BTDS*/"__JHASH__9X7TkYsxkJ9__JHASH__");case"1167688664":return h._(/*BTDS*/"__JHASH__HgpZLsXXBv2__JHASH__",[h._param("user_name",b(0))]);case"772459202":return h._(/*BTDS*/"__JHASH__da1hGBDyrc0__JHASH__");case"3546068912":return h._(/*BTDS*/"__JHASH__eB3RT9ZRPNU__JHASH__",[h._param("user_name",b(0))]);case"2459540079":return h._(/*BTDS*/"__JHASH__uVYFUqdjsDk__JHASH__");case"1596311291":return h._(/*BTDS*/"__JHASH__JNmnqH9YpVN__JHASH__",[h._param("user_name",b(0))]);case"2253698324":return h._(/*BTDS*/"__JHASH__cjVmAaYlDK5__JHASH__");case"4269602817":return h._(/*BTDS*/"__JHASH__tgAN3WazCx7__JHASH__",[h._param("user_name",b(0))]);case"2552112149":return h._(/*BTDS*/"__JHASH__rGkOrOdVN7r__JHASH__");case"969211470":return h._(/*BTDS*/"__JHASH__0c4ttO8K44x__JHASH__",[h._param("user_name",b(0))]);case"1257875092":return h._(/*BTDS*/"__JHASH__5wtZ0w7wjWl__JHASH__");case"692355749":return h._(/*BTDS*/"__JHASH__ZxojgdAFPM9__JHASH__",[h._param("user_name",b(0))]);case"785694792":return h._(/*BTDS*/"__JHASH__81akEhn5rEe__JHASH__",[h._param("receiver_name",b(0))]);case"2625447567":return h._(/*BTDS*/"__JHASH__PlEQcZWgExs__JHASH__",[h._param("user_name",b(0)),h._param("receiver_name",b(1))]);case"3982213805":return h._(/*BTDS*/"__JHASH__yntPigUfAxT__JHASH__");case"464916028":return h._(/*BTDS*/"__JHASH__4Sva9VujCUQ__JHASH__",[h._param("user_name",b(0))]);case"411761881":return h._(/*BTDS*/"__JHASH__9gOGTtdjrZE__JHASH__");case"3395044660":return h._(/*BTDS*/"__JHASH__R5lkKLgSqO3__JHASH__",[h._param("user_name",b(0))]);case"2973334239":return h._(/*BTDS*/"__JHASH__BCqXnePZxrY__JHASH__");case"3616471048":return h._(/*BTDS*/"__JHASH__NfWlT4Kxbzi__JHASH__",[h._param("user_name",b(0))]);case"476264474":return h._(/*BTDS*/"__JHASH__SH0YqdP7IKV__JHASH__");case"3124021488":return h._(/*BTDS*/"__JHASH__aEbyYGfOeat__JHASH__",[h._param("user_name",b(0))]);case"3471188061":return h._(/*BTDS*/"__JHASH__mUkKfPWP8w___JHASH__");case"2776822462":return h._(/*BTDS*/"__JHASH__2bPnhlt5UjK__JHASH__",[h._param("user_name",b(0))]);case"1739999037":return h._(/*BTDS*/"__JHASH__LG-CVe6YeL2__JHASH__");case"3373597599":return h._(/*BTDS*/"__JHASH__XSfhGJMwPL8__JHASH__");case"259473449":return h._(/*BTDS*/"__JHASH__qL_GOsBRgrZ__JHASH__",[h._param("user_name",b(0))]);case"1338912959":return h._(/*BTDS*/"__JHASH__LrXrY17Mwwh__JHASH__",[h._param("user_name",b(0))]);case"812940701":return h._(/*BTDS*/"__JHASH__NEO9buPurkr__JHASH__",[h._param("user_name",b(0))]);case"1099878966":return h._(/*BTDS*/"__JHASH__Qho_g3FF8mq__JHASH__",[h._param("user_name",b(0))]);case"3443782102":return h._(/*BTDS*/"__JHASH__Xxt66o3iPYX__JHASH__");case"618905030":return h._(/*BTDS*/"__JHASH__v6KFXcykdOt__JHASH__");case"2470414797":return h._(/*BTDS*/"__JHASH__0oa3QgNUtA3__JHASH__");case"1306024833":return h._(/*BTDS*/"__JHASH__ypexge-6NRA__JHASH__");case"2135145355":return h._(/*BTDS*/"__JHASH__woc-8KLy7zj__JHASH__");case"3603511704":return h._(/*BTDS*/"__JHASH__--XUHiOY0Z1__JHASH__",[h._param("user_name",b(0))]);case"705614308":return h._(/*BTDS*/"__JHASH__vsnRcMCSSFJ__JHASH__",[h._plural((i||(i=d("I64"))).to_float(b(0)),"number")]);case"313217698":return h._(/*BTDS*/"__JHASH__rG1E-FG-TxB__JHASH__",[h._plural((i||(i=d("I64"))).to_float(b(1)),"number"),h._param("user_name",b(0))]);case"3558654267":return h._(/*BTDS*/"__JHASH___H0KEIF4aGq__JHASH__");case"3422266740":return h._(/*BTDS*/"__JHASH__F5OxWfUB9Dy__JHASH__",[h._param("user_name",b(0))]);case"1907280305":return h._(/*BTDS*/"__JHASH__3P1HxS_1jfg__JHASH__",[h._param("other_user",b(0))]);case"1112375422":return h._(/*BTDS*/"__JHASH__a5_sxn3ZWZn__JHASH__",[h._param("other_user",b(0))]);case"3575257287":return h._(/*BTDS*/"__JHASH__czVm_Pwt6t9__JHASH__",[h._param("num_messages",b(0))]);case"1212518911":return h._(/*BTDS*/"__JHASH__NBIxMNcNyYS__JHASH__");case"171771714":return h._(/*BTDS*/"__JHASH__QGebPbFtrUE__JHASH__",[h._param("num_channels",b(0))]);case"763456386":return h._(/*BTDS*/"__JHASH__xUozN4Ycikd__JHASH__");case"3313483565":return h._(/*BTDS*/"__JHASH__WUXey8x8iaZ__JHASH__",[h._param("num_messages",b(0))]);case"1416259530":return h._(/*BTDS*/"__JHASH__h8shxIRIHov__JHASH__");case"1681736754":return h._(/*BTDS*/"__JHASH__cOR9lVJ4jCg__JHASH__",[h._param("num_channels",b(0))]);case"3802288555":return h._(/*BTDS*/"__JHASH__-r9R1SJrWwS__JHASH__");case"1420387436":return h._(/*BTDS*/"__JHASH__Gzgbn2ufLNM__JHASH__",[h._param("num_messages",b(0))]);case"3321340421":return h._(/*BTDS*/"__JHASH___P-lwtylUhP__JHASH__",[h._param("other_user",b(0))]);case"3199643703":return h._(/*BTDS*/"__JHASH__YBxxz_Vibx6__JHASH__");case"3307909120":return h._(/*BTDS*/"__JHASH__YRCmoad58uJ__JHASH__");case"845728829":return h._(/*BTDS*/"__JHASH___8aETeHXtHr__JHASH__");case"2022991544":return h._(/*BTDS*/"__JHASH__byni3VHMHc8__JHASH__");case"4285882723":return h._(/*BTDS*/"__JHASH__ga21xjHrnrP__JHASH__");case"3089015955":return h._(/*BTDS*/"__JHASH__Q_LYP_ZLQTd__JHASH__");case"2662271323":return h._(/*BTDS*/"__JHASH__JBe8j08K09-__JHASH__");case"1531706844":return h._(/*BTDS*/"__JHASH__bZt0xiZTnI-__JHASH__");case"3989800917":return h._(/*BTDS*/"__JHASH__LU51Dz-OBab__JHASH__");case"2421884758":return h._(/*BTDS*/"__JHASH__6vTlb2bku1-__JHASH__");case"2676961947":return h._(/*BTDS*/"__JHASH__TK1WqTTq979__JHASH__",[h._param("participant_name",b(0))]);case"3298086032":return h._(/*BTDS*/"__JHASH__AI6Z85qZOTl__JHASH__",[h._param("sender_name",b(0))]);case"3873263038":return h._(/*BTDS*/"__JHASH__1Mq5qyIkjxC__JHASH__",[h._param("sender_name",b(0))]);case"2616853333":return h._(/*BTDS*/"__JHASH__Jm7dkp7Q46M__JHASH__",[h._param("sender_name",b(0)),h._param("reply_source_sender_name",b(1))]);case"4002265907":return h._(/*BTDS*/"__JHASH__YfSaJhpdv0H__JHASH__");case"2663996736":return h._(/*BTDS*/"__JHASH__rouMYaFboPj__JHASH__",[h._param("participant_name",b(0))]);case"2868699317":return h._(/*BTDS*/"__JHASH__gln0mR6BSos__JHASH__",[h._param("sender_name",b(0))]);case"2688620547":return h._(/*BTDS*/"__JHASH__xBthZSMLrSR__JHASH__",[h._param("sender_name",b(0))]);case"3544071775":return h._(/*BTDS*/"__JHASH__Bfn4BTqFbTw__JHASH__",[h._param("sender_name",b(0)),h._param("reply_source_sender_name",b(1))]);case"2856734260":return h._(/*BTDS*/"__JHASH__yQuJ1OMUVjP__JHASH__");case"3569041084":return h._(/*BTDS*/"__JHASH__3k8IWsw1-6Y__JHASH__");case"1640318912":return h._(/*BTDS*/"__JHASH__JXT3riixpEu__JHASH__",[h._param("user",b(0))]);case"2814174244":return h._(/*BTDS*/"__JHASH__hI4gbzrBlXq__JHASH__");case"3475381825":return h._(/*BTDS*/"__JHASH__71WGCM_QR6l__JHASH__",[h._param("preamble",b(0)),h._param("time",b(1))]);case"2794389366":return h._(/*BTDS*/"__JHASH__8dRN_uv1Ey6__JHASH__",[h._plural((i||(i=d("I64"))).to_float(b(0)),"number")]);case"2528404281":return h._(/*BTDS*/"__JHASH__ypkuSNWTmvD__JHASH__",[h._plural((i||(i=d("I64"))).to_float(b(0)),"number")]);case"3691614683":return h._(/*BTDS*/"__JHASH__Gt2ASOwx3aR__JHASH__",[h._plural((i||(i=d("I64"))).to_float(b(0)),"number")]);case"2356292598":return h._(/*BTDS*/"__JHASH__BkWfpfnRWrH__JHASH__",[h._param("user",b(0))]);case"3184734723":return h._(/*BTDS*/"__JHASH__lritNDvzWHc__JHASH__");case"274842160":return h._(/*BTDS*/"__JHASH__9dgVAem5HVe__JHASH__");case"2352696798":return h._(/*BTDS*/"__JHASH__4w1HQhVySfH__JHASH__");case"261320435":return h._(/*BTDS*/"__JHASH__Yz7gQUpuAdz__JHASH__");case"1369731110":return h._(/*BTDS*/"__JHASH__KVOi7QtdIiz__JHASH__");case"216075330":return h._(/*BTDS*/"__JHASH__YIi23RvfAOM__JHASH__",[h._param("user_name",b(0))]);case"3093868587":return h._(/*BTDS*/"__JHASH__zy0vB4g7bUg__JHASH__",[h._param("user_name",b(0))]);case"1965569930":return h._(/*BTDS*/"__JHASH__Tjhx4Uo9tx2__JHASH__",[h._param("user_name",b(0))]);case"3981943156":return h._(/*BTDS*/"__JHASH__ixrUZRszn_J__JHASH__",[h._param("user_name",b(0))]);case"2071149394":return h._(/*BTDS*/"__JHASH__cOvKzCJo9pt__JHASH__",[h._param("user_name",b(0))]);case"2414298738":return h._(/*BTDS*/"__JHASH__HW7JxEhyqTG__JHASH__",[h._param("user_name",b(0))]);case"4050223159":return h._(/*BTDS*/"__JHASH__DIFtX0dJhWX__JHASH__");case"3387070852":return h._(/*BTDS*/"__JHASH__7lkRbksMys6__JHASH__",[h._param("receiver_name",b(0)),h._param("amount",b(1))]);case"2779070802":return h._(/*BTDS*/"__JHASH__VQfKxCig0vy__JHASH__",[h._param("sender_name",b(0)),h._param("game_name",b(1))]);case"3748497596":return h._(/*BTDS*/"__JHASH__5SAbOrcrYuU__JHASH__",[h._param("game_name",b(0))]);case"1346982727":return h._(/*BTDS*/"__JHASH__VQ2HMGY9wwv__JHASH__",[h._param("game_name",b(0))]);case"3688076717":return h._(/*BTDS*/"__JHASH__JjXwyclLQBa__JHASH__",[h._param("sender_name",b(0))]);case"194227859":return h._(/*BTDS*/"__JHASH__9T8xvthnfV8__JHASH__",[h._param("name",b(0))]);case"3144899881":return h._(/*BTDS*/"__JHASH__tkadQk8eici__JHASH__",[h._param("name",b(0))]);case"3246663081":return h._(/*BTDS*/"__JHASH__-NaOljnmieW__JHASH__");case"967111183":return h._(/*BTDS*/"__JHASH__w7ck8Nknn5M__JHASH__");case"4202164190":return h._(/*BTDS*/"__JHASH__ri623MWPdFQ__JHASH__",[h._param("sender_name",b(0)),h._param("receiver_name",b(1))]);case"611766379":return h._(/*BTDS*/"__JHASH__xQ09YjmOMt1__JHASH__",[h._param("requestor_name",b(0)),h._param("phone_number",b(1))]);case"1903578110":return h._(/*BTDS*/"__JHASH__Iodm-NjZjf0__JHASH__",[h._param("requester_name",b(0)),h._param("phone_number",b(1))]);case"3452051726":return h._(/*BTDS*/"__JHASH__wAFhYtDXUpX__JHASH__",[h._param("recipient_name",b(0)),h._param("phone_number",b(1))]);default:return""}};b=a;g["default"]=b}),226);
__d("LSLocalize",["I64","LSLocalizedStrings","LSLocalizedStringsV2","LSSynchronousPromise"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("LSLocalizedStringsV2");function a(a){i=a}function j(a,b){a=(h||(h=d("I64"))).to_string(a);var c=function(a){return!b?"":b[a]||""};return i(a,c).toString()}function k(a,b){a=(h||(h=d("I64"))).to_string(a);var e=function(a){return!b?"":b[a]||""};return c("LSLocalizedStrings")(a,e).toString()}function b(a,b){return d("LSSynchronousPromise").maybeMakeSynchronousPromise(k(a,b))}function e(a,b){return d("LSSynchronousPromise").maybeMakeSynchronousPromise(j(a,b))}g.setStringFactoryV2_TEST_ONLY=a;g.localizeV1Async=b;g.localizeV2Async=e}),98);
__d("LSGetThreadParticipantDisplayName",["LSGetIfViewerIsWorkplaceUser","LSLocalize"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return c.storedProcedure(b("LSGetIfViewerIsWorkplaceUser")).then(function(a){return a=a,d[0]=a[0],a})},function(e){return d[0]?c.sequence([function(e){return c.filter(c.db.table(7).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.id,a[1])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(a,e){var f=a.done;a=a.value;return f?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2352696798]),void 0).then(function(a){return d[4]=a})},function(a){return d[2]=d[4]}]):(e=a.item,d[2]=e.name)})},function(a){return d[1]=d[2]}]):c.sequence([function(b){return c.filter(c.db.table(14).fetch([[[a[0],a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[1])}).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=void 0:(b=a.item,d[2]=b.nickname)})},function(e){return c.filter(c.db.table(7).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.id,a[1])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(a,e){var f=a.done;a=a.value;return f?c.sequence([function(a){return d[6]=c.i64.cast([-1,4294967295]),b("LSLocalize").localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[7]=a})},function(a){return d[4]=d[7]}]):(e=a.item,d[4]=e.firstName==null?e.name:e.firstName)})},function(a){return d[1]=d[2]==null?d[4]:d[2]}])},function(a){return e[0]=d[1]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxGetThreadParticipantDisplayNameStoredProcedure";a.__tables__=["contacts","participants"];e.exports=a}),null);
__d("LSInsertAttachmentCta",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(19).add({ctaId:a[0],attachmentFbid:a[1],attachmentIndex:a[2],threadKey:a[3],messageId:a[5],title:a[6],type_:a[7],platformToken:a[8],actionUrl:a[9],nativeUrl:a[10],urlWebviewType:a[11],actionContentBlob:a[12],enableExtensions:a[13],extensionHeightType:a[14],targetId:a[15]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxInsertAttachmentCtaStoredProcedure";a.__tables__=["attachment_ctas"];e.exports=a}),null);
__d("LSInsertAttachmentItem",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(18).add({attachmentFbid:a[0],attachmentIndex:a[1],threadKey:a[2],messageId:a[4],defaultActionEnableExtensions:a[31],originalPageSenderId:a[7],titleText:a[8],subtitleText:a[9],bodyText:a[12],playableUrl:a[13],playableUrlFallback:a[14],playableUrlExpirationTimestampMs:a[15],playableUrlMimeType:a[16],dashManifest:a[17],previewUrl:a[18],previewUrlFallback:a[19],previewUrlExpirationTimestampMs:a[20],previewUrlMimeType:a[21],previewWidth:a[22],previewHeight:a[23],imageUrl:a[24],defaultCtaId:a[25],defaultCtaTitle:a[26],defaultCtaType:a[27],defaultButtonType:a[29],defaultActionUrl:a[30],defaultWebviewHeightRatio:a[33],attachmentCta1Id:a[35],cta1Title:a[36],cta1IconType:a[37],cta1Type:a[38],attachmentCta2Id:a[40],cta2Title:a[41],cta2IconType:a[42],cta2Type:a[43],attachmentCta3Id:a[45],cta3Title:a[46],cta3IconType:a[47],cta3Type:a[48],faviconUrl:a[49],faviconUrlFallback:a[50],faviconUrlExpirationTimestampMs:a[51],previewUrlLarge:a[52]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxInsertAttachmentItemStoredProcedure";a.__tables__=["attachment_items"];e.exports=a}),null);
__d("LSInsertBlobAttachment",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(c){return b.forEach(b.filter(b.db.table(16).fetch([[[a[27],a[32],a[34]]]]),function(c){return b.i64.eq(c.threadKey,a[27])&&b.i64.eq(b.i64.cast([0,0]),a[28])&&c.messageId===a[32]&&c.attachmentFbid===a[34]&&b.i64.lt(c.authorityLevel,a[48])&&(b.i64.eq(c.attachmentType,b.i64.cast([0,2]))||b.i64.eq(c.attachmentType,b.i64.cast([0,3]))||b.i64.eq(c.attachmentType,b.i64.cast([0,4]))||b.i64.eq(c.attachmentType,b.i64.cast([0,5]))||b.i64.eq(c.attachmentType,b.i64.cast([0,6]))||b.i64.eq(c.attachmentType,b.i64.cast([0,10]))||b.i64.eq(c.attachmentType,b.i64.cast([0,14]))||b.i64.eq(c.attachmentType,b.i64.cast([0,15])))&&b.i64.eq(c.ephemeralMediaState,void 0)&&c.isSharable===!1}),function(a){return a["delete"]()})},function(c){return b.db.table(16).add({threadKey:a[27],messageId:a[32],attachmentFbid:a[34],filename:a[0],filesize:a[1],hasMedia:a[2],isSharable:!1,playableUrl:a[3],playableUrlFallback:a[4],playableUrlExpirationTimestampMs:a[5],playableUrlMimeType:a[6],dashManifest:a[7],previewUrl:a[8],previewUrlFallback:a[9],previewUrlExpirationTimestampMs:a[10],previewUrlMimeType:a[11],miniPreview:a[13],previewWidth:a[14],previewHeight:a[15],attributionAppId:a[16],attributionAppName:a[17],attributionAppIcon:a[18],attributionAppIconFallback:a[19],attributionAppIconUrlExpirationTimestampMs:a[20],localPlayableUrl:a[21],playableDurationMs:a[22],attachmentIndex:a[23],accessibilitySummaryText:a[24],isPreviewImage:a[25],originalFileHash:a[26],attachmentType:a[29],timestampMs:a[31],offlineAttachmentId:a[33],hasXma:a[35],xmaLayoutType:a[36],xmasTemplateType:a[37],titleText:a[38],subtitleText:a[39],descriptionText:a[40],sourceText:a[41],faviconUrlExpirationTimestampMs:a[42],isBorderless:a[44],previewUrlLarge:a[45],samplingFrequencyHz:a[46],waveformData:a[47],authorityLevel:a[48]})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxInsertBlobAttachmentStoredProcedure";a.__tables__=["attachments"];e.exports=a}),null);
__d("LSInsertNewMessageRange",["LSClearMessagePlaceholderRange"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(d){return c.storedProcedure(b("LSClearMessagePlaceholderRange"),a[0],a[9],c.i64.cast([0,0]))},function(b){return c.filter(c.db.table(13).fetch([[[a[0],{lte:a[5]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,a[5])&&c.i64.ge(b.maxTimestampMs,a[5])}).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[a[1],a[3],a[7]],d[0]=e[0],d[1]=e[1],d[2]=e[2],e):(c=b.item,e=[c.minTimestampMs,c.minMessageId,c.hasMoreBefore],d[0]=e[0],d[1]=e[1],d[2]=e[2],e)})},function(b){return c.filter(c.db.table(13).fetch([[[a[0],{lte:a[6]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,a[6])&&c.i64.ge(b.maxTimestampMs,a[6])}).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[a[2],a[4],a[8]],d[4]=e[0],d[5]=e[1],d[6]=e[2],e):(c=b.item,e=[c.maxTimestampMs,c.maxMessageId,c.hasMoreAfter],d[4]=e[0],d[5]=e[1],d[6]=e[2],e)})},function(b){return c.forEach(c.filter(c.db.table(13).fetch([[[a[0],{lte:a[6]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.ge(a[6],b.minTimestampMs)&&c.i64.le(a[5],b.maxTimestampMs)}),function(a){return a["delete"]()})},function(b){return c.db.table(13).put({threadKey:a[0],minTimestampMs:d[0],minMessageId:d[1],maxTimestampMs:d[4],maxMessageId:d[5],isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:d[2],hasMoreAfter:d[6]})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxInsertNewMessageRangeStoredProcedure";a.__tables__=["messages_ranges_v2__generated"];e.exports=a}),null);
__d("LSMessageRenderingType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,NON_COLLAPSIBLE_ADMIN_MESSAGE:1,HIDDEN:2,RICH_TEXT_COMMON_MARK:3});f["default"]=a}),66);
__d("LSQuickReplyType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,HORIZONTAL:1,VERTICAL:2});f["default"]=a}),66);
__d("LSReplyMessageStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,VALID:1,DELETED:2,TEMPORARY_UNAVAILABLE:3,EXPIRED:4});f["default"]=a}),66);
__d("LSSetForwardScore",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}),function(b){var c=b.update;b.item;return c({forwardScore:a[3]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxSetForwardScoreStoredProcedure";a.__tables__=["messages"];e.exports=a}),null);
__d("LSSetMessageDisplayedContentTypes",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(d){return b.db.table(16).fetch([[[a[0],a[1]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[void 0,void 0],c[0]=d[0],c[1]=d[1],d):(b=a.item,d=[b.attachmentType,b.xmaLayoutType],c[0]=d[0],c[1]=d[1],d)})},function(d){return b.filter(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}).next().then(function(a,d){var e=a.done;a=a.value;return e?(e=[b.i64.cast([0,0]),void 0,void 0],c[3]=e[0],c[4]=e[1],c[5]=e[2],e):(d=a.item,e=[d.replySourceTypeV2,d.replySourceId,d.text],c[3]=e[0],c[4]=e[1],c[5]=e[2],e)})},function(d){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[7]=void 0:(b=a.item,c[7]=b.customEmoji)})},function(d){return b.i64.eq(c[0],b.i64.cast([0,6]))?c[9]=b.i64.cast([0,64]):(b.i64.eq(c[0],b.i64.cast([0,5]))?c[16]=b.i64.cast([0,4]):(b.i64.eq(c[0],b.i64.cast([0,3]))?c[17]=b.i64.cast([0,16384]):(b.i64.eq(c[0],b.i64.cast([0,2]))?c[18]=b.i64.cast([0,2]):(b.i64.eq(c[0],b.i64.cast([0,4]))?c[19]=b.i64.cast([0,2]):c[19]=a[5]?b.i64.cast([0,4096]):b.i64.cast([0,0]),c[18]=c[19]),c[17]=c[18]),c[16]=c[17]),c[9]=c[16]),c[10]=c[5]!==void 0&&c[5]!==""&&c[5]!==c[7]?b.i64.or_(c[9],b.i64.cast([0,1])):c[9],c[11]=c[7]!==void 0&&c[7]===c[5]?b.i64.or_(c[10],b.i64.cast([0,128])):c[10],c[12]=b.i64.eq(c[0],b.i64.cast([0,7]))?b.i64.or_(c[11],b.i64.cast([0,8])):c[11],c[13]=b.i64.eq(c[1],b.i64.cast([0,0]))?b.i64.or_(c[12],b.i64.cast([0,1024])):b.i64.eq(c[1],b.i64.cast([0,1]))?b.i64.or_(c[12],b.i64.cast([0,2048])):c[12],c[14]=b.i64.eq(c[3],b.i64.cast([0,2]))&&c[4]!==void 0?b.i64.or_(c[13],b.i64.cast([0,512])):c[13],c[15]=c[5]!==void 0&&c[5]!==""&&c[5]!==c[7]&&b.i64.eq(c[3],b.i64.cast([0,5]))?b.i64.or_(c[14],b.i64.cast([0,512])):c[14],b.forEach(b.filter(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}),function(d){var e=d.update;d.item;return e({displayedContentTypes:a[4]?b.i64.cast([0,32]):b.i64.eq(c[3],b.i64.cast([0,3]))?b.i64.or_(c[15],b.i64.cast([0,8192])):c[15]})})}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxSetMessageDisplayedContentTypesStoredProcedure";a.__tables__=["attachments","messages","threads"];e.exports=a}),null);
__d("LSSetRegionHint",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(1).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({regionHint:a[1]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreSetRegionHintStoredProcedure";a.__tables__=["sync_groups"];e.exports=a}),null);
__d("LSTruncateThreadRangeTablesForSyncGroup",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(c){return b.i64.eq(a[0],b.i64.cast([0,1]))?b.forEach(b.filter(b.db.table(10).fetch(),function(a){return b.i64.eq(b.i64.cast([0,1])==null?b.i64.cast([0,1]):b.i64.cast([0,1]),b.i64.cast([0,1]))}),function(a){return a["delete"]()}):b.i64.eq(a[0],b.i64.cast([0,95]))?b.forEach(b.filter(b.db.table(10).fetch([[[b.i64.cast([0,0])],[b.i64.cast([-1,4294967295])]]]),function(a){return b.i64.eq(b.i64.cast([0,1])==null?b.i64.cast([0,1]):b.i64.cast([0,1]),b.i64.cast([0,1]))&&(b.i64.eq(a.parentThreadKey,b.i64.cast([0,0]))||b.i64.eq(a.parentThreadKey,b.i64.cast([-1,4294967295])))}),function(a){return a["delete"]()}):b.resolve(0)},function(c){return b.i64.eq(a[0],b.i64.cast([0,1]))?b.forEach(b.filter(b.db.table(247).fetch(),function(a){return b.i64.eq(a.syncGroup==null?b.i64.cast([0,1]):a.syncGroup,b.i64.cast([0,1]))}),function(a){return a["delete"]()}):b.resolve()},function(c){return b.forEach(b.db.table(198).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(c){return b.forEach(b.db.table(220).fetch([[[a[0]]]]),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxTruncateThreadRangeTablesForSyncGroupStoredProcedure";a.__tables__=["threads_ranges_v2__generated","filtered_threads_ranges_v3__generated","inbox_threads_ranges","sync_group_threads_ranges"];e.exports=a}),null);
__d("LSTruncateTablesForSyncGroup",["LSTruncateThreadRangeTablesForSyncGroup"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.sequence([function(b){return c.forEach(c.filter(c.db.table(9).fetch(),function(b){return(c.i64.eq(b.syncGroup,a[0])||c.i64.eq(b.syncGroup,void 0)&&c.i64.eq(c.i64.cast([0,1]),a[0]))&&![c.i64.cast([0,17]),c.i64.cast([0,18]),c.i64.cast([0,19]),c.i64.cast([0,20]),c.i64.cast([0,21]),c.i64.cast([0,22]),c.i64.cast([0,23]),c.i64.cast([0,24]),c.i64.cast([0,25]),c.i64.cast([0,26]),c.i64.cast([0,27]),c.i64.cast([0,28])].some(function(a){return c.i64.eq(b.threadType,a)})}),function(a){return a["delete"]()})},function(d){return c.storedProcedure(b("LSTruncateThreadRangeTablesForSyncGroup"),a[0])}])},function(a){return c.resolve(d)}])}a.__sproc_name__="LSMailboxTruncateTablesForSyncGroupStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSUpdateAttachmentItemCtaAtIndex",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.i64.eq(a[5],b.i64.cast([0,0]))?b.forEach(b.db.table(18).fetch([[[a[0],a[1]]]]),function(b){var c=b.update;b.item;return c({defaultCtaId:a[2],defaultCtaTitle:a[3],defaultCtaType:a[4]})}):b.i64.eq(a[5],b.i64.cast([0,1]))?b.forEach(b.db.table(18).fetch([[[a[0],a[1]]]]),function(b){var c=b.update;b.item;return c({attachmentCta1Id:a[2],cta1Title:a[3],cta1Type:a[4],cta1IconType:void 0})}):b.i64.eq(a[5],b.i64.cast([0,2]))?b.forEach(b.db.table(18).fetch([[[a[0],a[1]]]]),function(b){var c=b.update;b.item;return c({attachmentCta2Id:a[2],cta2Title:a[3],cta2Type:a[4],cta2IconType:void 0})}):b.i64.eq(a[5],b.i64.cast([0,3]))?b.forEach(b.db.table(18).fetch([[[a[0],a[1]]]]),function(b){var c=b.update;b.item;return c({attachmentCta3Id:a[2],cta3Title:a[3],cta3Type:a[4],cta3IconType:void 0})}):b.resolve(function(a){b.logger(a).warn(a)}("Unexpected CTA index"))},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpdateAttachmentItemCtaAtIndexStoredProcedure";a.__tables__=["attachment_items"];e.exports=a}),null);
__d("LSUpdateReadReceipt",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(14).fetch([[[a[1],a[2]]]]),function(c){return b.i64.eq(c.threadKey,a[1])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.contactId,a[2])&&b.i64.lt(c.readWatermarkTimestampMs,a[0])}),function(c){var d=c.update;c=c.item;return d({readWatermarkTimestampMs:a[0],readActionTimestampMs:b.i64.gt(a[3],b.i64.cast([0,0]))?a[3]:c.readActionTimestampMs})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpdateReadReceiptStoredProcedure";a.__tables__=["participants"];e.exports=a}),null);
__d("LSUpdateThreadsRangesV2",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(c){return b.forEach(b.db.table(10).fetch([[[a[1]]]]),function(a){return a["delete"]()})},function(d){return c[8]=b.i64.gt(a[2],b.i64.cast([0,1]))&&b.i64.gt(a[3],b.i64.cast([-2147483648,0])),a[0]==="inbox"&&b.i64.eq(a[1],b.i64.cast([0,0]))&&b.i64.eq(a[4],b.i64.cast([0,1]))?b.sequence([function(d){return c[9]=a[2],c[10]=a[3],c[11]=!1,c[12]=c[8],b.forEach(b.db.table(198).fetch(),function(a){a=a.item;return c[13]=a.minLastActivityTimestampMs,c[15]=a.minThreadKey,c[14]=b.i64.lt(c[9]==null?c[13]:c[9],c[13]),c[9]=c[14]?c[13]:c[9],c[10]=c[14]?c[15]:c[10],c[11]=c[11]||a.isLoadingBefore,c[12]=c[12]||b.i64.gt(c[13],b.i64.cast([0,1]))&&b.i64.gt(c[15],b.i64.cast([-2147483648,0]))})},function(a){return a=[c[9],c[10],c[11],c[12]],c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],a}]):b.resolve((d=[a[2],a[3],!1,c[8]],c[0]=d[0],c[1]=d[1],c[2]=d[2],c[3]=d[3],d))},function(d){return b.i64.eq(a[4],b.i64.cast([0,1]))?b.sequence([function(d){return c[9]=c[0],c[10]=c[1],c[11]=c[2],c[12]=c[3],b.forEach(b.filter(b.db.table(220).fetch(),function(c){return b.i64.eq(c.parentThreadKey,a[1])}),function(a){a=a.item;return c[13]=a.minLastActivityTimestampMs,c[15]=a.minThreadKey,c[14]=b.i64.lt(c[9]==null?c[13]:c[9],c[13]),c[9]=c[14]?c[13]:c[9],c[10]=c[14]?c[15]:c[10],c[11]=c[11]||a.isLoadingBefore,c[12]=c[12]||b.i64.gt(c[13],b.i64.cast([0,1]))&&b.i64.gt(c[15],b.i64.cast([-2147483648,0]))})},function(a){return a=[c[9],c[10],c[11],c[12]],c[4]=a[0],c[5]=a[1],c[6]=a[2],c[7]=a[3],a}]):b.resolve((d=[c[0],c[1],c[2],c[3]],c[4]=d[0],c[5]=d[1],c[6]=d[2],c[7]=d[3],d))},function(d){return b.db.table(10).add({parentThreadKey:a[1],minThreadKey:c[5]==null?b.i64.cast([-2147483648,0]):c[5],minLastActivityTimestampMs:c[4]==null?b.i64.cast([0,1]):c[4],maxLastActivityTimestampMs:b.i64.cast([0,1]),maxThreadKey:b.i64.cast([-2147483648,0]),isLoadingBefore:c[6],isLoadingAfter:!1,hasMoreBefore:c[7],hasMoreAfter:!1})}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxUpdateThreadsRangesV2StoredProcedure";a.__tables__=["threads_ranges_v2__generated","inbox_threads_ranges","sync_group_threads_ranges"];e.exports=a}),null);
__d("LSUpsertFolderSeenTimestamp",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.i64.gt(a[1],b.i64.cast([0,0]))?b.db.table(35).fetch([[[a[0]]]]).next().then(function(c,d){var e=c.done;c=c.value;return e?b.db.table(35).add({parentThreadKey:a[0],lastSeenRequestTimestampMs:a[1]}):(d=c.item,b.i64.lt(d.lastSeenRequestTimestampMs,a[1])?b.forEach(b.db.table(35).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({lastSeenRequestTimestampMs:a[1]})}):b.resolve())}):b.resolve()},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpsertFolderSeenTimestampStoredProcedure";a.__tables__=["folder_metadata"];e.exports=a}),null);
__d("LSUpsertMessage",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(12).fetch([[[a[9]]],"optimistic"]).next().then(function(c,d){var e=c.done;c=c.value;return e?b.db.table(12).add({threadKey:a[3],timestampMs:a[5],messageId:a[8],offlineThreadingId:a[9],authorityLevel:a[2],primarySortKey:a[6],senderId:a[10],isAdminMessage:a[12],sendStatus:a[15],sendStatusV2:a[16],text:a[0],subscriptErrorMessage:a[1],secondarySortKey:a[7],stickerId:a[11],messageRenderingType:a[13],isUnsent:a[17],unsentTimestampMs:a[18],mentionOffsets:a[19],mentionLengths:a[20],mentionIds:a[21],mentionTypes:a[22],replySourceId:a[23],replySourceType:a[24],replySourceTypeV2:a[25],replyStatus:a[26],replySnippet:a[27],replyMessageText:a[28],replyToUserId:a[29],replyMediaExpirationTimestampMs:a[30],replyMediaUrl:a[31],replyMediaPreviewWidth:a[33],replyMediaPreviewHeight:a[34],replyMediaUrlMimeType:a[35],replyMediaUrlFallback:a[36],replyCtaId:a[37],replyCtaTitle:a[38],replyAttachmentType:a[39],replyAttachmentId:a[40],replyAttachmentExtra:a[41],replyType:a[42],isForwarded:a[43],forwardScore:a[44],hasQuickReplies:a[45],adminMsgCtaId:a[46],adminMsgCtaTitle:a[47],adminMsgCtaType:a[48],cannotUnsendReason:a[49],textHasLinks:a[50],viewFlags:a[51],displayedContentTypes:a[52],viewedPluginKey:a[53],viewedPluginContext:a[54],quickReplyType:a[55],hotEmojiSize:a[56],platformXmdEncoded:a[57],replySourceTimestampMs:a[58],ephemeralDurationInSec:a[59],msUntilExpirationTs:a[60],ephemeralExpirationTs:a[61],takedownState:a[62],isCollapsed:a[63],subthreadKey:a[64],botResponseId:a[65],metadataDataclass:a[66],editCount:a[67],isPaidPartnership:a[68],adminSignatureName:a[69],adminSignatureProfileUrl:a[70],adminSignatureCreatorType:a[71],translatedText:a[72],textDialect:a[73],translatedTextDialect:a[74],scheduledTimestamp:a[75],isVideoQuickSend:a[76]}):(d=c.item,b.i64.le(d.authorityLevel,a[2])?b.db.table(12).put({threadKey:a[3],timestampMs:a[5],messageId:a[8],offlineThreadingId:a[9],authorityLevel:a[2],primarySortKey:d.primarySortKey,senderId:a[10],isAdminMessage:a[12],sendStatus:a[15],sendStatusV2:a[16],text:a[0],subscriptErrorMessage:a[1],secondarySortKey:d.secondarySortKey,stickerId:a[11],messageRenderingType:a[13],isUnsent:a[17],unsentTimestampMs:a[18],mentionOffsets:a[19],mentionLengths:a[20],mentionIds:a[21],mentionTypes:a[22],replySourceId:a[23],replySourceType:a[24],replySourceTypeV2:a[25],replyStatus:a[26],replySnippet:a[27],replyMessageText:a[28],replyToUserId:a[29],replyMediaExpirationTimestampMs:a[30],replyMediaUrl:a[31],replyMediaPreviewWidth:a[33],replyMediaPreviewHeight:a[34],replyMediaUrlMimeType:a[35],replyMediaUrlFallback:a[36],replyCtaId:a[37],replyCtaTitle:a[38],replyAttachmentType:a[39],replyAttachmentId:a[40],replyAttachmentExtra:a[41],replyType:a[42],isForwarded:a[43],forwardScore:a[44],hasQuickReplies:a[45],adminMsgCtaId:a[46],adminMsgCtaTitle:a[47],adminMsgCtaType:a[48],cannotUnsendReason:a[49],textHasLinks:a[50],viewFlags:a[51],displayedContentTypes:a[52],viewedPluginKey:a[53],viewedPluginContext:a[54],quickReplyType:a[55],hotEmojiSize:a[56],platformXmdEncoded:a[57],replySourceTimestampMs:a[58],ephemeralDurationInSec:a[59],msUntilExpirationTs:a[60],ephemeralExpirationTs:a[61],takedownState:a[62],isCollapsed:a[63],subthreadKey:a[64],botResponseId:a[65],metadataDataclass:a[66],editCount:a[67],isPaidPartnership:a[68],adminSignatureName:a[69],adminSignatureProfileUrl:a[70],adminSignatureCreatorType:a[71],translatedText:a[72],textDialect:a[73],translatedTextDialect:a[74],scheduledTimestamp:a[75],isVideoQuickSend:a[76]}):b.resolve())})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpsertMessageStoredProcedure";a.__tables__=["messages"];e.exports=a}),null);
__d("LSUpsertReaction",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(8).put({threadKey:a[0],messageId:a[2],actorId:a[3],timestampMs:a[1],reaction:a[4],authorityLevel:a[5],reactionCreationTimestampMs:a[6]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpsertReactionStoredProcedure";a.__tables__=["reactions"];e.exports=a}),null);
__d("LSUpsertSequenceId",["LSGetViewerFBID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.db.table(25).put({id:d[0],lastAppliedMailboxSequenceId:a[0]})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxUpsertSequenceIdStoredProcedure";a.__tables__=["mailbox_metadata"];e.exports=a}),null);
__d("LSVerifyThreadExistsV2",["LSGetViewerFBID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return[c.i64.cast([0,7]),c.i64.cast([0,8]),c.i64.cast([0,13]),c.i64.cast([0,10]),c.i64.cast([0,11]),c.i64.cast([0,16])].some(function(b){return c.i64.eq(a[1],b)})?c.resolve((b=[!1,!1,!1],d[0]=b[0],d[1]=b[1],d[2]=b[2],b)):c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?(f=[!0,!0,!1],d[3]=f[0],d[4]=f[1],d[5]=f[2],f):(e=b.item,d[12]=e.threadName,d[11]=e.authorityLevel,d[10]=e.threadType,e.folderName==="other"?(f=[!0,!1,!1],d[7]=f[0],d[8]=f[1],d[9]=f[2],f):(c.i64.eq(d[10],c.i64.cast([0,0]))&&c.i64.eq(d[11],c.i64.cast([0,40]))||[c.i64.cast([0,23]),c.i64.cast([0,21]),c.i64.cast([0,18]),c.i64.cast([0,26]),c.i64.cast([0,27])].some(function(a){return c.i64.eq(d[10],a)})&&c.i64.neq(d[11],c.i64.cast([0,20]))&&((d[12]===""?void 0:d[12])===void 0||c.i64.lt(d[11],c.i64.cast([0,80])))||[c.i64.cast([0,151]),c.i64.cast([0,155]),c.i64.cast([0,153])].some(function(a){return c.i64.eq(d[10],a)})||[c.i64.cast([0,24]),c.i64.cast([0,22]),c.i64.cast([0,19]),c.i64.cast([0,25]),c.i64.cast([0,28])].some(function(a){return c.i64.eq(d[10],a)})||[c.i64.cast([0,150]),c.i64.cast([0,154]),c.i64.cast([0,152])].some(function(b){return c.i64.eq(a[1],b)})&&c.i64.lt(d[11],c.i64.cast([0,80]))||[c.i64.cast([0,150]),c.i64.cast([0,154]),c.i64.cast([0,152])].some(function(b){return c.i64.eq(a[1],b)})&&c.i64.eq(a[6],c.i64.cast([0,205]))&&(c.i64.eq(e.syncGroup,void 0)||!1)?(b=[!0,!0,!1],d[13]=b[0],d[14]=b[1],d[15]=b[2],b):(c.i64.ge(d[11],a[4])||c.i64.eq(d[11],c.i64.cast([0,20]))&&([c.i64.cast([0,2]),c.i64.cast([0,202])].some(function(b){return c.i64.eq(a[1],b)})||[c.i64.cast([0,23]),c.i64.cast([0,21]),c.i64.cast([0,18]),c.i64.cast([0,26]),c.i64.cast([0,27])].some(function(b){return c.i64.eq(a[1],b)}))?(f=[!1,!1,!1],d[16]=f[0],d[17]=f[1],d[18]=f[2],f):(e=[!0,!1,!0],d[16]=e[0],d[17]=e[1],d[18]=e[2],e),b=[d[16],d[17],d[18]],d[13]=b[0],d[14]=b[1],d[15]=b[2],b),f=[d[13],d[14],d[15]],d[7]=f[0],d[8]=f[1],d[9]=f[2],f),e=[d[7],d[8],d[9]],d[3]=e[0],d[4]=e[1],d[5]=e[2],e)})},function(a){return a=[d[3],d[4],d[5]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(e){return d[0]?(d[3]=new c.Map(),d[3].set("thread_fbid",a[0]),d[3].set("force_upsert",a[5]),d[3].set("use_open_messenger_transport",!1),d[3].set("sync_group",a[6]),d[3].set("metadata_only",a[7]),d[3].set("preview_only",!1),d[4]=d[3].get("thread_fbid"),d[5]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[4]),c.i64.cast([0,209]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.resolve()},function(e){return d[1]?c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?c.sequence([function(b){return c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(b,e){var a=b.done;b=b.value;return a?d[22]=!1:(e=b.item,d[22]=c.i64.eq(e.contactTypeExact,c.i64.cast([0,16]))?!0:!1)})},function(a){return d[3]=d[22]}]):(e=b.item,d[3]=c.i64.eq(e.threadType,c.i64.cast([0,201]))?!0:!1)})},function(b){return d[5]=c.i64.cast([0,1083495711]),d[6]=c.i64.cast([0,1024]),d[7]=c.i64.cast([0,0]),d[8]=c.i64.cast([0,0]),d[9]=c.i64.cast([0,0]),c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(a,b){var e=a.done;a=a.value;return e?d[10]=!1:(b=a.item,d[10]=c.i64.eq(b.contactReachabilityStatusType,c.i64.cast([0,12]))?!0:!1)})},function(b){return d[12]=c.i64.cast([0,1083495711]),d[13]=c.i64.cast([0,1024]),d[14]=c.i64.cast([0,0]),d[15]=c.i64.cast([0,134217728]),d[16]=c.i64.cast([0,0]),d[17]=c.i64.cast([0,8650752]),d[18]=c.i64.cast([0,1024]),d[19]=c.i64.cast([0,0]),d[20]=c.i64.cast([0,0]),d[21]=c.i64.cast([0,0]),c.forEach(c.filter(c.db.table(9).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:a[0],mailboxType:c.i64.cast([0,0]),threadType:a[1],syncGroup:a[6],folderName:a[2],lastReadWatermarkTimestampMs:c.i64.cast([0,0]),removeWatermarkTimestampMs:c.i64.cast([-1,4294967295]),ongoingCallState:c.i64.cast([0,0]),parentThreadKey:a[3],authorityLevel:a[4],capabilities:d[3]?d[17]:d[12],capabilities2:d[3]?d[18]:d[13],capabilities3:d[3]?d[19]:d[14],capabilities4:d[3]?d[20]:d[15],capabilities5:d[3]?d[21]:d[16],unsendLimitMs:c.i64.cast([-1,4294967295])})},function(e){return[c.i64.cast([0,1]),c.i64.cast([0,201]),c.i64.cast([0,204])].some(function(b){return c.i64.eq(a[1],b)})?c.sequence([function(b){return c.forEach(c.filter(c.db.table(14).fetch([[[a[0],a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[0])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[0],contactId:a[0],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:a[4],isModerator:!1})},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[22]=a[0],a})},function(b){return c.forEach(c.filter(c.db.table(14).fetch([[[a[0],d[22]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,d[22])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[0],contactId:d[22],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:a[4],isModerator:!1})}]):c.resolve()}]):c.resolve()},function(b){return d[2]?c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({authorityLevel:a[4]})}):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxVerifyThreadExistsV2StoredProcedure";a.__tables__=["threads","contacts","participants"];e.exports=a}),null);
__d("LSVerifyThreadRowExistsV2",["LSVerifyThreadExistsV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.i64.eq(a[1],c.i64.cast([0,5]))?d[0]=c.i64.cast([-1,4294967284]):d[0]=c.i64.cast([0,0]),c.storedProcedure(b("LSVerifyThreadExistsV2"),a[0],a[1],"inbox",d[0],a[3],!1,a[2],!1,!1)},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxVerifyThreadRowExistsV2StoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSVerifyThreadRowExistsV2StoredProcedure",["LSSynchronousPromise","LSVerifyThreadRowExistsV2","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSVerifyThreadRowExistsV2"),e.threadKey,e.threadType,e.syncGroup,e.authorityLevel);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSWriteThreadCapabilities",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(d,e){e=d.done;d=d.value;return e?0:(d.item,c[0]=b.i64.of_float(Date.now()),b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({capabilities:a[1],capabilities2:a[2],capabilities3:a[3],capabilities4:a[4],capabilities5:a[5]})}))})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxWriteThreadCapabilitiesStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("usePolarisFadeTransition",["react-compiler-runtime","react-spring-wwwig"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(5),c=a.duration;a=a.show;var e,f,g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={opacity:1},f={opacity:0},g={opacity:0},b[0]=e,b[1]=f,b[2]=g):(e=b[0],f=b[1],g=b[2]);b[3]!==c?(e=babelHelpers["extends"]({enter:e,from:f,leave:g},c!=null?{config:{duration:c}}:{}),b[3]=c,b[4]=e):e=b[4];return d("react-spring-wwwig").useTransition(a,e)}g["default"]=a}),98);
__d("usePolarisPanAndZoom",["react-compiler-runtime","react-spring-wwwig"],(function(a,b,c,d,e,f,g){"use strict";var h={friction:40,mass:5,tension:350};function a(a,b,c,e){var f=d("react-compiler-runtime").c(9),g=c===void 0?!1:c;f[0]!==e?(c=e===void 0?[]:e,f[0]=e,f[1]=c):c=f[1];e=c;f[2]!==b||f[3]!==g||f[4]!==a?(c=function(){var c;return{config:(c=b)!=null?c:h,from:a,immediate:g,reset:!0,to:a}},f[2]=b,f[3]=g,f[4]=a,f[5]=c):c=f[5];c=d("react-spring-wwwig").useSpring(c,e);e=c[0];c=c[1];var i;f[6]!==c||f[7]!==e?(i={set:c,style:e},f[6]=c,f[7]=e,f[8]=i):i=f[8];return i}g["default"]=a}),98);
__d("PolarisIGAnimate",["PolarisIGAnimated.react","usePolarisFadeTransition","usePolarisPanAndZoom"],(function(a,b,c,d,e,f){"use strict";f.Animated=importDefault("PolarisIGAnimated.react"),f.useFadeTransition=importDefault("usePolarisFadeTransition"),f.usePanAndZoom=importDefault("usePolarisPanAndZoom")}),66);/*FB_PKG_DELIM*/
__d("EmojiRendererData",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}a.isEmoji=function(a){return a>983041||a<35?!1:a===35||a===42||a>=48&&a<=57||a===169||a===174||a===8205||a===8252||a===8265||a===8419||a===8482||a===8505||a>=8596&&a<=8601||a>=8617&&a<=8618||a>=8986&&a<=8987||a===9e3||a===9167||a>=9193&&a<=9203||a>=9208&&a<=9210||a===9410||a>=9642&&a<=9643||a===9654||a===9664||a>=9723&&a<=9726||a>=9728&&a<=9732||a===9742||a===9745||a>=9748&&a<=9749||a===9752||a===9760||a>=9762&&a<=9763||a===9766||a===9770||a>=9774&&a<=9775||a>=9784&&a<=9786||a===9792||a===9794||a>=9800&&a<=9811||a>=9823&&a<=9824||a===9827||a>=9829&&a<=9830||a===9832||a===9851||a>=9854&&a<=9855||a>=9874&&a<=9879||a===9881||a>=9883&&a<=9884||a>=9888&&a<=9889||a===9895||a>=9898&&a<=9899||a>=9904&&a<=9905||a>=9917&&a<=9918||a>=9924&&a<=9925||a===9928||a>=9934&&a<=9935||a===9937||a>=9939&&a<=9940||a>=9961&&a<=9962||a>=9968&&a<=9973||a>=9975&&a<=9976||a===9978||a===9981||a===9986||a===9989||a>=9992&&a<=9993||a===9999||a===10002||a===10004||a===10006||a===10013||a===10017||a===10024||a>=10035&&a<=10036||a===10052||a===10055||a===10060||a===10062||a>=10067&&a<=10069||a===10071||a>=10083&&a<=10084||a>=10133&&a<=10135||a===10145||a===10160||a===10175||a>=10548&&a<=10549||a>=11013&&a<=11015||a>=11035&&a<=11036||a===11088||a===11093||a===12336||a===12349||a===12951||a===12953||a===126980||a===127183||a>=127344&&a<=127345||a>=127358&&a<=127359||a===127374||a>=127377&&a<=127386||a>=127462&&a<=127487||a>=127489&&a<=127490||a===127514||a===127535||a>=127538&&a<=127546||a>=127568&&a<=127569||a>=127744&&a<=127777||a>=127780&&a<=127876||a>=127878&&a<=127891||a>=127894&&a<=127895||a>=127897&&a<=127899||a>=127902&&a<=127937||a>=127941&&a<=127942||a>=127944&&a<=127945||a>=127949&&a<=127984||a>=127987&&a<=127989||a>=127991&&a<=127994||a>=128e3&&a<=128065||a>=128068&&a<=128069||a>=128081&&a<=128101||a>=128121&&a<=128123||a>=128125&&a<=128128||a===128132||a>=128136&&a<=128142||a===128144||a>=128146&&a<=128169||a>=128171&&a<=128253||a>=128255&&a<=128317||a>=128329&&a<=128334||a>=128336&&a<=128359||a>=128367&&a<=128368||a===128371||a>=128374&&a<=128377||a===128391||a>=128394&&a<=128397||a>=128420&&a<=128421||a===128424||a>=128433&&a<=128434||a===128444||a>=128450&&a<=128452||a>=128465&&a<=128467||a>=128476&&a<=128478||a===128481||a===128483||a===128488||a===128495||a===128499||a>=128506&&a<=128580||a>=128584&&a<=128586||a>=128640&&a<=128674||a>=128676&&a<=128691||a>=128695&&a<=128703||a>=128705&&a<=128709||a===128715||a>=128717&&a<=128722||a>=128725&&a<=128727||a>=128732&&a<=128741||a===128745||a>=128747&&a<=128748||a===128752||a>=128755&&a<=128764||a>=128992&&a<=129003||a===129008||a>=129293&&a<=129294||a>=129296&&a<=129303||a>=129312&&a<=129317||a>=129319&&a<=129327||a===129338||a>=129343&&a<=129349||a>=129351&&a<=129398||a>=129400&&a<=129460||a===129463||a===129466||a>=129468&&a<=129484||a===129488||a>=129502&&a<=129535||a>=129648&&a<=129660||a>=129664&&a<=129673||a>=129679&&a<=129730||a===129734||a>=129742&&a<=129756||a>=129759&&a<=129769||a>=917536&&a<=917631||a>=983040&&a<=983041};a.isEmojiModifier=function(a){return a>127999||a<127995?!1:a>=127995&&a<=127999};a.isEmojiModifierBase=function(a){return a>129784||a<9757?!1:a===9757||a===9977||a>=9994&&a<=9997||a===127877||a>=127938&&a<=127940||a===127943||a>=127946&&a<=127948||a>=128066&&a<=128067||a>=128070&&a<=128080||a>=128102&&a<=128120||a===128124||a>=128129&&a<=128131||a>=128133&&a<=128135||a===128143||a===128145||a===128170||a>=128372&&a<=128373||a===128378||a===128400||a>=128405&&a<=128406||a>=128581&&a<=128583||a>=128587&&a<=128591||a===128675||a>=128692&&a<=128694||a===128704||a===128716||a===129292||a===129295||a>=129304&&a<=129311||a===129318||a>=129328&&a<=129337||a>=129340&&a<=129342||a===129399||a>=129461&&a<=129462||a>=129464&&a<=129465||a===129467||a>=129485&&a<=129487||a>=129489&&a<=129501||a>=129731&&a<=129733||a>=129776&&a<=129784};a.isEmojiVariationSelector=function(a){return a===65039};a.isNonSpacingCombiningMark=function(a){return a>8419||a<8416?!1:a===8416||a===8419};a.isRegionalIndicator=function(a){return a>127487||a<127462?!1:a>=127462&&a<=127487};a.isTagSpec=function(a){return a>917630||a<917536?!1:a>=917536&&a<=917568||a>=917595&&a<=917630};a.isTagTerm=function(a){return a===917631};a.isText=function(a){return a>8419||a<35?!1:a===35||a===42||a>=48&&a<=57||a===8419};a.isTextVariationSelector=function(a){return a===65038};a.isDefaultTextPresentation=function(a){return a>917631||a<35?!1:a===35||a===42||a>=48&&a<=57||a===169||a===174||a===8205||a===8252||a===8265||a===8419||a===8482||a===8505||a>=8596&&a<=8597||a>=8617&&a<=8618||a===9e3||a===9167||a>=9197&&a<=9199||a>=9201&&a<=9202||a>=9208&&a<=9210||a===9410||a===9654||a===9664||a>=9730&&a<=9732||a===9745||a===9752||a===9760||a>=9762&&a<=9763||a===9766||a===9770||a>=9774&&a<=9775||a>=9784&&a<=9785||a===9792||a===9794||a===9823||a===9851||a===9854||a===9874||a>=9876&&a<=9879||a===9881||a>=9883&&a<=9884||a===9895||a>=9904&&a<=9905||a===9928||a===9935||a===9937||a===9939||a===9961||a>=9968&&a<=9969||a===9972||a>=9975&&a<=9977||a===9997||a===9999||a===10002||a===10004||a===10013||a===10017||a===10052||a===10055||a===10083||a===12336||a>=127344&&a<=127345||a>=127358&&a<=127359||a===127777||a>=127780&&a<=127788||a===127798||a===127869||a>=127894&&a<=127895||a>=127897&&a<=127899||a>=127902&&a<=127903||a>=127947&&a<=127950||a>=127956&&a<=127967||a===127987||a===127989||a===127991||a===128063||a===128065||a===128253||a>=128329&&a<=128330||a>=128367&&a<=128368||a>=128371&&a<=128377||a===128391||a>=128394&&a<=128397||a===128400||a===128421||a===128424||a>=128433&&a<=128434||a===128444||a>=128450&&a<=128452||a>=128465&&a<=128467||a>=128476&&a<=128478||a===128481||a===128483||a===128488||a===128495||a===128499||a===128506||a===128715||a>=128717&&a<=128719||a>=128736&&a<=128741||a===128745||a===128752||a===128755||a>=917536&&a<=917631};a.isSymbol=function(a){return a>8482||a<169?!1:a===169||a===174||a===8482};a.isZWJ=function(a){return a===8205};return a}();e.exports=a}),null);
__d("UnicodeUtils",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";var i=55296,j=56319,k=56320,l=57343,m=/[\uD800-\uDFFF]/;function n(a){return i<=a&&a<=l}function a(a,b){0<=b&&b<a.length||h(0,1346,b,a.length);if(b+1===a.length)return!1;var c=a.charCodeAt(b);a=a.charCodeAt(b+1);return i<=c&&c<=j&&k<=a&&a<=l}function o(a){return m.test(a)}function p(a,b){a=n(a.charCodeAt(b));return a?2:1}function b(a){if(!o(a))return a.length;var b=0;for(var c=0;c<a.length;c+=p(a,c))b++;return b}function c(a,b){return r(a,b,b+1)}function q(a,b,c){var d=b||0;c=c===void 0?Infinity:c||0;if(!o(a))return a.substr(d,c);var e=a.length;if(e<=0||d>e||c<=0)return"";var f=0;if(d>0){for(;d>0&&f<e;d--)f+=p(a,f);if(f>=e)return""}else if(b<0){for(f=e;d<0&&0<f;d++)f-=p(a,f-1);f<0&&(f=0)}b=e;if(c<e)for(b=f;c>0&&b<e;c--)b+=p(a,b);return a.substring(f,b)}function r(a,b,c){b=b||0;c=c===void 0?Infinity:c||0;b<0&&(b=0);c<0&&(c=0);var d=Math.abs(c-b);b=b<c?b:c;return q(a,b,d)}function d(a){var b=[];for(var c=0;c<a.length;c+=p(a,c))b.push(a.codePointAt(c));return b}g.isCodeUnitInSurrogateRange=n;g.isSurrogatePair=a;g.hasSurrogateUnit=o;g.getUTF16Length=p;g.strlen=b;g.charAt=c;g.substr=q;g.substring=r;g.getCodePoints=d}),98);
__d("EmojiRenderer",["EmojiRendererData","UnicodeUtils"],(function(a,b,c,d,e,f,g){var h,i,j=0,k=1,l=2,m=3,n=4,o=5,p=6,q=7,r=8,s=9,t=10,u=11;function v(a){var b=a[0];if(b===void 0)return!1;var d=a.length,e=a[d-1];if(e){e=e.charCodeAt(0);if((i||(i=c("EmojiRendererData"))).isTagSpec(e))return!1}b=b.charCodeAt(0);if((i||(i=c("EmojiRendererData"))).isSymbol(b)&&d<2)return!1;if((i||(i=c("EmojiRendererData"))).isText(b))if(d===1)return!1;else if(a.length==2)return(i||(i=c("EmojiRendererData"))).isNonSpacingCombiningMark(a[1].charCodeAt(0));else{e=1;(i||(i=c("EmojiRendererData"))).isEmojiVariationSelector(a[e].charCodeAt(0))&&e++;while(e<a.length){if(!(i||(i=c("EmojiRendererData"))).isNonSpacingCombiningMark(a[e].charCodeAt(0)))return!1;e++}return!0}return!0}function w(a,b){var e=null,f=[],g=r,w=0,x=a.length;while(w<x){var y=a.codePointAt(w),z=(h||(h=d("UnicodeUtils"))).getUTF16Length(a,w),A=a.substr(w,z);switch(g){case s:(i||(i=c("EmojiRendererData"))).isRegionalIndicator(y)?g=m:g=r;break;case n:if((i||(i=c("EmojiRendererData"))).isEmojiModifier(y)){g=o;break}case j:(i||(i=c("EmojiRendererData"))).isZWJ(y)?g=q:(i||(i=c("EmojiRendererData"))).isEmojiVariationSelector(y)?g=l:(i||(i=c("EmojiRendererData"))).isTextVariationSelector(y)?g=u:(i||(i=c("EmojiRendererData"))).isNonSpacingCombiningMark(y)?g=k:(i||(i=c("EmojiRendererData"))).isTagSpec(y)?g=p:g=r;break;case k:case l:if((i||(i=c("EmojiRendererData"))).isNonSpacingCombiningMark(y))break;case m:case o:(i||(i=c("EmojiRendererData"))).isZWJ(y)?g=q:(i||(i=c("EmojiRendererData"))).isTagSpec(y)?g=p:g=r;break;case p:(i||(i=c("EmojiRendererData"))).isTagSpec(y)||(i||(i=c("EmojiRendererData"))).isTagTerm(y)?g=p:g=r;break;case q:(i||(i=c("EmojiRendererData"))).isRegionalIndicator(y)?g=s:(i||(i=c("EmojiRendererData"))).isEmojiModifierBase(y)?g=n:(i||(i=c("EmojiRendererData"))).isEmoji(y)?g=j:g=r;break;case t:(i||(i=c("EmojiRendererData"))).isNonSpacingCombiningMark(y)?g=k:(i||(i=c("EmojiRendererData"))).isEmojiVariationSelector(y)?g=l:g=r;break;default:g=r;break}if(g===r){(i||(i=c("EmojiRendererData"))).isRegionalIndicator(y)?g=s:(i||(i=c("EmojiRendererData"))).isEmojiModifierBase(y)?g=n:(i||(i=c("EmojiRendererData"))).isText(y)?g=t:(i||(i=c("EmojiRendererData"))).isEmoji(y)&&(g=j);if(g!==r){e!==null&&v(e.emoji)&&f.push(e);if(b!==null&&b===f.length){e=null;break}e={emoji:[A],length:z,offset:w}}}else e!==null&&(e.emoji.push(A),e.length+=z);w+=z}e!==null&&v(e.emoji)&&f.push(e);return f}function a(a,b,c){c=w(a);var d=[],e=0;c.forEach(function(c){var f=c.offset;f>e&&d.push(a.substr(e,f-e));var g=b(c.emoji);g!=null&&d.push(g);e=f+c.length});d.push(a.substr(e,a.length-e));return d}function b(a){return w(a,1).length===1}function e(a){return w(a).length}g.parse=w;g.render=a;g.containsEmoji=b;g.countEmoji=e}),98);
__d("EmoticonsList",[],(function(a,b,c,d,e,f){e.exports={emotes:{"O:)":"angel","O:-)":"angel","0:)":"angel","0:-)":"angel","'-_-":"coldsweat",":3":"colonthree","o.O":"confused",O_O:"confused",o_o:"confused","0_0":"confused","O.o":"confused_rev",":'(":"cry",":'-(":"cry","3:)":"devil","3:-)":"devil",":dog:":"dog","-3-":"flushkiss",":(":"frown",":-(":"frown",":[":"frown","=(":"frown",")=":"frown",":o":"gasp",":-O":"gasp",":O":"gasp",":-o":"gasp","=D":"grin",":-D":"grin",":D":"grin",">:(":"grumpy",">:-(":"grumpy","<3":"heart","&lt;3":"heart","^_^":"kiki","^~^":"kiki",":*":"kiss",":-*":"kiss","(y)":"like",":like:":"like","(Y)":"like",T_T:"loudly_crying","T-T":"loudly_crying",ToT:"loudly_crying","T.T":"loudly_crying",":-|":"neutral",":|":"neutral",":v":"pacman",":V":"pacman",'<(")':"penguin",">_<":"persevere",">.<":"persevere",":poop:":"poop",":|]":"robot","(^^^)":"shark",":)":"smile",":-)":"smile",":]":"smile","(:":"smile","=)":"smilingface","(=":"smilingface","-_-":"squint","B|":"sunglasses","8-|":"sunglasses","8|":"sunglasses","B-|":"sunglasses","B-)":"sunglasses","8-)":"sunglasses","8)":"sunglasses","(n)":"thumbsdown","(N)":"thumbsdown",":+1:":"thumbsup",":thumbsup:":"thumbsup",":P":"tongue",":-P":"tongue",":-p":"tongue",":p":"tongue","=P":"tongue",":trans:":"transflag",":/":"unsure",":-/":"unsure",":\\":"unsure",":-\\":"unsure","=/":"unsure","=\\":"unsure",">:o":"upset",">:O":"upset",">:-O":"upset",">:-o":"upset",";)":"wink",";-)":"wink",";*":"winkkiss",";-*":"winkkiss",";-P":"winktongue",";P":"winktongue",";-p":"winktongue",";p":"winktongue",":cheese:":"cheesewedge",":eyes:":"eyes",":peek:":"eyes",":clown:":"clown"},symbols:{angel:"O:)",coldsweat:"'-_-",colonthree:":3",confused:"o.O",confused_rev:"O.o",cry:":'(",devil:"3:)",dog:":dog:",flushkiss:"-3-",frown:":(",gasp:":o",grin:"=D",grumpy:">:(",heart:"<3",kiki:"^_^",kiss:":*",like:"(y)",loudly_crying:"T_T",neutral:":-|",pacman:":v",penguin:'<(")',persevere:">_<",poop:":poop:",robot:":|]",shark:"(^^^)",smile:":)",smilingface:"=)",squint:"-_-",sunglasses:"B|",thumbsdown:"(n)",thumbsup:":+1:",tongue:":P",transflag:":trans:",unsure:":/",upset:">:o",wink:";)",winkkiss:";*",winktongue:";-P",cheesewedge:":cheese:",eyes:":eyes:",clown:":clown:"},emoji:{angel:"1f607",coldsweat:"1f613",colonthree:"FACE_WITH_COLON_THREE",confused:"1f633",confused_rev:"1f633",cry:"1f622",devil:"1f608",dog:"1f436",flushkiss:"1f61a",frown:"1f641",gasp:"1f62e",grin:"1f603",grumpy:"1f620",heart:"2764",kiki:"1f60a",kiss:"1f618",like:"LIKE",loudly_crying:"1f62d",neutral:"1f610",pacman:"PACMAN",penguin:"1f427",persevere:"1f623",poop:"1f4a9",robot:"1f916",shark:"1f988",smile:"1f642",smilingface:"1f60a",squint:"1f611",sunglasses:"1f60e",thumbsdown:"1f44e",thumbsup:"1f44d",tongue:"1f61b",transflag:"1f3f3_fe0f_200d_26a7_fe0f",unsure:"1f615",upset:"1f620",wink:"1f609",winkkiss:"1f618",winktongue:"1f61c",cheesewedge:"1f9c0",eyes:"1f440",clown:"1f921"},regexp:/(^|[\s\'\".\(])(O:\)(?!\))|O:\-\)(?!\))|0:\)(?!\))|0:\-\)(?!\))|\'\-_\-|:3|o\.O|O_O|o_o|0_0|O\.o|:\'\(|:\'\-\(|3:\)(?!\))|3:\-\)(?!\))|:dog:|\-3\-|:\(|:\-\(|:\[|=\(|\)=|:o|:\-O|:O|:\-o|=D|:\-D|:D|>:\(|>:\-\(|<3|&lt;3|\^_\^|\^~\^|:\*|:\-\*|\(y\)(?!\))|:like:|\(Y\)(?!\))|T_T|T\-T|ToT|T\.T|:\-\||:\||:v|:V|<\(\"\)(?!\))|>_<|>\.<|:poop:|:\|\]|\(\^\^\^\)(?!\))|:\)(?!\))|:\-\)(?!\))|:\]|\(:|=\)(?!\))|\(=|\-_\-|B\||8\-\||8\||B\-\||B\-\)(?!\))|8\-\)(?!\))|8\)(?!\))|\(n\)(?!\))|\(N\)(?!\))|:\+1:|:thumbsup:|:P|:\-P|:\-p|:p|=P|:trans:|:\/|:\-\/|:\\|:\-\\|=\/|=\\|>:o|>:O|>:\-O|>:\-o|;\)(?!\))|;\-\)(?!\))|;\*|;\-\*|;\-P|;P|;\-p|;p|:cheese:|:eyes:|:peek:|:clown:)([\s\'\".,!?\)]|<br>|$)/,noncapturingRegexp:/(?:^|[\s\'\".\(])(O:\)(?!\))|O:\-\)(?!\))|0:\)(?!\))|0:\-\)(?!\))|\'\-_\-|:3|o\.O|O_O|o_o|0_0|O\.o|:\'\(|:\'\-\(|3:\)(?!\))|3:\-\)(?!\))|:dog:|\-3\-|:\(|:\-\(|:\[|=\(|\)=|:o|:\-O|:O|:\-o|=D|:\-D|:D|>:\(|>:\-\(|<3|&lt;3|\^_\^|\^~\^|:\*|:\-\*|\(y\)(?!\))|:like:|\(Y\)(?!\))|T_T|T\-T|ToT|T\.T|:\-\||:\||:v|:V|<\(\"\)(?!\))|>_<|>\.<|:poop:|:\|\]|\(\^\^\^\)(?!\))|:\)(?!\))|:\-\)(?!\))|:\]|\(:|=\)(?!\))|\(=|\-_\-|B\||8\-\||8\||B\-\||B\-\)(?!\))|8\-\)(?!\))|8\)(?!\))|\(n\)(?!\))|\(N\)(?!\))|:\+1:|:thumbsup:|:P|:\-P|:\-p|:p|=P|:trans:|:\/|:\-\/|:\\|:\-\\|=\/|=\\|>:o|>:O|>:\-O|>:\-o|;\)(?!\))|;\-\)(?!\))|;\*|;\-\*|;\-P|;P|;\-p|;p|:cheese:|:eyes:|:peek:|:clown:)(?:[\s\'\".,!?\)]|<br>|$)/}}),null);
__d("EmoticonRenderer",["EmoticonsList"],(function(a,b,c,d,e,f,g){"use strict";var h=["LIKE","PACMAN","FACE_WITH_COLON_THREE"];function i(a){var b=[],c=new RegExp(d("EmoticonsList").regexp),e=0,f=a.match(c);while(f!==null){var g=f[1],i=f[2].split(""),j=d("EmoticonsList").emotes[f[2]];j=d("EmoticonsList").emoji[j];b.push({chars:i,isCustom:h.includes(j),key:j,offset:e+f.index+g.length});e+=f.index+f[0].length;f=a.slice(e).match(c)}return b}function a(a,b,c){var d=i(a),e=[],f=0;d.forEach(function(d){var g=d.offset;g>f&&e.push(a.substr(f,g-f));d.isCustom?e.push(c(d.key,d.chars)):e.push(b(d.key));f=g+d.chars.length});e.push(a.substr(f,a.length-f));return e}g.parse=i;g.render=a}),98);
__d("IGDAWBundleResource",["IGDAWMainWebWorkerResource"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("IGDAWMainWebWorkerResource")}),98);
__d("IGDBundleResource",["cr:3823"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:3823")}),98);
__d("LSCancelTaskByQueueName",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.forEach(b.filter(b.db.table(2).fetch([[[a[0]]],"queueNameTaskId"]),function(c){return c.queueName===a[0]&&c.context===b.i64.to_string(a[1])}),function(a){var d=a.item;return b.sequence([function(a){return c[0]=d.taskDispatchPriority,b.forEach(b.filter(b.db.table(2).fetch([[[d.taskId]]]),function(a){return b.i64.eq(a.taskId,d.taskId)&&a.queueName===d.queueName}),function(a){return a["delete"]()})},function(a){return b.i64.eq(c[0],b.i64.cast([0,1e3]))||b.i64.eq(c[0],b.i64.cast([0,2e3]))?c[1]=b.i64.cast([0,734739218]):c[1]=b.i64.cast([0,734737036])}])})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreCancelTaskByQueueNameStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSDatascriptEvaluatorDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LSDatascriptEvaluator").__setRef("LSDatascriptEvaluatorDeferred");function a(){return h.load()}g["default"]=a}),98);
__d("LSIssueNewTaskWithExtraOperations",["LSIssueNewTaskAndGetTaskID","LSMailboxTaskCompletionApiOnTaskInsertion"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[11]).then(function(a){return a=a,d[0]=a[0],a})},function(a){return c.storedProcedure(b("LSMailboxTaskCompletionApiOnTaskInsertion"),d[0])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSCoreIssueNewTaskWithExtraOperationsStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSMailboxType",[],(function(a,b,c,d,e,f){a=Object.freeze({MESSENGER:0,COMMUNITIES:1,TINCAN:1024,TAM:4096});f["default"]=a}),66);
__d("MAWAppVersion",["SiteData"],(function(a,b,c,d,e,f,g){"use strict";function a(){return"302.0."+c("SiteData").client_revision}function b(){return{primary:302,secondary:0,tertiary:c("SiteData").client_revision}}g.getVersionNumber=a;g.getAppVersionParts=b}),98);
__d("MAWBridgeTraceEvent",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["ReceivedReceipt","ReceivedSent","FlowEndForFailure","FlowEndForSuccess"]);c=a;f["default"]=c}),66);
__d("MAWCatQuery.graphql",["cr:11203"],(function(a,b,c,d,e,f,g){"use strict";f.exports=b("cr:11203")}),34);
__d("MAWCatQuery",["MAWCatQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h!==void 0?h:h=b("MAWCatQuery.graphql");c=a;g["default"]=c}),98);
__d("MAWCatQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9610993262281094"}),null);
__d("MAWCatQuery.instagram.graphql",["MAWCatQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"SecureMessageOverWACATGraphResult",kind:"LinkedField",name:"secure_message_over_wa_cat_query",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"encrypted_serialized_cat",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"expiration_time_in_seconds",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWCatQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MAWCatQuery",selections:a},params:{id:b("MAWCatQuery_instagramRelayOperation"),metadata:{},name:"MAWCatQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MAWConsoleLogger",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=c("gkx")("2656");function a(a,b,c){if(h){var d=c.map(function(a){return"["+a+"]"}).join("");if(a==="count"){console.count(d+" "+String(b));return}for(var e=arguments.length,f=new Array(e>3?e-3:0),g=3;g<e;g++)f[g-3]=arguments[g];if(d){var i;(i=console)[a].apply(i,[d,b].concat(f))}else{var j;(j=console)[a].apply(j,[b].concat(f))}}}g.logToConsole=a}),98);
__d("MAWCryptoAuthToken",["FBLogger","MAWCatQuery","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a==null||a.secure_message_over_wa_cat_query==null||a.secure_message_over_wa_cat_query.encrypted_serialized_cat==null||a.secure_message_over_wa_cat_query.expiration_time_in_seconds==null){var b;c("FBLogger")("maw_device_reg").warn("Crypto Auth Token was null or incomplete %s:%s:%s:%s",a==null,(a==null?void 0:a.secure_message_over_wa_cat_query)==null,(a==null?void 0:(b=a.secure_message_over_wa_cat_query)==null?void 0:b.encrypted_serialized_cat)==null,a==null?void 0:(b=a.secure_message_over_wa_cat_query)==null?void 0:b.expiration_time_in_seconds);return{error:"Crypto Auth Token was null or incomplete"}}return{success:{encrypted_serialized_cat:a.secure_message_over_wa_cat_query.encrypted_serialized_cat,expiration_time_in_seconds:a.secure_message_over_wa_cat_query.expiration_time_in_seconds}}}function a(a){return d("relay-runtime").fetchQuery(a,c("MAWCatQuery"),{}).toPromise().then(h).then(function(a){if(a.error!==null&&a.error!==void 0)throw c("FBLogger")("maw_device_reg").mustfixThrow("[MAWCryptoAuthToken] Error while fetching CAT from GraphQL: %s",a.error);return a.success})}g.processCatResponse=h;g.fetchFreshCAT=a}),98);
__d("MAWDeleteOldLogsFromDisk",["Deferred","MAWLogIndexedDb","MAWSaveLogToDisk","MAWTransactionMode","WALogger","asyncToGeneratorRuntime","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to delete old logs: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to delete old logs: ",""]);j=function(){return a};return a}var k=c("justknobx")._("1400"),l=c("justknobx")._("1401"),m=c("justknobx")._("1402"),n=(f=d("MAWLogIndexedDb")).makeLogMsgrTransactor("logs",(h=d("MAWTransactionMode")).READONLY)(function(a){var b=new(c("Deferred"))();a=a();a=a.count();a.onsuccess=function(a){a=a.target.result;b.resolve(a)};a.onerror=function(a){b.reject(a)};return b.getPromise()}),o=f.makeLogMsgrTransactor("logs",h.READONLY)(function(a,b){var d=new(c("Deferred"))();a=a();var e=[];a=a.index("date");a=a.openCursor();a.onsuccess=function(a){a=a.target.result;if(a==null||!b(a.value,e)){d.resolve(e);return}e.push(a.value.id);a["continue"]()};a.onerror=function(a){d.reject(a)};return d.getPromise()}),p=f.makeLogMsgrTransactor("logs",h.READWRITE)(function(a){var b=new(c("Deferred"))();a=a();a=a.clear();a.onsuccess=function(){return b.resolve()};a.onerror=function(a){return b.reject(a)};d("MAWSaveLogToDisk").clearLogEntryCache();return b.getPromise()}),q=f.makeLogMsgrTransactor("logs",h.READWRITE)(function(a,b){var d=new(c("Deferred"))(),e=a();b.forEach(function(a){return e["delete"](a)});e.transaction.oncomplete=function(){return d.resolve()};e.transaction.onerror=function(a){return d.reject(a)};return d.getPromise()});function r(a,b){b=Date.now()-m;return a!=null&&a.date<=b}function s(a){return function(b,c){return c.length<a}}function a(){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield n());if(a===0)return;a=a-l;if(a>0){a=(yield o(s(a)));yield q(a);return}a=(yield o(r));a.length>0&&(yield q(a))}catch(a){d("WALogger").ERROR(j(),a)}});return t.apply(this,arguments)}function e(){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield n());if(a===0)return;if(a>=k){yield p();return}}catch(a){d("WALogger").ERROR(i(),a)}});return u.apply(this,arguments)}g.clearLogs=p;g.deleteOldLogs=a;g.deleteOldLogsOnStartup=e}),98);
__d("MAWEphemeralUtils",["MAWLocalizationType","MAWUserJidWrapper","WAArmadilloApplication.pb","WAJids","err"],(function(a,b,c,d,e,f,g){"use strict";var h=60,i=60*h,j=24*i;function a(a,b,c,e){var f=[],g=b===j,k=a===d("MAWUserJidWrapper").getMyUserJid();if(e)e=d("MAWLocalizationType").LOCALIZATION_TYPE.EPHEMERAL_SETTINGS_AUTO_RESET;else if(!k||a==null)b===0?e=d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF:b<h?(e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS:d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS,f.push(b.toString())):b<i?(e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES:d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES,f.push((b/h).toString())):b<j||g?(e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS:d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS,f.push((b/i).toString())):(e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS:d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS,f.push((b/j).toString()));else{a=d("WAJids").extractUserId(a).toString();b===0?k?e=d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_OFF:(e=d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF,f.push(a)):b<h?(k?e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS:d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_SECONDS:(e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS,f.push(a)),f.push(b.toString())):b<i?(k?e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES:d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_MINUTES:(e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES,f.push(a)),f.push((b/h).toString())):b<j||g?(k?e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS:d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_HOURS:(e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS,f.push(a)),f.push((b/i).toString())):(k?e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS:d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_DAYS:(e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS,f.push(a)),f.push((b/j).toString()))}return{adminMsgContent:f,adminType:e,version:1}}function b(a,b,e){var f,g=[];b=d("WAJids").extractUserId(b).toString();switch(a){case d("WAArmadilloApplication.pb").ARMADILLO_CONTENT_SCREENSHOT_ACTION_SCREENSHOT_TYPE.SCREENSHOT_IMAGE:e?f=d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_TAKE_SCREENSHOT:(f=d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT,g.push(b));break;case d("WAArmadilloApplication.pb").ARMADILLO_CONTENT_SCREENSHOT_ACTION_SCREENSHOT_TYPE.SCREEN_RECORDING:e?f=d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_RECORD_SCREEN:(f=d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_RECORD_SCREEN,g.push(b));break;default:throw c("err")("Received unexpected screenshot action type")}return{ephemeralScreenshotActionContent:g,ephemeralScreenshotActionType:f}}g.getEphemeralSettingChangeData=a;g.getEphemeralScreenshotActionData=b}),98);
__d("MAWFetchXMABlob",["FBLogger","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var d=a.descriptionForLogging,e=a.url,f=a.xmaContentType;return e==null||e===""?(h||(h=b("Promise"))).resolve():window.fetch(e).then(function(a){return a.blob()})["catch"](function(a){c("FBLogger")("messenger_web_sharing").mustfix("Error fetching url in xma share from %s, with XMA content type %s and error %s",d,f,a);return(h||(h=b("Promise"))).resolve()})}g.fetchBlob=a}),98);
__d("MAWGetIsMediaDownloadStatusEnabled",["gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function h(){return c("gkx")("7858")}function a(){return c("justknobx")._("3564")&&h()}g.getIsMediaDownloadStatusForXMAsEnabled=h;g.getIsMediaDownloadStatusForXMAsEnabledWithChunkVerification=a}),98);
__d("MAWThreadUtils",["LSIntEnum","WAJids"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c){return a.threads.where("jid").equals(b).modify(c)}function b(a){a=d("WAJids").switchOnMsgrChatJidType(a,{group:function(){return(h||(h=d("LSIntEnum"))).ofNumber(16)},user:function(){return(h||(h=d("LSIntEnum"))).ofNumber(15)}});return a}g.updateThreadWithJid=a;g.getLSThreadTypeFromJid=b}),98);
__d("MAWUpdateClientRestoreStatusOperationType",[],(function(a,b,c,d,e,f){"use strict";a=0;b=1;f.upsertClientRestoreStatus=a;f.markCompleteClientRestoreStatus=b}),66);
__d("MAWWritePinMessageAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a===d("MAWCurrentUser").getID()?d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_PINNED_MESSAGE:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_PINNED_MESSAGE;a=b===d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_PINNED_MESSAGE?[a]:[];return{adminMsgContent:a,adminType:b,version:1}}g.getAdminMsgContent=a}),98);
__d("MAWWriteThreadHotlikeCustomizationAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=a===d("MAWCurrentUser").getID();c=c?d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_HOTLIKE:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_HOTLIKE;var e=[];c===d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_HOTLIKE?e.push(b):e.push(a,b);return{adminMsgContent:e,adminType:c,version:1}}g.getAdminMsgContent=a}),98);
__d("MAWWriteThreadNicknameCustomizationAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){var e=d("MAWCurrentUser").getID(),f=a===e&&a!==b,g=b===e&&b!==a,h=b===a&&e===b;e=b===a&&e!==b;var i;h&&c.length>0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_SET_OWN_NICKNAME:h&&c.length===0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CLEAR_OWN_NICKNAME:e&&c.length>0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_SET_OWN_NICKNAME:e&&c.length===0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME:f&&c.length>0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME:f&&c.length===0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:g&&c.length>0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:g&&c.length===0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:c.length>0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME;h=[];switch(i){case d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME:h.push(b,c);break;case d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:case d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_SET_OWN_NICKNAME:h.push(a,c);break;case d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_SET_OWN_NICKNAME:h.push(c);break;case d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:case d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME:h.push(b);break;case d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:h.push(a);break;case d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:case d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME:h.push(a,b,c);break;default:break}return{adminMsgContent:h,adminType:i,version:1}}g.getAdminMsgContent=a}),98);
__d("MAWWriteThreadPhotoCustomizationAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a===d("MAWCurrentUser").getID()?d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_PHOTO:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_PHOTO;a=b===d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_PHOTO?[a]:[];return{adminMsgContent:a,adminType:b,version:1}}g.getAdminMsgContent=a}),98);
__d("MessengerThreadThemeType",[],(function(a,b,c,d,e,f){a=Object.freeze({COLOR_GRADIENT:1,THEME:2,THIRD_PARTY:3,INTERACTIVE:4,IGD_CHANNEL_CUSTOMIZED_THEME:5,AI_AGENT:6,AI_GENERATED_THEME:7,AI_STUDIO_GENERATED_THEME:8});f["default"]=a}),66);
__d("MAWWriteThreadThemeCustomizationAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser","MessengerThreadThemeType","WALogger","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unable to convert theme type to integer: ",""]);h=function(){return a};return a}function a(a,b,c,e){var f=a===d("MAWCurrentUser").getID();f=i(f,e);e=[];f===d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_THEME||f===d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_AI_THEME?e.push(c):e.push(a,c);b!=null&&e.push(b);return{adminMsgContent:e,adminType:f,version:1}}function i(a,b){if(c("gkx")("11033")&&b!=null)try{b=parseInt(b,10)===c("MessengerThreadThemeType").AI_GENERATED_THEME;if(b)return a?d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_AI_THEME:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_AI_THEME}catch(a){d("WALogger").ERROR(h(),a)}return a?d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_THEME:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_THEME}g.getAdminMsgContent=a}),98);
__d("MAWWriteUKOSAAdminMsgContent",["MAWAdminMsgType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("MAWAdminMsgType").ADMIN_MSG_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE;a=[a];return{adminMsgContent:a,adminType:b,version:1}}g.getAdminMsgContent=a}),98);
__d("MAWWriteUnpinMessageAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a===d("MAWCurrentUser").getID()?d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_UNPINNED_MESSAGE:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_UNPINNED_MESSAGE;a=b===d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_UNPINNED_MESSAGE?[a]:[];return{adminMsgContent:a,adminType:b,version:1}}g.getAdminMsgContent=a}),98);
__d("MpsAdminMsgToBridge",["FBLogger","MAWAckLevel","MAWEphemeralUtils","MAWJids","MAWWritePinMessageAdminMsgContent","MAWWriteThreadHotlikeCustomizationAdminMsgContent","MAWWriteThreadNicknameCustomizationAdminMsgContent","MAWWriteThreadPhotoCustomizationAdminMsgContent","MAWWriteThreadThemeCustomizationAdminMsgContent","MAWWriteUKOSAAdminMsgContent","MAWWriteUnpinMessageAdminMsgContent","WAArmadilloMiTransportAdminMessage.pb","WAMsgType","getErrorSafe","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){if(b.quickReactionChanged!=null){var e=b.quickReactionChanged.emojiName;return d("MAWWriteThreadHotlikeCustomizationAdminMsgContent").getAdminMsgContent(a,c("nullthrows")(e))}else if(b.iconChanged!=null){e=b.iconChanged.threadIcon;return d("MAWWriteThreadHotlikeCustomizationAdminMsgContent").getAdminMsgContent(a,c("nullthrows")(e))}else if(b.chatThemeChanged!=null){e=b.chatThemeChanged;var f=e.themeEmoji,g=e.themeName;e=e.themeType;return d("MAWWriteThreadThemeCustomizationAdminMsgContent").getAdminMsgContent(a,f,c("nullthrows")(g),""+((f=e)!=null?f:""))}else if(b.messagePinned!=null){g=b.messagePinned.action;e=g===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$MessagePinned$Action.PINNED?d("MAWWritePinMessageAdminMsgContent").getAdminMsgContent:d("MAWWriteUnpinMessageAdminMsgContent").getAdminMsgContent;return e(a)}else if(b.nicknameChanged!=null){f=b.nicknameChanged;g=f.nickname;e=f.targetUserId;return d("MAWWriteThreadNicknameCustomizationAdminMsgContent").getAdminMsgContent(a,c("nullthrows")(e),c("nullthrows")(g))}else if(((f=b.linkCta)==null?void 0:f.ukOsaAdminText)!=null)return d("MAWWriteUKOSAAdminMsgContent").getAdminMsgContent(c("nullthrows")(b.linkCta.ukOsaAdminText.initiatorUserId));else if(b.disappearingSettingChanged!=null){return d("MAWEphemeralUtils").getEphemeralSettingChangeData(d("MAWJids").toUserJid(a),(g=(e=b.disappearingSettingChanged)==null?void 0:e.disappearingSettingDurationSeconds)!=null?g:0,((e=(f=b.disappearingSettingChanged)==null?void 0:f.oldDisappearingSettingDurationSeconds)!=null?e:0)===0,!1)}else if(b.groupImageChanged!=null)return d("MAWWriteThreadPhotoCustomizationAdminMsgContent").getAdminMsgContent(a)}function a(a){var b;b=(b=a.deserialize().adminMessage())==null?void 0:b.proto;if(b==null)return;var e;try{e=h(a.message.senderId,b)}catch(a){c("FBLogger")("mps").catching(c("getErrorSafe")(a)).warn("Failed to get admin message content")}if(e==null)return;b={ack:d("MAWAckLevel").ACK.received,adminContent:e.adminMsgContent,adminType:e.adminType,adminVersion:e.version,chatJid:a.getChatJid(),externalId:a.getExternalId(),forwardingScore:0,isAdminMessage:!0,isAuthorMe:!1,isForwarded:!1,msgId:a.getMsgId(),sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:d("WAMsgType").MSG_TYPE.ADMIN};return{kind:"bridgeMsg",value:b}}g.adminMsgToBridgeMsg=a}),98);
__d("MpsBumpMessageToBridgeMsg",["MAWAckLevel","MAWMsgType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c,e=a.deserialize().encryptedTransportMessage();b=e==null?void 0:(b=e.armadillo())==null?void 0:(b=b.proto.payload)==null?void 0:(b=b.content)==null?void 0:b.bumpExistingMessage;if(b==null||e==null)return null;e={ack:d("MAWAckLevel").ACK.received,chatJid:a.getChatJid(),externalId:a.getExternalId(),forwardingScore:(c=(c=e.proto.metadata)==null?void 0:c.forwardingScore)!=null?c:0,isAdminMessage:!1,isAuthorMe:a.isAuthorMe(),isForwarded:(e=(c=e.proto.metadata)==null?void 0:c.isForwarded)!=null?e:!1,msgId:a.getMsgId(),replySourceId:(c=b.key)==null?void 0:c.id,sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE};return{kind:"bridgeMsg",value:e}}g.bumpMessageToBridgeMsg=a}),98);
__d("MpsEditToBridge",["LSMessageSendStatus","MAWDbEditMsgHistory","WAJids","WAStanzaUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var e=d("MAWDbEditMsgHistory").convertToEditMsgHistoryId64(d("MAWDbEditMsgHistory").unsafeCoerceToEditMsgHistoryId(Number(a.getExternalId()))),f=a.topLevelMetadata();e={author:a.getAuthor(),editExternalId:d("WAStanzaUtils").toStanzaId(a.getExternalId()),editMsgHistoryId:e,editTs:a.getUnixTs(),msgContent:b,originalMsgExternalId:d("WAStanzaUtils").toStanzaId(f.getExternalId()),originalMsgId:f.getMsgId(),sendStatus:c("LSMessageSendStatus").SENDING_TO_SERVER,threadJid:a.getChatJid()};return{kind:"bridgeEditHistoryMsg",value:e}}function a(a){var b;b=(b=a.deserialize().encryptedTransportMessage())==null?void 0:(b=b.consumerMessage())==null?void 0:(b=b.payload)==null?void 0:(b=b.content)==null?void 0:(b=b.editMessage)==null?void 0:b.message;if(b==null)return;return h(a,{commands:b==null?void 0:b.commands,content:((a=b==null?void 0:b.text)!=null?a:"")+" *",mentionedJids:b==null?void 0:b.mentionedJid.map(d("WAJids").validateUserJid).filter(Boolean)})}function b(a){var b,c=a.message,d=a.supplementals,e=a.topLevel;if(e.kind!=="bridgeMsg")return a;var f=d.map(function(a){return a.kind==="bridgeEditHistoryMsg"?a.value:null}).filter(Boolean).sort(function(a,b){return b.editTs-a.editTs});if(f.length===0)return a;d.push(h(c,{commands:e.value.commands&&[].concat(e.value.commands),content:(a=e.value.content)!=null?a:"",mentionedJids:e.value.mentionedJids&&[].concat(e.value.mentionedJids)}));a=f[0].msgContent;e.value=babelHelpers["extends"]({},e.value,{commands:(b=a.commands)!=null?b:e.value.commands,content:(b=a.content)!=null?b:e.value.content,editCount:f.length,mentionedJids:(b=a.mentionedJids)!=null?b:e.value.mentionedJids});return{message:c,supplementals:d,topLevel:e}}g.editMessageToBridgeMsg=a;g.processEditedMessage=b}),98);
__d("MpsEphemeralMessageToBridge",["WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c=a.message,e=a.supplementals,f=a.topLevel;b=(b=a.message.deserialize().encryptedTransportMessage())==null?void 0:(b=b.proto.metadata)==null?void 0:(b=b.chatEphemeralSetting)==null?void 0:b.ephemeralExpiration;if(b==null||b===0)return a;var g=d("WATimeUtils").castToUnixTime(a.message.getUnixTs()+b),h=d("WATimeUtils").cappedMillisecondsUntil(g);if(h<=0)return a;f.kind==="bridgeMsg"&&(f.value=babelHelpers["extends"]({},f.value,{ephemeralDurationInSec:b}));a.supplementals.push({kind:"bridgeMsgsStartCountdown",value:{msgs:[{countdownTs:g,millisecondsUntilCountdownTs:h,msgId:a.message.getMsgId(),threadJid:a.message.getChatJid(),ts:a.message.getUnixTs()}]}});return{message:c,supplementals:e,topLevel:f}}g.processEphemeralMessage=a}),98);
__d("MpsMediaToBridge",["FBLogger","MAWAckLevel","MAWDbMedia","MAWMsgType","WAHashUtils","WALongInt","WATimeUtils","getMediaTypeFromConsumerMessage"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=(a=a.encryptedTransportMessage())==null?void 0:(a=a.consumerMessage())==null?void 0:a.proto;a=d("getMediaTypeFromConsumerMessage").getMediaTypeFromConsumerMessage(a);if(a==null)return;switch(a){case"ptt":return d("MAWMsgType").MSG_TYPE.PTT;case"image":return d("MAWMsgType").MSG_TYPE.IMAGE;case"video":return d("MAWMsgType").MSG_TYPE.VIDEO;case"gif":return d("MAWMsgType").MSG_TYPE.GIF;case"sticker":return d("MAWMsgType").MSG_TYPE.STICKER;case"document":return d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE;case"xma-image":return;case"md-app-state":return;default:return a}}function a(a){var b,c=a.deserialize().encryptedTransportMessage();if(c==null)return;var e=h(a.deserialize());if(e==null)return;b={ack:d("MAWAckLevel").ACK.received,chatJid:a.getChatJid(),externalId:a.getExternalId(),forwardingScore:(b=(b=c.proto.metadata)==null?void 0:b.forwardingScore)!=null?b:0,groupId:(b=c.proto.metadata)==null?void 0:b.groupId,groupIndex:(b=c.proto.metadata)==null?void 0:b.groupIndex,groupSize:(b=c.proto.metadata)==null?void 0:b.groupSize,isAdminMessage:!1,isAuthorMe:a.isAuthorMe(),isForwarded:(c=(b=c.proto.metadata)==null?void 0:b.isForwarded)!=null?c:!1,msgId:a.getMsgId(),sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:e};return{kind:"bridgeMsg",value:b}}function b(a){var b,e,f,g,i;b=(b=a.message.deserialize().encryptedTransportMessage())==null?void 0:b.consumerMessage();if(b==null)return a;e=(e=b.documentMessage())==null?void 0:e.fileName;f=(f=(f=(f=(f=(f=(f=b.audioMessage())==null?void 0:f.payload)!=null?f:(f=b.documentMessage())==null?void 0:f.payload)!=null?f:(f=b.imageMessage())==null?void 0:f.payload)!=null?f:(f=b.stickerMessage())==null?void 0:f.payload)!=null?f:(f=b.videoMessage())==null?void 0:f.payload)!=null?f:{};var j=f.ancillary;f=f.integral;if((j==null?void 0:j.receiverFetchId)!=null||(f==null?void 0:f.receiverFetchId)!=null)return a;var k=h(a.message.deserialize());if(k==null||j==null||f==null){k==null&&(j!=null||f!=null)&&c("FBLogger")("mps").mustfix("media type is null but ancillary or integral is not: %s",a.topLevel.kind);return a}var l=a.message.getMsgId();g=f==null?void 0:(g=f.transport)==null?void 0:(g=g.integral)==null?void 0:g.mediaKeyTimestamp;i=f==null?void 0:(i=f.transport)==null?void 0:(i=i.integral)==null?void 0:i.fileSha256;i=i!=null?d("WAHashUtils").toPlaintextHash(i):void 0;k={accessibilitySummaryText:(b=(b=b.imageMessage())==null?void 0:(b=b.caption)==null?void 0:b.text)!=null?b:(b=j.caption)==null?void 0:b.text,defaultFilename:e,duration:((b=j.seconds)!=null?b:0)*1e3,filenames:e!=null?(b={},b[l]=e,b):void 0,filesize:d("WALongInt").numberOrThrowIfTooLarge((e=f==null?void 0:(e=f.transport)==null?void 0:(b=e.ancillary)==null?void 0:b.fileLength)!=null?e:0),hasMedia:!0,hasPreviewMedia:(f==null?void 0:(b=f.transport)==null?void 0:(e=b.ancillary)==null?void 0:e.thumbnail)!=null,mediaId:d("MAWDbMedia").convertNumberToMediaId(0),mediaType:k,messagesSortOrderMs:(b={},b[l]=a.message.topLevel.timestampMs,b),msgIds:[a.message.getMsgId()],offlineAttachmentId:i,plaintextHash:i,previewHeight:f==null?void 0:(e=f.transport)==null?void 0:(k=e.ancillary)==null?void 0:(l=k.thumbnail)==null?void 0:l.thumbnailHeight,previewHeightLarge:j==null?void 0:j.height,previewWidth:f==null?void 0:(b=f.transport)==null?void 0:(i=b.ancillary)==null?void 0:(e=i.thumbnail)==null?void 0:e.thumbnailWidth,previewWidthLarge:j==null?void 0:j.width,sortOrderMs:g!=null?d("WATimeUtils").castLongIntToMillisTime(g):void 0,threadJid:a.message.getChatJid(),transportKey:"WhatsApp",ts:a.message.getUnixTs()};a.supplementals.push({kind:"bridgeMedia",value:k});return a}g.getMediaTypeForMedia=h;g.mediaToBridge=a;g.processAttachment=b}),98);
__d("mwv2MessageIsEmojiOnly",["EmojiRenderer","EmoticonRenderer","ReStoreVaulting"],(function(a,b,c,d,e,f,g){"use strict";var h=/^[ \r\n\s]*$/;function a(a,b){if(a==null)return!1;var c=d("ReStoreVaulting").maybeUnvault(a);a=d("EmojiRenderer").parse(c).map(function(a){return{length:a.length,offset:a.offset}});b=b?d("EmoticonRenderer").parse(c).map(function(a){return{length:a.chars.length,offset:a.offset}}):[];a=a.concat(b);if(a.length===0)return!1;b=a.sort(function(a,b){return a.offset-b.offset|0});var e={contents:0},f={contents:0};a=b.some(function(a){e.contents===a.offset?(e.contents=e.contents+a.length|0,f.contents=e.contents):f.contents=a.offset;var b=c.substring(e.contents,f.contents);e.contents=a.offset+a.length|0;return h.test(b)===!1});b=e.contents!==c.length&&!h.test(c.substring(f.contents));if(a)return!1;else return!b}g["default"]=a}),98);
__d("MpsMessageTextToBridge",["MAWAckLevel","MAWVault","WAJids","WAMsgType","maybeConvertMessageTextMentionsV2ToV1","mwv2MessageIsEmojiOnly"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,e,f=a.deserialize().encryptedTransportMessage(),g=f==null?void 0:f.consumerMessage();b=c("maybeConvertMessageTextMentionsV2ToV1")(g==null?void 0:(b=g.payload)==null?void 0:(b=b.content)==null?void 0:b.messageText);if(g==null||b==null||f==null)return;e=(e=b.text)!=null?e:"";var h=c("mwv2MessageIsEmojiOnly")(e,!0);h||(e+="*");e=d("MAWVault").vault(e);e={ack:d("MAWAckLevel").ACK.received,chatJid:a.getChatJid(),commands:b.commands,content:e,externalId:a.getExternalId(),forwardingScore:(e=(h=f.proto.metadata)==null?void 0:h.forwardingScore)!=null?e:0,isAdminMessage:!1,isAuthorMe:a.isAuthorMe(),isForwarded:(e=(h=f.proto.metadata)==null?void 0:h.isForwarded)!=null?e:!1,mentionedJids:b.mentionedJid.map(d("WAJids").validateUserJid).filter(Boolean),msgId:a.getMsgId(),sender:a.message.senderId,sortOrderMs:a.message.timestampMs,specialTextSize:(h=(f=g.metadata)==null?void 0:f.specialTextSize)!=null?h:void 0,ts:a.getUnixTs(),type_:d("WAMsgType").MSG_TYPE.TEXT};return{kind:"bridgeMsg",value:e}}g.messageTextToBridgeMsg=a}),98);
__d("MpsReactionToBridge",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;b=(b=a.deserialize().encryptedTransportMessage())==null?void 0:(b=b.consumerMessage())==null?void 0:(b=b.payload)==null?void 0:(b=b.content)==null?void 0:b.reactionMessage;if(b==null)return;b={reaction:{actorId:a.message.senderId,chatJid:a.getChatJid(),messageId:a.topLevelMetadata().getMsgId(),reaction:(b=b.text)!=null?b:"",ts:a.topLevelMetadata().getUnixTs()},type:"upsert"};return{kind:"bridgeReactionAction",value:b}}f.reactionMessageToBridgeMsg=a}),66);
__d("MpsReceiverFetchInfoToBridge",["WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c,e;b=(b=a.message.deserialize().encryptedTransportMessage())==null?void 0:b.consumerMessage();if(b==null)return a;b=(b=(b=b.stickerMessage())==null?void 0:b.payload)!=null?b:{};var f=b.ancillary;b=b.integral;c=(c=b==null?void 0:b.receiverFetchId)!=null?c:f==null?void 0:f.receiverFetchId;b=b==null?void 0:(b=b.transport)==null?void 0:(b=b.ancillary)==null?void 0:b.mimetype;if(c==null||b==null)return a;e=(e=f==null?void 0:f.width)!=null?e:0;f=(f=f==null?void 0:f.height)!=null?f:0;b={mimetype:b,msgId:a.message.getMsgId(),previewHeight:f,previewWidth:e,receiverFetchId:c,sortOrderMs:d("WATimeUtils").castLongIntToMillisTime(a.message.message.timestampMs),threadJid:a.message.getChatJid(),transportKey:"WhatsApp",type:"sticker"};a.supplementals.push({kind:"bridgeReceiverFetchInfo",value:b});return a}g.processReceiverFetchInfo=a}),98);
__d("MpsReplyToBridge",["WAJids"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.message,c=a.supplementals,e=a.topLevel,f=b.deserialize().encryptedTransportMessage();if(e.kind!=="bridgeMsg"||f==null)return a;f=(f=f.proto.metadata)==null?void 0:f.quotedMessage;if(f==null)return a;a=f.participant!=null?d("WAJids").validateUserJid(f==null?void 0:f.participant):null;a=a!=null?d("WAJids").userIdFromJid(a):void 0;e.value=babelHelpers["extends"]({},e.value,{replySourceId:f==null?void 0:f.stanzaId,replyToUserId:a});return{message:b,supplementals:c,topLevel:e}}g.processReplyMessage=a}),98);
__d("MpsRevokeMessageToBridgeMsg",["MAWAckLevel","WAMsgType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c=a.deserialize().encryptedTransportMessage();b=c==null?void 0:(b=c.consumerMessage())==null?void 0:(b=b.payload)==null?void 0:(b=b.applicationData)==null?void 0:b.revoke;if(c==null||b==null)return;return{kind:"bridgeMsg",value:{ack:d("MAWAckLevel").ACK.received,chatJid:a.getChatJid(),externalId:a.getExternalId(),forwardingScore:(b=(b=c.proto.metadata)==null?void 0:b.forwardingScore)!=null?b:0,isAdminMessage:!1,isAuthorMe:a.isAuthorMe(),isForwarded:(c=(b=c.proto.metadata)==null?void 0:b.isForwarded)!=null?c:!1,msgId:a.getMsgId(),sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:d("WAMsgType").MSG_TYPE.REVOKED}}}g.revokeMessageToBridgeMsg=a}),98);
__d("MpsScreenshotActionToBridgeMsg",["MAWAckLevel","MAWEphemeralUtils","WAArmadilloApplication.pb","WAMsgType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c=a.deserialize().encryptedTransportMessage();b=c==null?void 0:(b=c.armadillo())==null?void 0:(b=b.proto.payload)==null?void 0:(b=b.content)==null?void 0:b.screenshotAction;if(b==null||c==null)return;b=d("MAWEphemeralUtils").getEphemeralScreenshotActionData((c=b.screenshotType)!=null?c:d("WAArmadilloApplication.pb").ARMADILLO_CONTENT_SCREENSHOT_ACTION_SCREENSHOT_TYPE.SCREENSHOT_IMAGE,a.getSenderJid(),a.isAuthorMe());c={ack:d("MAWAckLevel").ACK.received,adminContent:b.ephemeralScreenshotActionContent,adminType:b.ephemeralScreenshotActionType,adminVersion:1,chatJid:a.getChatJid(),externalId:a.getExternalId(),forwardingScore:0,isAdminMessage:!0,isAuthorMe:a.isAuthorMe(),isForwarded:!1,msgId:a.getMsgId(),sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:d("WAMsgType").MSG_TYPE.ADMIN};return{kind:"bridgeMsg",value:c}}g.screenshotActionToBridgeMsg=a}),98);
__d("MpsMessageToBridge",["MpsAdminMsgToBridge","MpsBumpMessageToBridgeMsg","MpsEditToBridge","MpsEphemeralMessageToBridge","MpsMediaToBridge","MpsMessageTextToBridge","MpsMessageToBridgeWrapper","MpsReactionToBridge","MpsReceiverFetchInfoToBridge","MpsReplyToBridge","MpsRevokeMessageToBridgeMsg","MpsScreenshotActionToBridgeMsg"],(function(a,b,c,d,e,f,g){"use strict";var h=[d("MpsMessageTextToBridge").messageTextToBridgeMsg,d("MpsEditToBridge").editMessageToBridgeMsg,d("MpsReactionToBridge").reactionMessageToBridgeMsg,d("MpsMediaToBridge").mediaToBridge,d("MpsAdminMsgToBridge").adminMsgToBridgeMsg,d("MpsScreenshotActionToBridgeMsg").screenshotActionToBridgeMsg,d("MpsRevokeMessageToBridgeMsg").revokeMessageToBridgeMsg,d("MpsBumpMessageToBridgeMsg").bumpMessageToBridgeMsg],i=[d("MpsEditToBridge").processEditedMessage,d("MpsReplyToBridge").processReplyMessage,d("MpsMediaToBridge").processAttachment,d("MpsEphemeralMessageToBridge").processEphemeralMessage,d("MpsReceiverFetchInfoToBridge").processReceiverFetchInfo];function j(a){for(var b of h){var c=b(a);if(c!=null)return c}}function a(a){var b=d("MpsMessageToBridgeWrapper").MpsMessageToBridgeWrapper.fromTopLevel(a.toplevelProtobuf),c=j(b);if(c==null)return;var e=a.supplementalProtobufs.values().toArray().map(function(b){return j(d("MpsMessageToBridgeWrapper").MpsMessageToBridgeWrapper.fromSupplemental(b,a.toplevelProtobuf))}).filter(Boolean);b=i.reduce(function(a,b){return b(a)},{message:b,supplementals:e,topLevel:c});return{supplementals:b.supplementals,topLevel:b.topLevel}}g.mpsFullMessagetoBridge=a}),98);
__d("WAAbPropsTypes",[],(function(a,b,c,d,e,f){"use strict";a={noyb_opt_out_flag:[3488,"bool",!1,!1],service_improvement_opt_out_flag:[3664,"bool",!1,!1],msgrw_test_bool:[704,"bool",!1,!1],msgrw_test_int:[705,"int",0,0],msgrw_test_string:[706,"string","test_string","test_string"],msgrw_test_float:[707,"float",1,1],msgrw_icdc_alert_trigger_failure_count:[1233,"int",8,8],msgrw_icdc_cooldown_interval_in_minutes:[1234,"int",35,35],msgrw_icdc_interval_in_minutes:[1236,"int",1500,1500],msgrw_logger_entries:[1298,"int",0,0],msgrw_max_keys:[2453,"int",812,812],msgrw_job_manager_conf:[2667,"string",'{"maxConcurrency": 5,"bestEffortWaitTimeoutSec": 300,"highPriorityQuota":5,"lowPriorityQuota":1}','{"maxConcurrency": 5,"bestEffortWaitTimeoutSec": 300,"highPriorityQuota":5,"lowPriorityQuota":1}'],client_group_participants_limit:[618,"int",257,257],client_group_name_length_limit:[1200,"int",25,25]};f.ABPropConfigs=a}),66);
__d("WAAbPropsToUI",["WAAbPropsTypes"],(function(a,b,c,d,e,f,g){"use strict";var h=["client_group_participants_limit","client_group_name_length_limit"];function a(a){var b=a!=null?a:{},c={};h.forEach(function(a){b[a]!=null?c[a]=b[a]:c[a]=d("WAAbPropsTypes").ABPropConfigs[a][2]});return c}g.prepareAbPropsForUI=a}),98);
__d("WADbContact",[],(function(a,b,c,d,e,f){"use strict";a=0;b=1;c=2;d=3;f.NON_CONTACT=a;f.ONE_WAY_CONTACT=b;f.REVERSED_ONE_WAY_CONTACT=c;f.TWO_WAY_CONTACT=d}),66);
__d("WAOfflineUtils",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["INIT","OFFLINE_RESUME","ONLINE"]);c=b("$InternalEnum")({Initializing:"initializing",Failed:"failed",Processing:"processing",Complete:"complete"});f.ServerRPCMode=a;f.WAClientInfraOfflineProgress=c}),66);
__d("isMAWUniversalSearchWithEBEnabled",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("4741")}g["default"]=a}),98);
__d("useAsyncReStore",["LSDatabaseSingleton","Promise","ReStoreProvider.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;c=i||d("react");var l=c.useContext,m=c.useMemo;function a(){var a=l((k||(k=d("ReStoreProvider.react"))).context);return m(function(){return a!=null?(h||(h=b("Promise"))).resolve(a):(j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton},[a])}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSWriteSupplementalMessage",["LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][writeSupplementalMessage] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.filter(c.db.table(302).fetch(),function(b){return b.threadId===a[1]&&b.toplevelOfflineThreadingId===a[2]&&b.supplementalKey===a[3]}).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=void 0:(b=a.item,d[2]=b.messageTimestampMs)})},function(b){return c.i64.neq(d[2],void 0)?c.sequence([function(b){return c.i64.gt(d[2],a[5])?c.resolve(d[11]=!1):c.sequence([function(b){return c.forEach(c.filter(c.db.table(302).fetch(),function(b){return b.threadId===a[1]&&b.toplevelOfflineThreadingId===a[2]&&b.supplementalKey===a[3]}),function(a){return a["delete"]()})},function(b){return c.db.table(302).add({pk:void 0,messagePayload:a[0],threadId:a[1],toplevelOfflineThreadingId:a[2],supplementalKey:a[3],offlineThreadingId:a[4],messageTimestampMs:a[5]})},function(a){return d[11]=!0}])},function(a){return d[4]=d[11]}]):c.sequence([function(b){return c.forEach(c.filter(c.db.table(302).fetch(),function(b){return b.threadId===a[1]&&b.toplevelOfflineThreadingId===a[2]&&b.supplementalKey===a[3]}),function(a){return a["delete"]()})},function(b){return c.db.table(302).add({pk:void 0,messagePayload:a[0],threadId:a[1],toplevelOfflineThreadingId:a[2],supplementalKey:a[3],offlineThreadingId:a[4],messageTimestampMs:a[5]})},function(a){return d[4]=!0}])},function(a){return d[5]=c.i64.of_float(Date.now()),d[6]=c.i64.random(),d[8]="Finishing execution. Execution time: ",d[9]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[10]=" ms",d[7]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][writeSupplementalMessage] ",d[7],d[8],d[7],d[9],d[7],d[10]].join("")),c.i64.eq(c.i64.mod_(d[6],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[11]=",",d[12]=c.createArray(),void 0!==void 0?d[13]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"writeSupplementalMessage",[d[8],d[11],d[9],d[11],d[10]].join(""),d[12],c.i64.cast([0,4]))):c.resolve()},function(a){return e[0]=d[4]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMPSWriteSupplementalMessageStoredProcedure";a.__tables__=["local_message_persistence_store_supplemental"];e.exports=a}),null);
__d("LSWriteSupplementalMessageStoredProcedure",["LSSynchronousPromise","LSWriteSupplementalMessage","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSWriteSupplementalMessage"),e.messagePayload,e.threadId,e.toplevelOfflineThreadingId,e.supplementalKey,e.offlineThreadingId,e.messageTimestampMs);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSWriteTopLevelMessage",["LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][writeTopLevelMessage] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=void 0:(b=a.item,d[2]=b.messageTimestampMs)})},function(b){return c.i64.neq(d[2],void 0)?c.sequence([function(b){return c.i64.gt(d[2],a[3])?c.resolve(d[11]=!1):c.sequence([function(b){return c.filter(c.db.table(303).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}).next().then(function(a,b){b=a.done;a=a.value;return b?d[12]=!1:(a.item,d[12]=!0)})},function(b){return d[12]?c.sequence([function(b){return c.forEach(c.filter(c.db.table(303).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}),function(b){var c=b.update;b.item;return c({deletedMessagePayload:a[0],isLocalOnlyMessage:a[4],messageTimestampMs:a[3]})})},function(b){return c.forEach(c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]&&c.i64.eq(b.messageTimestampMs,c.i64.cast([-1,4294967295]))}),function(b){var c=b.update;b.item;return c({messageTimestampMs:a[3]})})},function(a){return d[14]=!1}]):c.sequence([function(b){return c.forEach(c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}),function(a){return a["delete"]()})},function(b){return c.db.table(301).add({pk:void 0,messagePayload:a[0],threadId:a[1],offlineThreadingId:a[2],messageTimestampMs:a[3],isLocalOnlyMessage:a[4],extraData:a[5]})},function(a){return d[14]=!0}])},function(a){return d[11]=d[14]}])},function(a){return d[4]=d[11]}]):c.sequence([function(b){return c.filter(c.db.table(303).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}).next().then(function(a,b){b=a.done;a=a.value;return b?d[11]=!1:(a.item,d[11]=!0)})},function(b){return d[11]?c.sequence([function(b){return c.forEach(c.filter(c.db.table(303).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}),function(b){var c=b.update;b.item;return c({deletedMessagePayload:a[0],isLocalOnlyMessage:a[4],messageTimestampMs:a[3]})})},function(b){return c.forEach(c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]&&c.i64.eq(b.messageTimestampMs,c.i64.cast([-1,4294967295]))}),function(b){var c=b.update;b.item;return c({messageTimestampMs:a[3]})})},function(a){return d[13]=!1}]):c.sequence([function(b){return c.forEach(c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}),function(a){return a["delete"]()})},function(b){return c.db.table(301).add({pk:void 0,messagePayload:a[0],threadId:a[1],offlineThreadingId:a[2],messageTimestampMs:a[3],isLocalOnlyMessage:a[4],extraData:a[5]})},function(a){return d[13]=!0}])},function(a){return d[4]=d[13]}])},function(a){return d[5]=c.i64.of_float(Date.now()),d[6]=c.i64.random(),d[8]="Finishing execution. Execution time: ",d[9]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[10]=" ms",d[7]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][writeTopLevelMessage] ",d[7],d[8],d[7],d[9],d[7],d[10]].join("")),c.i64.eq(c.i64.mod_(d[6],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[11]=",",d[12]=c.createArray(),void 0!==void 0?d[13]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"writeTopLevelMessage",[d[8],d[11],d[9],d[11],d[10]].join(""),d[12],c.i64.cast([0,4]))):c.resolve()},function(a){return e[0]=d[4]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMPSWriteTopLevelMessageStoredProcedure";a.__tables__=["local_message_persistence_store","local_message_persistence_store_deleted_messages"];e.exports=a}),null);
__d("LSWriteTopLevelMessageStoredProcedure",["LSSynchronousPromise","LSWriteTopLevelMessage","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSWriteTopLevelMessage"),e.messagePayload,e.threadId,e.offlineThreadingId,e.messageTimestampMs,e.isLocalOnlyMessage,e.extraData);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MessageBackupTagsDelimiter",[],(function(a,b,c,d,e,f){"use strict";a=":";f.INSTAMADILLO_TAG_DELIMITER=a}),66);
__d("EncryptedBackupsWriteToMPSTables",["EncryptedBackupsUploadEntity","FBLogger","I64","IGDWEBUploadMessageUtils","LSFactory","LSWriteSupplementalMessageStoredProcedure","LSWriteTopLevelMessageStoredProcedure","MAWEBFrontendQPLLogger","MessageBackupTagsDelimiter","Promise","WAErrorMessage","WAGetSafeQPLError","asyncToGeneratorRuntime","err","gkx","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("ReverbWriteFailureFalcoEvent").__setRef("EncryptedBackupsWriteToMPSTables"),k=c("requireDeferred")("ReverbWriteSuccessFalcoEvent").__setRef("EncryptedBackupsWriteToMPSTables"),l=c("gkx")("8488");function m(a,b,d,e,f,g){e?c("promiseDone")(k.load(),function(c){return c.log(function(){return{backup_action:d,backup_protocol:f,labyrinth_version:0,message_id:a,thread_id:b}})}):c("promiseDone")(j.load(),function(c){return c.log(function(){return{backup_action:d,backup_protocol:f,failure_reason:g,labyrinth_version:0,message_id:a,thread_id:b}})})}function a(a,b,c,d,e){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,j){var k=e.backupActionType,n=e.instamadilloItemId,o=e.msgId,p=e.originalMsgProtocolId,q=e.protobuf,r=e.serverTs,s=e.sortOrderMs;e=e.supplementalKey;j!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(j,"mps_tables_write_start");o=o.externalId;p=p==null?void 0:p.externalId;n=(n=n)!=null?n:s;if(n==null){j!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(j,"mps_tables_write_missing_protobuf_ts");throw c("err")("protobufTimestampMs is null when writing to MPS tables")}s=(i||(i=d("I64"))).of_float(n);n=!1;var t=l?"protobuf_only":"dual_upload";g&&(t="open_eb_ttlc");switch(k){case 1:j!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(j,"mps_top_level_write_start");try{g=(yield c("LSWriteTopLevelMessageStoredProcedure")(c("LSFactory")(a),{isLocalOnlyMessage:!1,messagePayload:d("EncryptedBackupsUploadEntity").getEbBackupMessageBytesBuffer(q),messageTimestampMs:s,offlineThreadingId:o,threadId:f}));k=g[0];k&&(n=!0);m(o,f,"upsert_top_level",k,t);j!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(j,"mps_top_level_write",{bool:{mps_top_level_write_succesful:k}})}catch(a){m(o,f,"upsert_top_level",!1,t,d("WAErrorMessage").maybeGetMessageFromError(a)),j!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(j,"mps_top_level_write_error",{string:{mps_top_level_write_error:d("WAGetSafeQPLError").getSafeQPLErrorMessage(a)}})}break;case 2:j!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(j,"mps_supplemental_write_start");if(p==null||e==null)m(o,f,"upsert_supplemental",!1,t),c("FBLogger")("labyrinth_web").warn("Missing toplevelOfflineThreadingId or supplementalKey when writing to MPS tables");else try{g=(yield c("LSWriteSupplementalMessageStoredProcedure")(c("LSFactory")(a),{messagePayload:d("EncryptedBackupsUploadEntity").getEbBackupMessageBytesBuffer(q),messageTimestampMs:s,offlineThreadingId:o,supplementalKey:e,threadId:f,toplevelOfflineThreadingId:p}));k=g[0];k&&(n=!0);m(o,f,"upsert_supplemental",k,t);j!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(j,"mps_supplemental_write",{bool:{mps_supplemental_write_successful:k}})}catch(a){m(o,f,"upsert_supplemental",!1,t,d("WAErrorMessage").maybeGetMessageFromError(a)),j!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(j,"mps_supplemental_write_error",{string:{mps_supplemental_write_error:d("WAGetSafeQPLError").getSafeQPLErrorMessage(a)}})}break;case 4:j!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(j,"mps_delete_top_level_with_placeholder_write_start");if(p==null)break;try{s=(yield c("LSWriteTopLevelMessageStoredProcedure")(c("LSFactory")(a),{isLocalOnlyMessage:!1,messagePayload:d("EncryptedBackupsUploadEntity").getEbBackupMessageBytesBuffer(q),messageTimestampMs:(i||(i=d("I64"))).of_float(d("IGDWEBUploadMessageUtils").generateProtobufServerTs(p,r)),offlineThreadingId:o,threadId:f}));e=s[0];e&&(n=!0);m(p,f,"delete_top_level",e,t);j!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(j,"mps_delete_top_level_with_placeholder_write",{bool:{mps_delete_top_level_with_placeholder_write_successful:e}})}catch(a){m(p,f,"delete_top_level_with_placeholder",!1,t,d("WAErrorMessage").maybeGetMessageFromError(a)),j!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(j,"mps_delete_top_level_with_placeholder_write_error",{string:{mps_delete_top_level_with_placeholder_write_error:d("WAGetSafeQPLError").getSafeQPLErrorMessage(a)}})}break;case 3:n=!0;p!=null&&m(p,f,"delete_top_level",!1,t);break;default:j!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(j,"mps_write_unsupported_backup_action_type"),c("FBLogger")("labyrinth_web").warn("Unsupported backupActionType when writing to MPS tables")}if(n){j!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(j,"mps_write_successful");return(h||(h=b("Promise"))).resolve(n)}else{j!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(j,"mps_write_unsuccessful");throw c("err")("Unsuccessful writing to MPS tables")}});return n.apply(this,arguments)}function e(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=b.msgId,f=b.sortOrderMs;b=b.tags;b!=null&&b.length!==0&&f!=null&&(yield a.local_message_persistence_store_tag_index.put({localMessagePersistenceStoreKey:(i||(i=d("I64"))).of_string(e.externalId),messageTimestampMs:i.of_float(f),offlineThreadingId:e.externalId,tag:b.join(d("MessageBackupTagsDelimiter").INSTAMADILLO_TAG_DELIMITER),threadId:c}))});return o.apply(this,arguments)}g.writeToMPSTables=a;g.writeTagsToMPSTables=e}),98);
__d("LSEncryptedBackupsAttachmentErrorCode",[],(function(a,b,c,d,e,f){a=Object.freeze({NO_ERROR:0,UNKNOWN_ERROR:1,MEDIA_TYPE_MISSING:2,PRODUCT_TYPE_MISSING:3,SERIALIZATION_ERROR:21});f["default"]=a}),66);
__d("LSInstagramE2EEEligibility",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:-1,INELIGIBLE:0,ELIGIBLE:1,REQUIRED:2,DUAL_SEND_ELIGIBLE:3,GROUPS_ELIGIBLE:4});f["default"]=a}),66);
__d("LSSerializeAttachmentBackupPayload",["LSArrayGetObjectAt","LSBase64Encode.nop","LSGetBlobFromString.nop","LSHmac_v2.nop","LSIsEncryptionVersionSecure","LSLogMebClientEvent.nop","LSOcmfClientMap.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][serializeAttachmentBackupPayload] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[2]=void 0,d[3]=c.i64.of_int32(a[0].length),c.i64.gt(d[3],c.i64.cast([0,0]))?c.loopAsync(d[3],function(e){return d[17]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[0],d[17]).then(function(a){return a=a,d[18]=a[0],d[19]=a[1],a})},function(a){return d[20]=d[18].get("attachment_trace_id"),d[2]=d[20]}])}):c.resolve()},function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[17]=new c.Map(),d[17].set("error_msg","Expected a nonempty query result"),d[17].set("code",c.i64.cast([0,3])),d[17].set("src_line","MEBClientStateUtils.php:244 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[18]=c.createArray(),d[19]=(d[18].push(d[17]),d[18]),e=[void 0,d[18]],d[4]=e[0],d[5]=e[1],e):(b=a.item,d[17]=new c.Map(),d[17].set("backup_id",b.backupId),d[17].set("device_public_key_blob",b.devicePublicKeyBlob),d[17].set("device_private_key_blob",b.devicePrivateKeyBlob),d[17].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[17].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[17].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[17].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[17].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[17].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[17].set("orf_client_state_v2_blob",void 0),d[17].set("orf_v2_authority_level",void 0),d[17].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[17].set("device_id",b.deviceId),d[17].set("backup_tenancy",b.backupTenancy),d[17].set("encryption_version",b.encryptionVersion),d[17].set("revision_version",b.revisionVersion),d[17].set("initialize_restore_result",void 0),d[17].set("authority_level",b.authorityLevel),e=[d[17],void 0],d[4]=e[0],d[5]=e[1],e)})},function(e){return d[7]=new c.Map(),d[7].set("value",d[4]),d[7].set("errors",d[5]),d[8]=d[7].get("value"),d[8]!==void 0?c.sequence([function(e){return d[17]=d[8].get("backup_id"),d[18]=d[8].get("device_public_key_blob"),d[19]=d[8].get("device_private_key_blob"),d[20]=d[8].get("epoch_storage_public_key_blob"),d[21]=d[8].get("epoch_storage_private_key_blob"),d[22]=d[8].get("epoch_auth_public_key_blob"),d[23]=d[8].get("epoch_auth_private_key_blob"),d[24]=d[8].get("mailbox_root_key_blob"),d[25]=d[8].get("ocmf_client_state_blob"),d[26]=d[8].get("orf_client_state_v2_blob"),d[27]=d[8].get("orf_v2_authority_level"),d[28]=d[8].get("oblivious_validation_token_blob"),d[29]=d[8].get("device_id"),d[30]=d[8].get("backup_tenancy"),d[31]=d[8].get("encryption_version"),d[32]=d[8].get("revision_version"),d[33]=d[8].get("initialize_restore_result"),d[34]=d[8].get("authority_level"),c.i64.neq(d[29],void 0)?c.sequence([function(a){return d[37]=void 0,c.i64.neq(d[37],void 0)?c.resolve(d[38]=d[37]):c.sequence([function(a){return d[43]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[44]=a[0],a})},function(a){return d[44]?d[53]=(d[43].push(c.i64.cast([0,0])),d[43]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[45]=a[0],a})},function(a){return d[45]?d[53]=(d[43].push(c.i64.cast([0,2])),d[43]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[46]=a[0],a})},function(a){return d[46]?d[53]=(d[43].push(c.i64.cast([0,3])),d[43]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[47]=a[0],a})},function(a){return d[47]?d[53]=(d[43].push(c.i64.cast([0,4])),d[43]):0,d[48]=c.createArray(),d[49]=c.i64.of_int32(d[43].length),c.i64.gt(d[49],c.i64.cast([0,0]))?c.loopAsync(d[49],function(a){return d[53]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[43],d[53]).then(function(a){return a=a,d[54]=a[0],d[55]=a[1],a})},function(a){return d[56]=(d[48].push(d[54]),d[48])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[53]=c.createArray(),d[54]=c.i64.of_int32(d[48].length),c.i64.gt(d[54],c.i64.cast([0,0]))?c.loopAsync(d[54],function(a){return d[56]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[48],d[56]).then(function(a){return a=a,d[57]=a[0],d[58]=a[1],a})},function(a){return d[59]=(d[53].push(c.i64.to_string(d[57])),d[53])}])}):c.resolve()},function(a){return d[55]=d[53].join(","),d[50]=d[55]}])},function(a){return d[48].some(function(a){return c.i64.eq(d[31],a)})?d[51]=d[31]:d[51]=void 0,c.i64.neq(d[51],void 0)?d[52]=d[51]:d[52]=void 0,d[38]=d[52]}])},function(e){return c.i64.neq(d[38],void 0)?d[39]=d[38]:d[39]=c.i64.cast([0,0]),c.i64.neq(d[30],void 0)?d[40]=d[30]:d[40]=c.i64.cast([0,1]),c.i64.eq(a[4],c.i64.cast([0,0]))?c.sequence([function(e){return d[43]=c.createArray(),d[44]=c.i64.of_int32(a[0].length),c.i64.gt(d[44],c.i64.cast([0,0]))?c.loopAsync(d[44],function(e){return d[60]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[0],d[60]).then(function(a){return a=a,d[61]=a[0],d[62]=a[1],a})},function(e){return d[63]=d[61].get("media_type"),d[64]=d[61].get("zippy_object_id"),d[83]=d[64],d[65]=d[61].get("attachment_trace_id"),d[66]=c.createArray(),d[84]=(d[66].push(c.i64.to_string(d[17])),d[66]),d[84]=(d[66].push(d[83]),d[66]),d[67]=c.toJSON(d[66]),d[68]=c.createArray(),d[84]=(d[68].push(a[1]),d[68]),d[84]=(d[68].push(d[83]),d[68]),d[69]=c.toJSON(d[68]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[67]).then(function(a){return a=a,d[70]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2NvcGU="),d[70]).then(function(a){return a=a,d[71]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[25],d[71]).then(function(a){return a=a,d[72]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[72]).then(function(a){return a=a,d[73]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[69]).then(function(a){return a=a,d[74]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[74]).then(function(a){return a=a,d[75]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[25],d[75]).then(function(a){return a=a,d[76]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[76]).then(function(a){return a=a,d[77]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[67]).then(function(a){return a=a,d[78]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2FsdF9zY29wZQ=="),d[78]).then(function(a){return a=a,d[79]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[25],d[79]).then(function(a){return a=a,d[80]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[80]).then(function(a){return a=a,d[81]=a[0],a})},function(a){return d[82]=new c.Map(),d[82].set("attachment_index_key",d[73]==null?"":d[73]),d[82].set("media_type",d[63]),d[82].set("zippy_object_id",d[83]),d[82].set("attachment_trace_id",d[65]),d[82].set("salt_partial_access_token",d[77]==null?"":d[77]),d[82].set("salt_partial_attachment_index_key",d[81]==null?"":d[81]),d[84]=(d[43].push(d[82]),d[43])}])}):c.resolve()},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[1]).then(function(a){return a=a,d[45]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWVzc2FnZV9pZF9zY29wZQ=="),d[45]).then(function(a){return a=a,d[46]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[25],d[46]).then(function(a){return a=a,d[47]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[47]).then(function(a){return a=a,d[48]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[1]).then(function(a){return a=a,d[49]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[49]).then(function(a){return a=a,d[50]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[25],d[50]).then(function(a){return a=a,d[51]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[51]).then(function(a){return a=a,d[52]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[2]).then(function(a){return a=a,d[53]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("dGhyZWFkX2lkX3Njb3Bl"),d[53]).then(function(a){return a=a,d[54]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[25],d[54]).then(function(a){return a=a,d[55]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[55]).then(function(a){return a=a,d[56]=a[0],a})},function(b){return d[57]=new c.Map(),d[57].set("attachment_infos",d[43]),d[57].set("message_partial_id",d[48]==null?"":d[48]),d[57].set("product_type",a[3]),d[57].set("salt_partial_id",d[52]==null?"":d[52]),d[57].set("thread_partial_id",d[56]==null?"":d[56]),d[58]=c.toJSON(d[57]),d[59]=new c.Map(),d[59].set("payload",d[58]),b=[d[59],void 0],d[41]=b[0],d[42]=b[1],b}]):c.resolve((a[5]!==void 0?d[43]=a[5]:d[43]="",d[44]=".",d[45]=new c.Map(),d[45].set("error_code",c.i64.cast([-1,4294967295])),d[45].set("stored_procedure","LSEncryptedBackupsSerializeAttachmentBackupPayloadStoredProcedure"),d[45].set("error_message",d[43]),e=[void 0,d[45]],d[41]=e[0],d[42]=e[1],e))},function(a){return a=[d[41],d[42]],d[35]=a[0],d[36]=a[1],a}]):c.resolve((d[37]=".",d[38]=new c.Map(),d[38].set("error_code",c.i64.cast([0,24])),d[38].set("stored_procedure","LSEncryptedBackupsSerializeAttachmentBackupPayloadStoredProcedure"),d[38].set("error_message",""),e=[void 0,d[38]],d[35]=e[0],d[36]=e[1],e))},function(a){return a=[d[35],d[36]],d[9]=a[0],d[10]=a[1],a}]):c.resolve((d[17]=d[7].get("errors"),d[18]=d[7].get("errors"),d[19]=".",d[20]=new c.Map(),d[20].set("error_code",c.i64.cast([0,1])),d[20].set("stored_procedure","LSEncryptedBackupsSerializeAttachmentBackupPayloadStoredProcedure"),d[20].set("error_message",""),e=[void 0,d[20]],d[9]=e[0],d[10]=e[1],e))},function(a){return d[11]=c.i64.of_float(Date.now()),d[12]=c.i64.random(),d[14]="Finishing execution. Execution time: ",d[15]=c.i64.to_string(c.i64.sub(d[11],d[0])),d[16]=" ms",d[13]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][serializeAttachmentBackupPayload] ",d[13],d[14],d[13],d[15],d[13],d[16]].join("")),c.i64.eq(c.i64.mod_(d[12],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[17]=",",d[18]=c.createArray(),void 0!==void 0?d[19]=(d[18].push(void 0),d[18]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"serializeAttachmentBackupPayload",[d[14],d[17],d[15],d[17],d[16]].join(""),d[18],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[9],d[10]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsSerializeAttachmentBackupPayloadStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state"];e.exports=a}),null);
__d("LSWriteToPendingProtobufBackupsContextV2",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(305).add({pk:void 0,pendingBackupTaskId:a[0],actThreadId:a[1],toplevelOfflineThreadingId:a[2],messageTimestampMs:a[6],backupAction:a[7],supplementalKey:a[5],attachmentPayload:a[8],senderId:a[9]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSEncryptedBackupsWriteToPendingProtobufBackupsContextV2StoredProcedure";a.__tables__=["pending_protobuf_backups_context"];e.exports=a}),null);
__d("LSIssueMessageBackup",["LSArrayGetObjectAt","LSIsEncryptionVersionSecure","LSIssueNewTaskAndGetTaskID","LSLogMebClientEvent.nop","LSSerializeAttachmentBackupPayload","LSWriteToPendingProtobufBackupsContextV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][issueMessageBackup] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[15]=new c.Map(),d[15].set("error_msg","Expected a nonempty query result"),d[15].set("code",c.i64.cast([0,3])),d[15].set("src_line","MEBClientStateUtils.php:244 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[16]=c.createArray(),d[17]=(d[16].push(d[15]),d[16]),e=[void 0,d[16]],d[2]=e[0],d[3]=e[1],e):(b=a.item,d[15]=new c.Map(),d[15].set("backup_id",b.backupId),d[15].set("device_public_key_blob",b.devicePublicKeyBlob),d[15].set("device_private_key_blob",b.devicePrivateKeyBlob),d[15].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[15].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[15].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[15].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[15].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[15].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[15].set("orf_client_state_v2_blob",void 0),d[15].set("orf_v2_authority_level",void 0),d[15].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[15].set("device_id",b.deviceId),d[15].set("backup_tenancy",b.backupTenancy),d[15].set("encryption_version",b.encryptionVersion),d[15].set("revision_version",b.revisionVersion),d[15].set("initialize_restore_result",void 0),d[15].set("authority_level",b.authorityLevel),e=[d[15],void 0],d[2]=e[0],d[3]=e[1],e)})},function(e){return d[5]=new c.Map(),d[5].set("value",d[2]),d[5].set("errors",d[3]),d[6]=d[5].get("value"),d[6]!==void 0?c.sequence([function(e){return d[15]=d[6].get("backup_id"),d[16]=d[6].get("device_public_key_blob"),d[17]=d[6].get("device_private_key_blob"),d[18]=d[6].get("epoch_storage_public_key_blob"),d[19]=d[6].get("epoch_storage_private_key_blob"),d[20]=d[6].get("epoch_auth_public_key_blob"),d[21]=d[6].get("epoch_auth_private_key_blob"),d[22]=d[6].get("mailbox_root_key_blob"),d[23]=d[6].get("ocmf_client_state_blob"),d[24]=d[6].get("orf_client_state_v2_blob"),d[25]=d[6].get("orf_v2_authority_level"),d[26]=d[6].get("oblivious_validation_token_blob"),d[27]=d[6].get("device_id"),d[28]=d[6].get("backup_tenancy"),d[29]=d[6].get("encryption_version"),d[30]=d[6].get("revision_version"),d[31]=d[6].get("initialize_restore_result"),d[32]=d[6].get("authority_level"),c.i64.neq(d[27],void 0)?c.sequence([function(a){return d[35]=void 0,c.i64.neq(d[35],void 0)?c.resolve(d[36]=d[35]):c.sequence([function(a){return d[47]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[48]=a[0],a})},function(a){return d[48]?d[57]=(d[47].push(c.i64.cast([0,0])),d[47]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[49]=a[0],a})},function(a){return d[49]?d[57]=(d[47].push(c.i64.cast([0,2])),d[47]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[50]=a[0],a})},function(a){return d[50]?d[57]=(d[47].push(c.i64.cast([0,3])),d[47]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[51]=a[0],a})},function(a){return d[51]?d[57]=(d[47].push(c.i64.cast([0,4])),d[47]):0,d[52]=c.createArray(),d[53]=c.i64.of_int32(d[47].length),c.i64.gt(d[53],c.i64.cast([0,0]))?c.loopAsync(d[53],function(a){return d[57]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[47],d[57]).then(function(a){return a=a,d[58]=a[0],d[59]=a[1],a})},function(a){return d[60]=(d[52].push(d[58]),d[52])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[57]=c.createArray(),d[58]=c.i64.of_int32(d[52].length),c.i64.gt(d[58],c.i64.cast([0,0]))?c.loopAsync(d[58],function(a){return d[60]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[52],d[60]).then(function(a){return a=a,d[61]=a[0],d[62]=a[1],a})},function(a){return d[63]=(d[57].push(c.i64.to_string(d[61])),d[57])}])}):c.resolve()},function(a){return d[59]=d[57].join(","),d[54]=d[59]}])},function(a){return d[52].some(function(a){return c.i64.eq(d[29],a)})?d[55]=d[29]:d[55]=void 0,c.i64.neq(d[55],void 0)?d[56]=d[55]:d[56]=void 0,d[36]=d[56]}])},function(e){var f;return c.i64.neq(d[36],void 0)?d[37]=d[36]:d[37]=c.i64.cast([0,0]),c.i64.neq(d[28],void 0)?d[38]=d[28]:d[38]=c.i64.cast([0,1]),c.sequence([function(e){return a[11]!==void 0?c.sequence([function(e){return d[49]=a[11].get("attachment_infos"),d[50]=a[11].get("attachment_infos"),d[51]=a[11].get("product_type"),d[52]=a[11].get("error"),d[53]=a[11].get("error_message"),c.storedProcedure(b("LSSerializeAttachmentBackupPayload"),d[50],a[1],a[0],d[51],d[52],d[53]).then(function(a){return a=a,d[54]=a[0],d[55]=a[1],a})},function(a){return d[54]?d[56]=!1:d[56]=!0,d[56]?c.sequence([function(a){return d[55]?d[62]=!1:d[62]=!0,d[62]?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsIssueMessageBackupStoredProcedure] Invalid Attachment payload generated"),d[67]="Invalid Attachment payload generated",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueMessageBackupStoredProcedure] ","",d[67]].join("")),d[66]=c.createArray(),void 0!==void 0?d[68]=(d[66].push(void 0),d[66]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueMessageBackupStoredProcedure",d[67],d[66],c.i64.cast([0,3]))},function(a){return a=[void 0,void 0,d[49]],d[63]=a[0],d[64]=a[1],d[65]=a[2],a}]):c.resolve((a=[void 0,d[55],d[49]],d[63]=a[0],d[64]=a[1],d[65]=a[2],a))},function(a){return a=[d[63],d[64],d[65]],d[57]=a[0],d[58]=a[1],d[59]=a[2],a}]):c.resolve((d[62]=d[54].get("payload"),a=[d[62],void 0,d[49]],d[57]=a[0],d[58]=a[1],d[59]=a[2],a))},function(b){return d[62]=new c.Map(),d[63]=d[62].set("success",d[57]),d[64]=d[62].set("failure",d[58]),d[65]=d[62].set("upload_context",d[59]),d[66]=c.toJSON(d[62]),d[60]=d[66],d[61]=a[11].get("error"),b=[d[60],d[61]],d[47]=b[0],d[48]=b[1],b}]):c.resolve((function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssueMessageBackupStoredProcedure] Null Attachments for the message"),e=[void 0,void 0],d[47]=e[0],d[48]=e[1],e))},function(a){return a=[d[47],d[48]],d[39]=a[0],d[40]=a[1],a}])},function(e){return d[45]=c.i64.add(c.i64.mul(c.i64.div(a[2],c.i64.cast([0,1e3])),c.i64.cast([0,1e3])),c.i64.div(c.i64.mod_(c.i64.and_(c.i64.asr_(c.i64.from_string(a[1]),c.i64.to_int32(c.i64.cast([0,22]))),c.i64.cast([511,4294967295])),c.i64.cast([0,1e5])),c.i64.cast([0,100]))),a[9]!==void 0?(d[47]=a[9].get("backup_action"),c.i64.eq(d[47],c.i64.cast([0,4]))?d[48]=a[2]:d[48]=d[45],d[41]=d[48]):d[41]=d[45],d[46]=["Sort Key (",c.i64.to_string(d[41]),") is not in MS. ","auth_ts (",c.i64.to_string(a[2]),"), otid (",a[1],")"].join(""),c.i64.lt(d[41],c.i64.cast([2,1410065408]))?(function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueMessageBackupStoredProcedure] ","",d[46]].join("")),d[47]=c.createArray(),void 0!==void 0?d[48]=(d[47].push(void 0),d[47]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueMessageBackupStoredProcedure",d[46],d[47],c.i64.cast([0,3]))):c.i64.gt(c.i64.sub(d[41],c.i64.cast([249,3468343296])),c.i64.cast([255,4294967295]))?(function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueMessageBackupStoredProcedure] ","",d[46]].join("")),d[47]=c.createArray(),void 0!==void 0?d[48]=(d[47].push(void 0),d[47]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueMessageBackupStoredProcedure",d[46],d[47],c.i64.cast([0,3]))):c.resolve()},function(e){return d[42]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),["eb_upload",":",a[0]].join(""),c.i64.cast([0,50026]),"",void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,93]),void 0,c.i64.le(c.i64.cast([0,0]),c.i64.cast([0,0]))?c.i64.cast([0,0]):c.i64.add(d[42],c.i64.sub(c.i64.cast([0,0]),c.i64.mod_(d[42],c.i64.cast([0,0])))),c.i64.cast([0,0])).then(function(a){return a=a,d[43]=a[0],a})},function(b){return c.db.table(177).add({pk:void 0,pendingBackupTaskId:d[43],actionType:c.i64.cast([0,1]),contentType:c.i64.cast([0,1]),backupStatus:c.i64.cast([0,1]),listKey:a[0],uniqueKey:a[1],sortKey:c.i64.to_string(d[41]),persistentId:"",isInstamadillo:a[12],echoContent:a[4],lsTraceId:a[5],error:a[6],echoEncodingLatencyNs:a[7],errorMessage:a[8],attachmentPayload:d[39],attachmentErrorCode:d[40]})},function(b){return c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))?c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))?(d[47]=c.createArray(),d[49]=(d[47].push("Successfully issued message backup task. act thread id = "),d[47]),d[49]=(d[47].push(a[0]),d[47]),d[49]=(d[47].push(", otid = "),d[47]),d[49]=(d[47].push(a[1]),d[47]),d[48]=d[47].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",d[48]].join("")),c.resolve()):(d[47]=c.createArray(),d[49]=(d[47].push("Successfully issued message remove task. act thread id = "),d[47]),d[49]=(d[47].push(a[0]),d[47]),d[49]=(d[47].push(", otid = "),d[47]),d[49]=(d[47].push(a[1]),d[47]),d[48]=d[47].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",d[48]].join("")),c.resolve()):(d[47]=c.createArray(),d[49]=(d[47].push("Successfully issued thread remove task. act thread id = "),d[47]),d[49]=(d[47].push(a[0]),d[47]),d[48]=d[47].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",d[48]].join("")),c.resolve())},function(e){return a[9]!==void 0?c.sequence([function(e){return d[47]=a[9].get("act_thread_id"),d[48]=a[9].get("backup_action"),d[49]=a[9].get("toplevel_offline_threading_id"),d[50]=a[9].get("supplemental_offline_threading_id"),d[51]=a[9].get("message_timestamp_ms"),d[52]=a[9].get("supplemental_key"),d[53]=a[9].get("attachment_payload"),d[54]=a[9].get("extra_data_for_eb_upload"),d[55]=a[9].get("message_protobuf"),c.storedProcedure(b("LSWriteToPendingProtobufBackupsContextV2"),d[43],d[47],d[49],d[50],void 0,d[52],d[51],d[48],d[53],void 0,d[55],d[54])},function(e){return d[56]=a[9].get("backup_action"),c.i64.eq(d[41],a[2])?(d[58]=["Sort key and authoritative_ts are equal for event type: ",c.i64.to_string(d[56])].join(""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueMessageBackupStoredProcedure] ",d[58]].join("")),d[57]=c.createArray(),void 0!==void 0?d[59]=(d[57].push(void 0),d[57]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueMessageBackupStoredProcedure",d[58],d[57],c.i64.cast([0,4]))):(d[58]=["Sort key (",c.i64.to_string(d[41]),") and authoritative_ts (",c.i64.to_string(a[2]),") are not equal given OTID (",a[1],") for event type: ",c.i64.to_string(d[56])].join(""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueMessageBackupStoredProcedure] ",d[58]].join("")),d[57]=c.createArray(),void 0!==void 0?d[59]=(d[57].push(void 0),d[57]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueMessageBackupStoredProcedure",d[58],d[57],c.i64.cast([0,4])))}]):c.i64.eq(d[41],a[2])?(d[48]=["Sort key and authoritative_ts are equal for event type: ",c.i64.to_string(c.i64.cast([-1,4294967295]))].join(""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueMessageBackupStoredProcedure] ",d[48]].join("")),d[47]=c.createArray(),void 0!==void 0?d[49]=(d[47].push(void 0),d[47]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueMessageBackupStoredProcedure",d[48],d[47],c.i64.cast([0,4]))):(d[48]=["Sort key (",c.i64.to_string(d[41]),") and authoritative_ts (",c.i64.to_string(a[2]),") are not equal given OTID (",a[1],") for event type: ",c.i64.to_string(c.i64.cast([-1,4294967295]))].join(""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueMessageBackupStoredProcedure] ",d[48]].join("")),d[47]=c.createArray(),void 0!==void 0?d[49]=(d[47].push(void 0),d[47]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueMessageBackupStoredProcedure",d[48],d[47],c.i64.cast([0,4])))},function(a){return d[44]=new c.Map(),d[44].set("task_id",d[43]),a=[d[44],void 0],d[33]=a[0],d[34]=a[1],a}]):c.sequence([function(b){return d[35]=c.createArray(),d[38]=(d[35].push("Skipping the message upload since EB is disabled. act thread id = "),d[35]),d[38]=(d[35].push(a[0]),d[35]),d[38]=(d[35].push(", otid = "),d[35]),d[38]=(d[35].push(a[1]),d[35]),d[36]=d[35].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",d[36]].join("")),c.resolve()},function(a){return d[37]=new c.Map(),d[37].set("error_code",c.i64.cast([0,24])),d[37].set("stored_procedure","LSEncryptedBackupsIssueMessageBackupStoredProcedure"),d[37].set("error_message",""),a=[void 0,d[37]],d[33]=a[0],d[34]=a[1],a}])},function(a){return a=[d[33],d[34]],d[7]=a[0],d[8]=a[1],a}]):c.sequence([function(b){return d[15]=d[5].get("errors"),d[16]=d[5].get("errors"),d[17]=c.createArray(),d[20]=(d[17].push("Skipping the message upload since EB is disabled. act thread id = "),d[17]),d[20]=(d[17].push(a[0]),d[17]),d[20]=(d[17].push(", otid = "),d[17]),d[20]=(d[17].push(a[1]),d[17]),d[18]=d[17].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",d[18]].join("")),c.resolve()},function(a){return d[19]=new c.Map(),d[19].set("error_code",c.i64.cast([0,1])),d[19].set("stored_procedure","LSEncryptedBackupsIssueMessageBackupStoredProcedure"),d[19].set("error_message",""),a=[void 0,d[19]],d[7]=a[0],d[8]=a[1],a}])},function(a){return d[9]=c.i64.of_float(Date.now()),d[10]=c.i64.random(),d[12]="Finishing execution. Execution time: ",d[13]=c.i64.to_string(c.i64.sub(d[9],d[0])),d[14]=" ms",d[11]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ",d[11],d[12],d[11],d[13],d[11],d[14]].join("")),c.i64.eq(c.i64.mod_(d[10],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[15]=",",d[16]=c.createArray(),void 0!==void 0?d[17]=(d[16].push(void 0),d[16]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"issueMessageBackup",[d[12],d[15],d[13],d[15],d[14]].join(""),d[16],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[7],d[8]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssueMessageBackupStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","pending_backups_context_v2"];e.exports=a}),null);
__d("LSIssueMessageBackupStoredProcedure",["LSIssueMessageBackup","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueMessageBackup"),e.actThreadId,e.otid,e.authoritativeTs,e.source,e.echoDocument,e.traceId,e.error,e.echoEncodingLatencyNs,e.errorMessage,e.protobufBackupContext,e.tamThreadSubtype,e.attachmentBackupContext,e.isInstamadillo);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSIssueMessageRemove",["LSArrayGetObjectAt","LSIsEncryptionVersionSecure","LSIssueNewTaskAndGetTaskID","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][issueMessageRemove] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[15]=new c.Map(),d[15].set("error_msg","Expected a nonempty query result"),d[15].set("code",c.i64.cast([0,3])),d[15].set("src_line","MEBClientStateUtils.php:244 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[16]=c.createArray(),d[17]=(d[16].push(d[15]),d[16]),e=[void 0,d[16]],d[2]=e[0],d[3]=e[1],e):(b=a.item,d[15]=new c.Map(),d[15].set("backup_id",b.backupId),d[15].set("device_public_key_blob",b.devicePublicKeyBlob),d[15].set("device_private_key_blob",b.devicePrivateKeyBlob),d[15].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[15].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[15].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[15].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[15].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[15].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[15].set("orf_client_state_v2_blob",void 0),d[15].set("orf_v2_authority_level",void 0),d[15].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[15].set("device_id",b.deviceId),d[15].set("backup_tenancy",b.backupTenancy),d[15].set("encryption_version",b.encryptionVersion),d[15].set("revision_version",b.revisionVersion),d[15].set("initialize_restore_result",void 0),d[15].set("authority_level",b.authorityLevel),e=[d[15],void 0],d[2]=e[0],d[3]=e[1],e)})},function(e){return d[5]=new c.Map(),d[5].set("value",d[2]),d[5].set("errors",d[3]),d[6]=d[5].get("value"),d[6]!==void 0?c.sequence([function(e){return d[15]=d[6].get("backup_id"),d[16]=d[6].get("device_public_key_blob"),d[17]=d[6].get("device_private_key_blob"),d[18]=d[6].get("epoch_storage_public_key_blob"),d[19]=d[6].get("epoch_storage_private_key_blob"),d[20]=d[6].get("epoch_auth_public_key_blob"),d[21]=d[6].get("epoch_auth_private_key_blob"),d[22]=d[6].get("mailbox_root_key_blob"),d[23]=d[6].get("ocmf_client_state_blob"),d[24]=d[6].get("orf_client_state_v2_blob"),d[25]=d[6].get("orf_v2_authority_level"),d[26]=d[6].get("oblivious_validation_token_blob"),d[27]=d[6].get("device_id"),d[28]=d[6].get("backup_tenancy"),d[29]=d[6].get("encryption_version"),d[30]=d[6].get("revision_version"),d[31]=d[6].get("initialize_restore_result"),d[32]=d[6].get("authority_level"),c.i64.neq(d[27],void 0)?c.sequence([function(a){return d[35]=void 0,c.i64.neq(d[35],void 0)?c.resolve(d[36]=d[35]):c.sequence([function(a){return d[42]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[43]=a[0],a})},function(a){return d[43]?d[52]=(d[42].push(c.i64.cast([0,0])),d[42]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[44]=a[0],a})},function(a){return d[44]?d[52]=(d[42].push(c.i64.cast([0,2])),d[42]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[45]=a[0],a})},function(a){return d[45]?d[52]=(d[42].push(c.i64.cast([0,3])),d[42]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[46]=a[0],a})},function(a){return d[46]?d[52]=(d[42].push(c.i64.cast([0,4])),d[42]):0,d[47]=c.createArray(),d[48]=c.i64.of_int32(d[42].length),c.i64.gt(d[48],c.i64.cast([0,0]))?c.loopAsync(d[48],function(a){return d[52]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[42],d[52]).then(function(a){return a=a,d[53]=a[0],d[54]=a[1],a})},function(a){return d[55]=(d[47].push(d[53]),d[47])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[52]=c.createArray(),d[53]=c.i64.of_int32(d[47].length),c.i64.gt(d[53],c.i64.cast([0,0]))?c.loopAsync(d[53],function(a){return d[55]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[47],d[55]).then(function(a){return a=a,d[56]=a[0],d[57]=a[1],a})},function(a){return d[58]=(d[52].push(c.i64.to_string(d[56])),d[52])}])}):c.resolve()},function(a){return d[54]=d[52].join(","),d[49]=d[54]}])},function(a){return d[47].some(function(a){return c.i64.eq(d[29],a)})?d[50]=d[29]:d[50]=void 0,c.i64.neq(d[50],void 0)?d[51]=d[50]:d[51]=void 0,d[36]=d[51]}])},function(e){return c.i64.neq(d[36],void 0)?d[37]=d[36]:d[37]=c.i64.cast([0,0]),c.i64.neq(d[28],void 0)?d[38]=d[28]:d[38]=c.i64.cast([0,1]),d[39]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),["eb_upload",":",a[0]].join(""),c.i64.cast([0,50026]),"",void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,93]),void 0,c.i64.le(c.i64.cast([0,0]),c.i64.cast([0,0]))?c.i64.cast([0,0]):c.i64.add(d[39],c.i64.sub(c.i64.cast([0,0]),c.i64.mod_(d[39],c.i64.cast([0,0])))),c.i64.cast([0,0])).then(function(a){return a=a,d[40]=a[0],a})},function(b){return c.db.table(177).add({pk:void 0,pendingBackupTaskId:d[40],actionType:c.i64.cast([0,2]),contentType:c.i64.cast([0,1]),backupStatus:c.i64.cast([0,1]),listKey:a[0],uniqueKey:a[1],sortKey:c.i64.to_string(c.i64.add(c.i64.mul(c.i64.div(a[2],c.i64.cast([0,1e3])),c.i64.cast([0,1e3])),c.i64.div(c.i64.mod_(c.i64.and_(c.i64.asr_(c.i64.from_string(a[1]),c.i64.to_int32(c.i64.cast([0,22]))),c.i64.cast([511,4294967295])),c.i64.cast([0,1e5])),c.i64.cast([0,100])))),persistentId:"",isInstamadillo:!1,lsTraceId:a[4],error:a[5]})},function(b){return c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))?c.i64.eq(c.i64.cast([0,2]),c.i64.cast([0,1]))?(d[42]=c.createArray(),d[44]=(d[42].push("Successfully issued message backup task. act thread id = "),d[42]),d[44]=(d[42].push(a[0]),d[42]),d[44]=(d[42].push(", otid = "),d[42]),d[44]=(d[42].push(a[1]),d[42]),d[43]=d[42].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",d[43]].join("")),c.resolve()):(d[42]=c.createArray(),d[44]=(d[42].push("Successfully issued message remove task. act thread id = "),d[42]),d[44]=(d[42].push(a[0]),d[42]),d[44]=(d[42].push(", otid = "),d[42]),d[44]=(d[42].push(a[1]),d[42]),d[43]=d[42].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",d[43]].join("")),c.resolve()):(d[42]=c.createArray(),d[44]=(d[42].push("Successfully issued thread remove task. act thread id = "),d[42]),d[44]=(d[42].push(a[0]),d[42]),d[43]=d[42].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",d[43]].join("")),c.resolve())},function(a){return d[41]=new c.Map(),d[41].set("task_id",d[40]),a=[d[41],void 0],d[33]=a[0],d[34]=a[1],a}]):c.sequence([function(b){return d[35]=c.createArray(),d[38]=(d[35].push("Skipping message upload since EB is disabled. act thread id = "),d[35]),d[38]=(d[35].push(a[0]),d[35]),d[38]=(d[35].push(", otid = "),d[35]),d[38]=(d[35].push(a[1]),d[35]),d[36]=d[35].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",d[36]].join("")),c.resolve()},function(a){return d[37]=new c.Map(),d[37].set("error_code",c.i64.cast([0,24])),d[37].set("stored_procedure","LSEncryptedBackupsIssueMessageRemoveStoredProcedure"),d[37].set("error_message",""),a=[void 0,d[37]],d[33]=a[0],d[34]=a[1],a}])},function(a){return a=[d[33],d[34]],d[7]=a[0],d[8]=a[1],a}]):c.sequence([function(b){return d[15]=d[5].get("errors"),d[16]=d[5].get("errors"),d[17]=c.createArray(),d[20]=(d[17].push("Skipping message upload since EB is disabled. act thread id = "),d[17]),d[20]=(d[17].push(a[0]),d[17]),d[20]=(d[17].push(", otid = "),d[17]),d[20]=(d[17].push(a[1]),d[17]),d[18]=d[17].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",d[18]].join("")),c.resolve()},function(a){return d[19]=new c.Map(),d[19].set("error_code",c.i64.cast([0,1])),d[19].set("stored_procedure","LSEncryptedBackupsIssueMessageRemoveStoredProcedure"),d[19].set("error_message",""),a=[void 0,d[19]],d[7]=a[0],d[8]=a[1],a}])},function(a){return d[9]=c.i64.of_float(Date.now()),d[10]=c.i64.random(),d[12]="Finishing execution. Execution time: ",d[13]=c.i64.to_string(c.i64.sub(d[9],d[0])),d[14]=" ms",d[11]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ",d[11],d[12],d[11],d[13],d[11],d[14]].join("")),c.i64.eq(c.i64.mod_(d[10],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[15]=",",d[16]=c.createArray(),void 0!==void 0?d[17]=(d[16].push(void 0),d[16]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"issueMessageRemove",[d[12],d[15],d[13],d[15],d[14]].join(""),d[16],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[7],d[8]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssueMessageRemoveStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","pending_backups_context_v2"];e.exports=a}),null);
__d("LSIssueMessageRemoveStoredProcedure",["LSIssueMessageRemove","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueMessageRemove"),e.actThreadId,e.otid,e.authoritativeTs,e.source,e.traceId,e.error);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSIssuePointQueryRestoreTask",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSBase64Encode.nop","LSIsEncryptionVersionSecure","LSIsMobileClient","LSIssueNewTaskAndGetTaskID","LSLogMebClientEvent.nop","LSLogWebQpl.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure] Beginning execution."),c.sequence([function(d){return a[3]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[3],c.i64.cast([0,2512]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[13]=a[0],a})},function(a){return d[13]?d[14]=!0:d[14]=!1,d[14]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[16]="LSDataTraceMciTraceLog native op not supported",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",d[16]].join("")),d[15]=c.createArray(),void 0!==void 0?d[17]=(d[15].push(void 0),d[15]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",d[16],d[15],c.i64.cast([0,3]))):c.resolve()}])},function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure] Point query restore v2 is enabled"),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[13]=new c.Map(),d[13].set("error_msg","Expected a nonempty query result"),d[13].set("code",c.i64.cast([0,3])),d[13].set("src_line","MEBClientStateUtils.php:244 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[14]=c.createArray(),d[15]=(d[14].push(d[13]),d[14]),e=[void 0,d[14]],d[1]=e[0],d[2]=e[1],e):(b=a.item,d[13]=new c.Map(),d[13].set("backup_id",b.backupId),d[13].set("device_public_key_blob",b.devicePublicKeyBlob),d[13].set("device_private_key_blob",b.devicePrivateKeyBlob),d[13].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[13].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[13].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[13].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[13].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[13].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[13].set("orf_client_state_v2_blob",void 0),d[13].set("orf_v2_authority_level",void 0),d[13].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[13].set("device_id",b.deviceId),d[13].set("backup_tenancy",b.backupTenancy),d[13].set("encryption_version",b.encryptionVersion),d[13].set("revision_version",b.revisionVersion),d[13].set("initialize_restore_result",void 0),d[13].set("authority_level",b.authorityLevel),e=[d[13],void 0],d[1]=e[0],d[2]=e[1],e)})},function(e){return d[4]=new c.Map(),d[4].set("value",d[1]),d[4].set("errors",d[2]),d[5]=d[4].get("value"),d[5]!==void 0?c.sequence([function(e){return d[13]=d[5].get("backup_id"),d[14]=d[5].get("device_public_key_blob"),d[15]=d[5].get("device_private_key_blob"),d[16]=d[5].get("epoch_storage_public_key_blob"),d[17]=d[5].get("epoch_storage_private_key_blob"),d[18]=d[5].get("epoch_auth_public_key_blob"),d[19]=d[5].get("epoch_auth_private_key_blob"),d[20]=d[5].get("mailbox_root_key_blob"),d[21]=d[5].get("ocmf_client_state_blob"),d[22]=d[5].get("orf_client_state_v2_blob"),d[23]=d[5].get("orf_v2_authority_level"),d[24]=d[5].get("oblivious_validation_token_blob"),d[25]=d[5].get("device_id"),d[26]=d[5].get("backup_tenancy"),d[27]=d[5].get("encryption_version"),d[28]=d[5].get("revision_version"),d[29]=d[5].get("initialize_restore_result"),d[30]=d[5].get("authority_level"),c.i64.neq(d[25],void 0)?c.sequence([function(a){return d[32]=void 0,c.i64.neq(d[32],void 0)?c.resolve(d[33]=d[32]):c.sequence([function(a){return d[56]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[57]=a[0],a})},function(a){return d[57]?d[66]=(d[56].push(c.i64.cast([0,0])),d[56]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[58]=a[0],a})},function(a){return d[58]?d[66]=(d[56].push(c.i64.cast([0,2])),d[56]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[59]=a[0],a})},function(a){return d[59]?d[66]=(d[56].push(c.i64.cast([0,3])),d[56]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[60]=a[0],a})},function(a){return d[60]?d[66]=(d[56].push(c.i64.cast([0,4])),d[56]):0,d[61]=c.createArray(),d[62]=c.i64.of_int32(d[56].length),c.i64.gt(d[62],c.i64.cast([0,0]))?c.loopAsync(d[62],function(a){return d[66]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[56],d[66]).then(function(a){return a=a,d[67]=a[0],d[68]=a[1],a})},function(a){return d[69]=(d[61].push(d[67]),d[61])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[66]=c.createArray(),d[67]=c.i64.of_int32(d[61].length),c.i64.gt(d[67],c.i64.cast([0,0]))?c.loopAsync(d[67],function(a){return d[69]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[61],d[69]).then(function(a){return a=a,d[70]=a[0],d[71]=a[1],a})},function(a){return d[72]=(d[66].push(c.i64.to_string(d[70])),d[66])}])}):c.resolve()},function(a){return d[68]=d[66].join(","),d[63]=d[68]}])},function(a){return d[61].some(function(a){return c.i64.eq(d[27],a)})?d[64]=d[27]:d[64]=void 0,c.i64.neq(d[64],void 0)?d[65]=d[64]:d[65]=void 0,d[33]=d[65]}])},function(e){return c.i64.neq(d[33],void 0)?d[34]=d[33]:d[34]=c.i64.cast([0,0]),c.i64.neq(d[26],void 0)?d[35]=d[26]:d[35]=c.i64.cast([0,1]),d[36]=new c.Map(),d[36].set("act_thread_id",a[0]),d[36].set("request_id",a[3]),d[36].set("tam_thread_subtype",c.i64.cast([0,0])),d[36].set("mem_message_type",c.i64.cast([0,0])),d[36].set("source",a[4]),c.nativeOperation(b("LSBase64Encode.nop"),d[21]).then(function(a){return a=a,d[37]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[20]).then(function(a){return a=a,d[38]=a[0],a})},function(a){return d[39]=new c.Map(),d[39].set("ocmf_client_state_blob",d[37]==null?"":d[37]),d[39].set("mailbox_root_key",d[38]==null?"":d[38]),d[40]=c.createArray(),c.forEach(c.filter(c.db.table(169).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[56]=(d[40].push(a.epochId),d[40])})},function(a){return d[54]="Queried locally available epochs. Count: ",d[41]=c.i64.of_int32(d[40].length),d[55]=c.i64.to_string(d[41]),d[42]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBEpochClientUtils] ",d[42],d[54],d[42],d[55]].join("")),c.resolve()},function(e){return d[43]=new c.Map(),d[43].set("device_id",d[25]),d[43].set("raw_tokens",d[39]),d[43].set("locally_available_epochs",d[40]),d[44]=new c.Map(),d[44].set("reference_timestamp",a[2]),d[44].set("device_context",d[43]),d[44].set("message_id",a[1]),d[45]=new c.Map(),d[45].set("restore_context",d[36]),d[45].set("success",d[44]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[56]=c.i64.of_float(Date.now()),d[46]=c.i64.add(d[56],c.i64.cast([0,0]))):d[46]=c.i64.cast([0,0]),d[47]=d[45].get("restore_context"),d[48]=d[45].get("success"),d[48]!==void 0?(d[56]=d[48].get("message_id"),d[49]=d[56]):d[49]="",d[50]=d[47].get("act_thread_id"),d[51]=":",d[52]=c.toJSON(d[45]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),["encrypted_backups_restore",d[51],d[50],d[51],d[49]].join(""),c.i64.cast([0,50035]),d[52],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[46],c.i64.cast([0,0])).then(function(a){return a=a,d[53]=a[0],a})},function(a){return d[31]=d[53]}]):c.sequence([function(e){return d[32]=new c.Map(),d[32].set("error_code",c.i64.cast([0,1])),d[32].set("error_message",""),d[32].set("stored_procedure","issuePointQueryRestoreTask"),d[33]=new c.Map(),d[33].set("act_thread_id",a[0]),d[34]=new c.Map(),d[34].set("restore_context",d[33]),d[34].set("failure",d[32]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[43]=c.i64.of_float(Date.now()),d[35]=c.i64.add(d[43],c.i64.cast([0,0]))):d[35]=c.i64.cast([0,0]),d[36]=d[34].get("restore_context"),d[37]=d[34].get("success"),d[37]!==void 0?(d[43]=d[37].get("message_id"),d[38]=d[43]):d[38]="",d[39]=d[36].get("act_thread_id"),d[40]=":",d[41]=c.toJSON(d[34]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),["encrypted_backups_restore",d[40],d[39],d[40],d[38]].join(""),c.i64.cast([0,50035]),d[41],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[35],c.i64.cast([0,0])).then(function(a){return a=a,d[42]=a[0],a})},function(a){return d[31]=d[42]}])},function(a){return d[6]=d[31]}]):c.sequence([function(e){return d[13]=d[4].get("errors"),d[14]=d[4].get("errors"),d[15]=new c.Map(),d[15].set("error_code",c.i64.cast([0,1])),d[15].set("error_message",""),d[15].set("stored_procedure","issuePointQueryRestoreTask"),d[16]=new c.Map(),d[16].set("act_thread_id",a[0]),d[17]=new c.Map(),d[17].set("restore_context",d[16]),d[17].set("failure",d[15]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[26]=c.i64.of_float(Date.now()),d[18]=c.i64.add(d[26],c.i64.cast([0,0]))):d[18]=c.i64.cast([0,0]),d[19]=d[17].get("restore_context"),d[20]=d[17].get("success"),d[20]!==void 0?(d[26]=d[20].get("message_id"),d[21]=d[26]):d[21]="",d[22]=d[19].get("act_thread_id"),d[23]=":",d[24]=c.toJSON(d[17]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),["encrypted_backups_restore",d[23],d[22],d[23],d[21]].join(""),c.i64.cast([0,50035]),d[24],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[18],c.i64.cast([0,0])).then(function(a){return a=a,d[25]=a[0],a})},function(a){return d[6]=d[25]}])},function(d){return a[3]!==void 0?c.nativeOperation(b("LSLogWebQpl.nop"),a[3],c.i64.cast([0,521476165]),"restore_task_start",c.i64.cast([0,1]),a[4],void 0):c.resolve()},function(e){return c.sequence([function(d){return a[3]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[3],c.i64.cast([0,2513]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[13]=a[0],a})},function(a){return d[13]?d[14]=!0:d[14]=!1,d[14]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[16]="LSDataTraceMciTraceLog native op not supported",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",d[16]].join("")),d[15]=c.createArray(),void 0!==void 0?d[17]=(d[15].push(void 0),d[15]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",d[16],d[15],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[7]=c.i64.of_float(Date.now()),d[8]=c.i64.random(),d[10]="Finishing execution. Execution time: ",d[11]=c.i64.to_string(c.i64.sub(d[7],d[0])),d[12]=" ms",d[9]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure] ",d[9],d[10],d[9],d[11],d[9],d[12]].join("")),c.i64.eq(c.i64.mod_(d[8],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[13]=",",d[14]=c.createArray(),void 0!==void 0?d[15]=(d[14].push(void 0),d[14]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure",[d[10],d[13],d[11],d[13],d[12]].join(""),d[14],c.i64.cast([0,4]))):c.resolve()},function(a){return e[0]=d[6]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","secure_encrypted_backups_epochs"];e.exports=a}),null);
__d("LSIssuePointQueryRestoreTaskStoredProcedure",["LSIssuePointQueryRestoreTask","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssuePointQueryRestoreTask"),e.threadId,e.messageId,e.startSortKey,e.traceId,e.source);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSMessageSearchType",[],(function(a,b,c,d,e,f){a=Object.freeze({THREAD:1,MESSAGE:2});f["default"]=a}),66);
__d("LSPlatformSyncSystemDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LSPlatformSyncSystem").__setRef("LSPlatformSyncSystemDeferred");function a(){return h.load()}g["default"]=a}),98);
__d("LSTamThreadSubtype",[],(function(a,b,c,d,e,f){a=Object.freeze({STANDARD:0,VANISH_MODE:1,DUAL_SEND_SHADOW:2,BTV_COMPANION:3,BLEND_DUAL_SEND:4,BLEND_DUAL_SEND_NO_NETWORK:5});f["default"]=a}),66);
__d("MAWBridgeIssuePointQueryHandler",["EBIsEbEnabled","I64","LSFactory","LSIntEnum","LSIssuePointQueryRestoreTaskStoredProcedure","LSRequestId","MAWEBRestoreTrackingUtils","Promise","WAGetStorageQplAnnotations","emptyFunction","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){c("promiseDone")(d("WAGetStorageQplAnnotations").getStorageQplAnnotations().then(function(b){d("MAWEBRestoreTrackingUtils").addQPLRestorePointWithAnnotations({annotations:b,pointName:"storage_estimation_retrieved",traceId:a})}))}function a(a,c){return d("EBIsEbEnabled").isEbEnabledLS(a).then(function(d){return!d?(j||(j=b("Promise"))).resolve():l(a,c)})}function l(a,b){var e=c("LSRequestId").generate(),f=(h||(h=d("LSIntEnum"))).unwrapIntEnum((i||(i=d("I64"))).of_float(b.taskSource));d("MAWEBRestoreTrackingUtils").markEBRestorePoint(f,e,"LS");k(e);return c("LSIssuePointQueryRestoreTaskStoredProcedure")(c("LSFactory")(a),{messageId:b.messageId,source:h.ofNumber(f),startSortKey:b.startSortKey,threadId:b.threadId,traceId:e}).then(c("emptyFunction"))}g.call=a}),98);
__d("MAWBridgeUploadMessageHandler",["EBIsEbEnabled","EncryptedBackupsWriteToMPSTables","FBLogger","I64","LSDataTraceCheckPoint","LSEncryptedBackupsAttachmentErrorCode","LSFactory","LSIntEnum","LSIssueMessageBackupStoredProcedure","LSIssueMessageRemoveStoredProcedure","LSMEBTaskCreationSource","LSShape","LSTamThreadSubtype","LSVec","MAWCastToMsgrServerMediaType","MAWEBFrontendQPLLogger","MAWMsgType","MAWTraceUtils","MWEBODSEntityName.enum","MWEBODSUtils","Promise","WATimeUtils","asyncToGeneratorRuntime","cr:17101","gkx","isInstamadillo","isInstamadilloEB"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f,g;if(c("isInstamadilloEB")())return(j||(j=b("Promise"))).resolve();e.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(e.uploadTrackingInstanceKey,"upload_tracking_bridge_handler");d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload."+((f=e.messageType)!=null?f:"unknown"));f=e.protoMsg;var k=e.traceId;g=((g=e.uploadTrackingInstanceKey)!=null?g:e.traceId).toString();if(!(yield d("EBIsEbEnabled").isEbEnabledLS(a,k,e.uploadTrackingInstanceKey))){if(e.uploadTrackingInstanceKey!=null){k=e.uploadTrackingInstanceKey;d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(k,"user_device_not_enrolled_invalid_echo_request");d("MAWEBFrontendQPLLogger").endEBUploadTracking(k)}d("MAWTraceUtils").recordCheckpointForTrace(g,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_WEB_UPLOAD_USER_DEVICE_NOT_ENROLLED),[],!1);d("MAWTraceUtils").recordInvalidUploadRequestAndFlushTrace(g,h.ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_INVALID_REQUEST),[]);return}k=e.echoDocument;var m=d("WATimeUtils").castMilliSecondsToUnixTime(e.sortOrderMs);if(e.actionType===1){var n=e.echoEncodingLatencyNs,o=e.errorCode,p=e.errorMessage;e.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(e.uploadTrackingInstanceKey,"issuing_message_backup");var q;if(f!=null)try{var r=f.sortOrderMs;if(r==null)throw c("FBLogger")("messenger_web").mustfixThrow("sort order is null for the protobuf message");yield d("EncryptedBackupsWriteToMPSTables").writeToMPSTables(a,f,e.threadId,!1,e.uploadTrackingInstanceKey);q=d("LSShape").ofRecord({act_thread_id:e.threadId,attachment_payload:null,backup_action:(h||(h=d("LSIntEnum"))).ofNumber(f.backupActionType),message_timestamp_ms:(i||(i=d("I64"))).of_float(r),supplemental_key:f.supplementalKey,toplevel_offline_threading_id:(r=(r=f.originalMsgProtocolId)==null?void 0:r.externalId)!=null?r:f.msgId.externalId})}catch(a){a instanceof Error?c("FBLogger")("labyrinth_web").catching(a).mustfix("[labyrinth_web] Error writing to MPSTables for the upload message due to runtime error"):c("FBLogger")("labyrinth_web").mustfix("[labyrinth_web] Error writing to MPSTables for the upload message")}var s;if(e.attachmentBackupContext!=null){r=l({bridgeUploadAttachmentBackupContext:e.attachmentBackupContext,messageId:e.messageId,serverThreadKey:null,threadId:e.threadId,traceId:e.traceId});r!=null&&(s=d("LSShape").ofRecord(r))}e.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(e.uploadTrackingInstanceKey,"upload_handler_echo_protobuf_context",{bool:{attachment_backup_context:s!=null,protobuf_context:q!=null}});if(e.messageType!=null){f=d("MAWMsgType").isMAWSupportedMediaType(e.messageType)?"media":"non-media";d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload."+f)}s!=null&&d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload.attachment_unified_backup");yield c("LSIssueMessageBackupStoredProcedure")(c("LSFactory")(a),{actThreadId:e.threadId,attachmentBackupContext:s,authoritativeTs:(i||(i=d("I64"))).of_float(m*1e3),echoDocument:(r=k)!=null?r:"",echoEncodingLatencyNs:n!=null?(i||(i=d("I64"))).of_float(n):void 0,error:o!=null?(h||(h=d("LSIntEnum"))).ofNumber(o):void 0,errorMessage:p!=null?p:void 0,isInstamadillo:c("isInstamadillo")(),otid:e.messageId,protobufBackupContext:q,source:(h||(h=d("LSIntEnum"))).ofNumber(c("LSMEBTaskCreationSource").TAM),tamThreadSubtype:h.ofNumber(c("isInstamadillo")()?c("LSTamThreadSubtype").BLEND_DUAL_SEND:c("LSTamThreadSubtype").STANDARD),traceId:g});e.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(e.uploadTrackingInstanceKey,"upload_tracking_upload_task_issued");void b("cr:17101").log(function(){return{message_id:e.messageId,trace_id:e.traceId}})}else e.actionType===2&&(yield c("LSIssueMessageRemoveStoredProcedure")(c("LSFactory")(a),{actThreadId:e.threadId,authoritativeTs:(i||(i=d("I64"))).of_float(m*1e3),otid:e.messageId,source:(h||(h=d("LSIntEnum"))).ofNumber(c("LSMEBTaskCreationSource").TAM),traceId:g}),e.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(e.uploadTrackingInstanceKey,"upload_tracking_remove_task_issued"))});return k.apply(this,arguments)}function l(a){var b;if(!c("gkx")("6956"))return void 0;var e=a.bridgeUploadAttachmentBackupContext,f=a.messageId,g=a.serverThreadKey,i=a.threadId;a=a.traceId;if(e.attachmentInfos.length===0)return;var j=e.attachmentInfos;d("MAWEBFrontendQPLLogger").startFlowUploadAttachmentBackup({deliveryObjectId:j[0].zippyObjectId,flow:"unified",mediaType:(b=d("MAWCastToMsgrServerMediaType").castMediaAttachmentTypeToServerMediaType(j[0].mediaType))!=null?b:"unknown",messageId:f,threadId:i,traceId:a});b=c("LSVec").ofArray(j.map(function(a){return d("LSShape").ofRecord({attachment_trace_id:a.attachmentTraceId,media_type:a.mediaType,zippy_object_id:a.zippyObjectId})}));f=(h||(h=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsAttachmentErrorCode").NO_ERROR);e.error!=null&&(f=(h||(h=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsAttachmentErrorCode").UNKNOWN_ERROR));i={attachment_infos:b,error:f,error_message:null,product_type:e.productType,server_thread_key:g};return i}g.call=a;g.getMessageUploadAttachmentBackupContext=l}),98);
__d("isInstamadilloDYI",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("665")===!0}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("HorizonWebMqttChannel",["CurrentUser","MqttChannel","MqttEnv","MqttEnvInitializer","MqttWebConfig"],(function(a,b,c,d,e,f,g){"use strict";c("MqttEnvInitializer").initialize();function h(){var a;d("MqttEnv").setIsUserLoggedInNow(c("CurrentUser").isLoggedIn);return new(c("MqttChannel"))({appId:(a=c("MqttWebConfig")).appID,capabilities:a.capabilities,chatVisibility:!0,clientCapabilities:a.clientCapabilities,endpoint:a.endpoint,initialSubscribedTopics:a.subscribedTopics,pageId:null,phpOverride:a.hostNameOverride,pollingEndpoint:a.pollingEndpoint,userFbid:a.fbid})}var i=null;function a(){i==null&&(i=h());return i}function b(){i!=null&&(i.shutdown(),i=null)}g.getHorizonWebMqttChannelInstance=a;g.shutdownAndClear=b}),98);
__d("MDCMqttChannel",["CurrentUser","MqttChannel","MqttEnv","MqttEnvInitializer","MqttWebConfig","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";c("MqttEnvInitializer").initialize();function h(a){d("MqttEnv").setIsUserLoggedInNow(c("CurrentUser").isLoggedIn);a=c("CurrentUser").getAppID()==null?218968626708284:Number(c("CurrentUser").getAppID());return new(c("MqttChannel"))({appId:a,capabilities:c("MqttWebConfig").capabilities,chatVisibility:!0,clientCapabilities:c("MqttWebConfig").clientCapabilities,clientType:"websocket",deviceId:c("uuidv4")(),endpoint:c("MqttWebConfig").endpoint,initialSubscribedTopics:c("MqttWebConfig").subscribedTopics,phpOverride:c("MqttWebConfig").hostNameOverride,pollingEndpoint:c("MqttWebConfig").pollingEndpoint,userFbid:c("CurrentUser").getPossiblyNonFacebookUserID()})}var i=null;function a(a){i==null&&(i=h(a));return i}function b(){return i}function e(){i!=null&&(i.shutdown(),i=null)}g.getMDCMqttChannelInstance=a;g.getMDCMqttChannelInstanceDoNotCreate=b;g.shutdownAndClear=e}),98);
__d("MultiwayCommonTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({STRING:0,THRIFT:1,BOTH:2});d=a({OK:200,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,METHOD_NOT_ALLOWED:406,CONFLICT:409,CONDITIONAL_REQUEST_FAILED:412,SERVER_INTERNAL_ERROR:500,SERVICE_UNAVAILABLE:503});f=a({UNKNOWN:1e3,EXCEEDED_MAX_ALLOWED_PARTICIPANTS:1001,MEMBERSHIP_CHECK_FAIL:1002,CONFERENCE_THROTTLED:1003,ENDPOINT_THROTTLED:1004,MWS_MESSAGE_SENT_TO_INCORRECT_REGION:1005,UNSUPPORTED_REQUEST_TYPE:2e3,CLIENT_REQUEST_UNACCEPTABLE:2001,CLIENT_RESPONSE_UNACCEPTABLE:2002,RING_RESPONSE_BODY_NOT_SET:2004,SERVER_MEDIA_UPDATE_RESPONSE_BODY_NOT_SET:2005,INVALID_SDP:2006,INVALID_CONFERENCE_NAME:2007,SERVER_INFO_CONFERENCE_NAME_MISMATCH:2008,INVALID_USER_ID:2009,INCORRECT_VERSION_RANGE:2010,SENDER_ID_MISMATCH:2011,RECIPIENT_NOT_SPECIFIED:2012,FIELD_NOT_ALLOWED:2013,USERS_NOT_SPECIFIED:2015,REQUEST_UNACCEPTABLE_FOR_ENDPOINT_STATE:2016,INVALID_CALL_ID:2017,SESSION_DESCRIPTION_ID_MISMATCH:2018,EMPTY_CLIENT_MEDIA_UPDATES:2019,INVALID_SERVER_INFO_DATA:2020,INCORRECT_STATE_VERSION:2021,MISMATCHED_STATE_FOR_VERSION:2022,INVALID_STATE_VERSION:2023,NO_RESOLVER_FOUND:2024,MISSING_APPROVERLIST:2025,FULL_SDP_REQUIRED_IN_APPROVED_STATE:2026,INVALID_BROADCAST_ID:2027,INVALID_ENDPOINT_CONFIG:2028,INVALID_E2EE_STATE:2029,SFU_MODE_PREVENTED:2030,INVALID_CONFERENCE_STATE:2031,JOIN_REQUEST_DENIED:2032,EMPTY_USER_IDS:2033,MISSING_SDP_CONNECT_REQUEST:2034,CALLER_HAS_APPEALABLE_CALLING_RESTRICTION:2035,MISSING_BODY_ENDPOINT:2101,MISSING_BODY_HEADER:2102,MISSING_BODY_BODY:2103,MISSING_BODY_PARAMS:2104,MISSING_BODY_REMOVE_PARTICIPANTS_REQUEST:2105,MISSING_BODY_DATA_MESSAGE_REQUEST:2106,MISSING_BODY_CLIENT_MEDIA_UPDATE_REQUEST:2107,MISSING_BODY_ADD_PARTICIPANTS_REQUEST:2108,MISSING_BODY_SUBSCRIPTION_REQUEST:2110,MISSING_BODY_JOIN_REQUEST:2111,MISSING_BODY_HANGUP_REQUEST:2112,MISSING_BODY_ICE_CANDIDATE_REQUEST:2113,MISSING_BODY_P2P_MESSAGE_REQUEST:2114,MISSING_BODY_UPDATE_REQUEST:2115,MISSING_BODY_CLIENT_EVENT_REQUEST:2116,MISSING_BODY_CONNECT_REQUEST:2117,MISSING_BODY_UNSUBSCRIBE_REQUEST:2118,MISSING_BODY_APPROVAL_REQUEST:2119,MISSING_ENDPOINT_USER_ID:2120,EMPTY_ENDPOINT_USER_ID:2121,MISSING_BODY_TRANSFER_REQUEST:2122,MISSING_BODY_GENERIC:2199,REQUESTOR_NOT_MEMBER_CONFERENCE:3002,NOT_BROADCAST_OWNER:3003,GUEST_NOT_INVITED:3004,GUEST_DISCONNECTED:3005,GUEST_INVITATION_EXPIRED:3006,PARTICIPANT_IN_PENDING_APPROVAL_STATE:3008,INVALID_MULTIWAY_PARAMS:3009,BROADCAST_ALREADY_STOPPED:4002,FAILED_TO_GENERATE_SDP_ANSWER:4003,FAILED_GENERATE_SESSION_DESCRIPTION:4004,SDP_SESSION_ID_MISMATCH:4005,MEDIA_ENDPOINT_GONE:4007,MEDIA_ENDPOINT_ALREADY_EXISTS:4008,MEDIA_ENDPOINT_EXISTS_DIFFERENT_SESSION_ID:4009,LEGACY_MESSENGER_SENDER_UNSET:4010,FAILED_TO_SET_TRANSPORT_INFO:4011,NON_PRIMARY_MULTIWAY_SERVER:4012,FAILED_TO_GET_REMOTE_DESCRIPTION:4013,LOCAL_DESCRIPTION_NOT_SET:4014,INVALID_SDP_TYPE:4015,CLIENT_MEDIA_UPDATE_WITHOUT_REMOTE_SDP_INFO:4016,SDP_UNSET_ON_P2P_ANSWER:4017,MISSING_ICE_CANDIDATE_PAYLOAD:4018,P2P_PROTOCOL_UNSET:4019,CREATE_ACK_FOR_INVALID_MESSAGE_TYPE:4020,LEGACY_CLIENT_CANNOT_JOIN_SFU_MODE:4021,CONNECT_UNSUPPORTED_IN_SFU_MODE:4022,CONNECT_UNSUPPORTED_FOR_JOINED_ENDPOINTS:4023,RESOLVE_STATE_API_ERROR:4024,EXTERNAL_RESOLUTION_ERROR:4025,INTERNAL_RESOLUTION_ERROR:4026,RESOLUTION_DISABLED:4027,BROADCAST_ID_MISSING:4028,SDP_UNSET_ON_P2P_OFFER:4029,LEGACY_OFFER_MISSING_REQUIRED_VALUE:4031,MEDIA_SERVER_STATE_SYNC_DESERIALIZATION_ERROR:4032,CONNECT_UNSUPPORTED_FOR_PRECONNECTED_USERS:4033,OTHER_USER_ANSWERED_THE_CALL:4034,MEDIA_SERVER_DESERIALIZATION_ERROR:4035,REMOTE_SDP_TRACKID_MISMATCH:4036,SIGNALING_MESSAGE_TO_CLIENT_DROPPED:4037,DATA_CHANNEL_ENDPOINT_GONE:4038,DATA_CHANNEL_ENDPOINT_ALREADY_EXISTS:4039,CONNECT_UNSUPPORTED_DURING_P2P_TO_SFU_ESCALATION:4040,P2P_CONNECT_UNSUPPORTED_AFTER_SFU_ESCALATION:4041,CONNECT_EXCEEDED_MAX_ALLOWED_ENDPOINTS_PER_CONFERENCE:4042,CONNECT_EXCEEDED_MAX_ALLOWED_ENDPOINTS_PER_USER:4043,REQUEST_TIMEOUT:4044,TOO_MANY_MEDIA_TRACKS_IN_SDP:4045,CONFERENCE_NOT_FOUND:5001,CONFERENCE_IS_TERMINATING:5002,CONFERENCE_IS_TERMINATED:5003,CONFERENCE_NAME_EMPTY:5004,NONCE_EMPTY:5005,NONCE_MISMATCH:5006,CONFERENCE_HAS_GONE:5007,PARTICIPANT_HAS_GONE:5008,MEDIA_SERVER_NOT_FOUND:5009,CLIENT_TERMINATED:5010,MEDIA_CODECS_UNSUPPORTED_BY_CONFERENCE:6001,CONFERENCE_INCAPABLE_RENEGOTIATION:6002,REJECTING_CMU_WHEN_SMU_PENDING:6003,PARTICIPANT_NOT_SUBSCRIBED_TO_TOPIC:6004,PARTICIPANT_ALREADY_IN_WAITING_ROOM:6005,PARTICIPANT_NOT_IN_PENDING_APPROVAL:6006,USER_NOT_APPROVER_FOR_TARGET_USER:6007,UNSUPPORTED_CAPABILITIES:6008,PRODUCT_SERVER_DEFINED_END_REASON:6009,WWW_KILLSWITCHED_REQUEST:6010,CONFLICTING_MEDIA_PATH:6011,CONFLICTING_MEDIA_STATUS:6012,CONFLICTING_SESSION_DESCRIPTION:6013,OK:9e3});b=a({NONE:0,INFO:1,ERROR:2});var g=a({SUCCESS:0,ERROR:1,SESSION_NOT_FOUND:10,SESSION_MISMATCH:11,SESSION_TERMINATING:12,CONNECTION_ALREADY_EXIST:20,CONNECTION_OLD_EXIST:21,CONNECTION_NOT_FOUND:23,CONNECTION_MISMATCH:24,SDP_INVALID:30,SDP_NEGOTIATION_FAILED:31,EXCEEDED_MAX_PARTICIPANT_COUNT:40,UNAUTHORIZED:50}),h=a({JOIN:0,SERVER_MEDIA_UPDATE:1,HANGUP:2,ICE_CANDIDATE:3,RING:4,DISMISS:5,CONFERENCE_STATE:6,ADD_PARTICIPANTS:7,SUBSCRIPTION:8,CLIENT_MEDIA_UPDATE:9,DATA_MESSAGE:10,REMOVE_PARTICIPANTS:11,PING:18,UPDATE:20,NOTIFY:21,CONNECT:22,CLIENT_EVENT:23,UNSUBSCRIBE:25,APPROVAL:26,TRANSFER:27,WAKEUP:28}),i=a({IGNORE_CALL:0,HANGUP_CALL:1,NO_ANSWER_TIMEOUT:2,CLIENT_ERROR:3,IN_ANOTHER_CALL:4,CLIENT_INTERRUPTED:5,SESSION_MIGRATED:6,E2EE_MANDATED_BUT_OFFER_DID_NOT_CONTAIN_E2EE:7,E2EE_MANDATED_BUT_ANSWER_DID_NOT_NEGOTIATE_E2EE:8,WEBRTC_ERROR:9,CONNECTION_DROPPED:10}),j=a({CALL_ENDED:0,ANSWERED_ON_ANOTHER_DEVICE:1,IN_ANOTHER_CALL:2,CONNECTION_DROPPED:3,REJECTED_ON_ANOTHER_DEVICE:4,REMOVED_BY_PARTICIPANT:5,REJECTED_BY_CALLEE:6,INTERNAL_ERROR:7,CALL_ENDED_BY_PRODUCT:9,JOIN_APPROVAL_DENIED:10,JOIN_APPROVAL_TIMEDOUT:11,UNSUPPORTED_VERSION:12,LIVE_NOT_ACKED:13,TX_ACK_TIMEDOUT:14,ANSWERED_BY_OTHER_USER:15,PARTICIPANT_SELF_TERMINATION:16,PARTICIPANT_REJOIN:17,LONG_LASTING_AUDIO_ISSUE:18,PRIMARY_ENDPOINT_HANGUP:19,RECONNECT_FAILED:20,E2EE_HARDENING_ERROR:21,CALL_ENDED_BY_EXTENSION:22,CALL_ENDED_BY_OVER_CAPACITY:23}),k=a({SUPPORT_AUDIO_DEPRECATED:0,SUPPORT_VIDEO_DEPRECATED:1,SUPPORT_EXPERIMENTS_IN_JOIN_RESPONSE:2,SUPPORT_NEW_PARTICIPANT_STATES:3,SUPPORT_SDP_RENEGOTIATION:4,SUPPORT_MWPP:5,REQUIRE_FULL_SDP_IN_SMU:6,SUPPORT_PRECONNECT:7,SUPPORT_MWPP_DEESCALATION:8,SUPPORT_PARTICIPANT_STATE_UNCALLABLE:9,SUPPORT_MULTIPLE_VIDEO_STREAMS:10,REQUIRE_FULL_SDP_IN_SMU_OPTIMIZED:11,SUPPORT_MULTISTREAM_FEC:12,SUPPORT_DELTA_SMU:13,REQUIRE_DEFAULT_CHANNEL_SCREENSHARE:14,SUPPORT_SCREENSHARE_FLAG_IN_JOIN_RESPONSE_AND_SMU:15,SUPPORT_TEMPORAL_LAYER_JBE:16,REQUIRES_P2P_RELAY_INFO_VIA_SIGNALING:17,SUPPORT_NUMERIC_TOPICS:18,SUPPORT_PSEUDO_QUIC_CONNECTION:19,SUPPORT_SDP_SENDRECV:20}),l=a({GROUP_AUDIO_CALL:0,PEER_VIDEO_CALL:1,PEER_AUDIO_CALL:2,GROUP_VIDEO_CALL:3,LIVE_STREAM:4,PEER_ESCALATED_VIDEO_CALL:5,PEER_ESCALATED_AUDIO_CALL:6,LIVE_AUDIO_ROOM:7,LIVE_WITH_ROOM:8}),m=a({OK:0,NOT_SUPPORTED:1,IN_ANOTHER_CALL:10}),n=a({ACTIVE:0,TERMINATED:1}),o=a({UNKNOWN:0,ACTIVE:1,TERMINATED:2}),p=a({DENIED:0,APPROVED:1}),q=a({UNKNOWN:0,SIGNALING_DATA_MESSAGE:1,STATE_SYNC_UPDATE:2,STATE_SYNC_SNAPSHOT:3}),r=a({UNKNOWN:0,DISCONNECTED:1,NO_ANSWER:2,REJECTED:3,UNREACHABLE:4,CONNECTION_DROPPED:5,CONTACTING:6,RINGING:7,CONNECTING:8,CONNECTED:9,PARTICIPANT_LIMIT_REACHED:10,IN_ANOTHER_CALL:11,RING_TYPE_UNSUPPORTED:12,PENDING_APPROVAL:13,APPROVED:14,FAILED_APPROVAL:15,HANGUP_IN_WAITING_ROOM:16,UNCALLABLE:17,UNCALLABLE_DELAYED:18}),s=a({PRANSWER:1001,INITIAL_ANSWER_TO_P2P_CALLER:1002,DEESCALATE_OFFER_TO_P2P_CALLEE:1003,DEESCALATE_ANSWER_TO_P2P_CALLER:1004,REQUEST_DEESCALATE_TO_P2P_CALLER:1005,REQUEST_ESCALATE:1006,REQUEST_CLIENT_FULL_RENEGOTIATION_TO_ADMIT_FROM_WAITINGROOM:1007,REQUEST_CLIENT_FULL_RENEGOTIATION_AGAINST_MWS:1008,PARTICIPANT_ADDED:1009,PARTICIPANT_REMOVED:1010,FIRST_REMOTE_ALERTED_FOR_INITIATOR:2001,FIRST_REMOTE_ANSWERED_FOR_INITIATOR:2002,CONTAIN_PENDING_APPROVAL_PARTICIPANTS:2003,KEEP_ALIVE_PING:3001,IS_INITIATOR:4001,PREGEN_SDP:4002}),t=a({PRIMARY:0,SECONDARY:1}),u=a({UNKNOWN:0,MEDIA_CONNECTED:1});a=a({JoinRequest:"joinRequest",JoinResponse:"joinResponse",ServerMediaUpdateRequest:"serverMediaUpdateRequest",ServerMediaUpdateResponse:"serverMediaUpdateResponse",HangupRequest:"hangupRequest",IceCandidateRequest:"iceCandidateRequest",RingRequest:"ringRequest",RingResponse:"ringResponse",DismissRequest:"dismissRequest",ConferenceStateRequest:"conferenceStateRequest",ConferenceStateResponse:"conferenceStateResponse",AddParticipantsRequest:"addParticipantsRequest",SubscriptionRequest:"subscriptionRequest",ClientMediaUpdateRequest:"clientMediaUpdateRequest",ClientMediaUpdateResponse:"clientMediaUpdateResponse",DataMessageRequest:"dataMessageRequest",RemoveParticipantsRequest:"removeParticipantsRequest",DataMessageResponse:"dataMessageResponse",UpdateRequest:"updateRequest",UpdateResponse:"updateResponse",NotifyRequest:"notifyRequest",NotifyResponse:"notifyResponse",ConnectRequest:"connectRequest",ConnectResponse:"connectResponse",ClientEventRequest:"clientEventRequest",ClientEventResponse:"clientEventResponse",UnsubscribeRequest:"unsubscribeRequest",UnsubscribeResponse:"unsubscribeResponse",ApprovalRequest:"approvalRequest",TransferRequest:"transferRequest"});e.exports={ApprovalStatus:p,Capability:k,ClientEventType:u,DeviceStatus:m,DismissReason:j,E2eeDataMessageType:q,ExtensionSessionStatus:o,HangupReason:i,JoinMode:t,MediaConnectionStatus:n,MessageTag:s,MessageType:h,ParticipantCallState:r,RingType:l,RtcApiStatusCode:g,RtcLogSeverity:b,RtcMessageBodyVariant$Types:a,RtcResponseStatusCode:d,RtcResponseSubCode:f,SdpPayloadType:c}}),null);
__d("OculusMqttChannel",["CurrentUser","HorizonMetaIsCastingRoute","MqttChannel","MqttEnv","MqttEnvInitializer","MqttWebConfig","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";c("HorizonMetaIsCastingRoute").getIsCastingRoute()?c("MqttEnvInitializer").initialize(function(a){return new WebSocket(a,"horizon_webcasting")}):c("MqttEnvInitializer").initialize();function h(a){d("MqttEnv").setIsUserLoggedInNow(c("CurrentUser").isLoggedIn);a=c("CurrentUser").getAppID()==null?2763362503905702:Number(c("CurrentUser").getAppID());return new(c("MqttChannel"))({appId:a,capabilities:c("MqttWebConfig").capabilities,chatVisibility:!0,clientCapabilities:c("MqttWebConfig").clientCapabilities,clientType:"websocket",deviceId:c("uuidv4")(),endpoint:c("MqttWebConfig").endpoint,initialSubscribedTopics:c("MqttWebConfig").subscribedTopics,phpOverride:c("MqttWebConfig").hostNameOverride,pollingEndpoint:c("MqttWebConfig").pollingEndpoint,userFbid:c("CurrentUser").getPossiblyNonFacebookUserID()})}var i=null;function a(a){i==null&&(i=h(a));return i}function b(){return i}function e(){i!=null&&(i.shutdown(),i=null)}g.getOculusMqttChannelInstance=a;g.getOculusMqttChannelInstanceDoNotCreate=b;g.shutdownAndClear=e}),98);
__d("ZenonMWMessageReliabilityLogTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["RECEIVED_REQUEST","RECEIVED_RESPONSE","PROCESSING_REQUEST","START_PROCESSING_RESPONSE","PROCESSING_RESPONSE","PROCESSED_REQUEST","PROCESSED_RESPONSE","SENDING_REQUEST","SENDING_RESPONSE","SENT_REQUEST","SENT_REQUEST_FROM_HANDLER","SENT_RESPONSE","SEND_REQUEST_FAILED","SEND_REQUEST_FAILED_FROM_HANDLER","SEND_RESPONSE_FAILED","SENT_SM_EVENT","PROCESSED_SM_EVENT","REQUEST_AFTER_NULL_CHECK","REQUEST_AFTER_TRANSLATION"]);f.ZenonMWMessageReliabilityEvent=a}),66);
__d("fbwebrtc_ClientStack",[],(function(a,b,c,d,e,f){a=Object.freeze({OLD_CLIENT_PLATFORM_STACK:0,RSYS_X:1,IG_OLD_STACK:2,MLITE_OLD_STACK:3,SCOTCH:4,ZENON:5});f["default"]=a}),66);
__d("multiway_ApprovalStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({DENIED:0,APPROVED:1});f["default"]=a}),66);
__d("multiway_Capability",[],(function(a,b,c,d,e,f){a=Object.freeze({SUPPORT_AUDIO_DEPRECATED:0,SUPPORT_VIDEO_DEPRECATED:1,SUPPORT_EXPERIMENTS_IN_JOIN_RESPONSE:2,SUPPORT_NEW_PARTICIPANT_STATES:3,SUPPORT_SDP_RENEGOTIATION:4,SUPPORT_MWPP:5,REQUIRE_FULL_SDP_IN_SMU:6,SUPPORT_PRECONNECT:7,SUPPORT_MWPP_DEESCALATION:8,SUPPORT_PARTICIPANT_STATE_UNCALLABLE:9,SUPPORT_MULTIPLE_VIDEO_STREAMS:10,REQUIRE_FULL_SDP_IN_SMU_OPTIMIZED:11,SUPPORT_MULTISTREAM_FEC:12,SUPPORT_DELTA_SMU:13,REQUIRE_DEFAULT_CHANNEL_SCREENSHARE:14,SUPPORT_SCREENSHARE_FLAG_IN_JOIN_RESPONSE_AND_SMU:15,SUPPORT_TEMPORAL_LAYER_JBE:16,REQUIRES_P2P_RELAY_INFO_VIA_SIGNALING:17,SUPPORT_NUMERIC_TOPICS:18,SUPPORT_PSEUDO_QUIC_CONNECTION:19,SUPPORT_SDP_SENDRECV:20});f["default"]=a}),66);
__d("multiway_ClientEventType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,MEDIA_CONNECTED:1});f["default"]=a}),66);
__d("multiway_ConferenceType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,IGVIDEOCALL:9,ROOM:15,CRUCIBLE:20,MBS_WA:21,BOT:22,HORIZON:23});f["default"]=a}),66);
__d("multiway_DeviceStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({OK:0,NOT_SUPPORTED:1,IN_ANOTHER_CALL:10});f["default"]=a}),66);
__d("multiway_DismissReason",[],(function(a,b,c,d,e,f){a=Object.freeze({CALL_ENDED:0,ANSWERED_ON_ANOTHER_DEVICE:1,IN_ANOTHER_CALL:2,CONNECTION_DROPPED:3,REJECTED_ON_ANOTHER_DEVICE:4,REMOVED_BY_PARTICIPANT:5,REJECTED_BY_CALLEE:6,INTERNAL_ERROR:7,CALL_ENDED_BY_PRODUCT:9,JOIN_APPROVAL_DENIED:10,JOIN_APPROVAL_TIMEDOUT:11,UNSUPPORTED_VERSION:12,LIVE_NOT_ACKED:13,TX_ACK_TIMEDOUT:14,ANSWERED_BY_OTHER_USER:15,PARTICIPANT_SELF_TERMINATION:16,PARTICIPANT_REJOIN:17,LONG_LASTING_AUDIO_ISSUE:18,PRIMARY_ENDPOINT_HANGUP:19,RECONNECT_FAILED:20,E2EE_HARDENING_ERROR:21,CALL_ENDED_BY_EXTENSION:22,CALL_ENDED_BY_OVER_CAPACITY:23});f["default"]=a}),66);
__d("multiway_E2eeMode",[],(function(a,b,c,d,e,f){a=Object.freeze({E2EE_NOT_MANDATED:0,DEPRECATED_NO_REQUIREMENT:1,E2EE_MANDATED:2});f["default"]=a}),66);
__d("multiway_EndpointServiceType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,COMPOSITING_SERVICE:1,MEDIA_SERVER:2,CATHODE_AMBISONIC:3,CATHODE_CAPTIONS:4,CATHODE_MEETING_SUMMARIZER:5,CATHODE_REALTIME_SHARED_STATE:6,RP_GENAI_SERVICE:7,SMART_GLASSES_ASSISTANT:8});f["default"]=a}),66);
__d("multiway_HangupReason",[],(function(a,b,c,d,e,f){a=Object.freeze({IGNORE_CALL:0,HANGUP_CALL:1,NO_ANSWER_TIMEOUT:2,CLIENT_ERROR:3,IN_ANOTHER_CALL:4,CLIENT_INTERRUPTED:5,SESSION_MIGRATED:6,E2EE_MANDATED_BUT_OFFER_DID_NOT_CONTAIN_E2EE:7,E2EE_MANDATED_BUT_ANSWER_DID_NOT_NEGOTIATE_E2EE:8,WEBRTC_ERROR:9,CONNECTION_DROPPED:10});f["default"]=a}),66);
__d("multiway_JoinMode",[],(function(a,b,c,d,e,f){a=Object.freeze({PRIMARY:0,SECONDARY:1});f["default"]=a}),66);
__d("multiway_MediaPath",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,SFU:1,P2P:2});f["default"]=a}),66);
__d("multiway_MediaPauseStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({NotPaused:0,Paused:1});f["default"]=a}),66);
__d("multiway_MessageTag",[],(function(a,b,c,d,e,f){a=Object.freeze({PRANSWER:1001,INITIAL_ANSWER_TO_P2P_CALLER:1002,DEESCALATE_OFFER_TO_P2P_CALLEE:1003,DEESCALATE_ANSWER_TO_P2P_CALLER:1004,REQUEST_DEESCALATE_TO_P2P_CALLER:1005,REQUEST_ESCALATE:1006,REQUEST_CLIENT_FULL_RENEGOTIATION_TO_ADMIT_FROM_WAITINGROOM:1007,REQUEST_CLIENT_FULL_RENEGOTIATION_AGAINST_MWS:1008,PARTICIPANT_ADDED:1009,PARTICIPANT_REMOVED:1010,FIRST_REMOTE_ALERTED_FOR_INITIATOR:2001,FIRST_REMOTE_ANSWERED_FOR_INITIATOR:2002,CONTAIN_PENDING_APPROVAL_PARTICIPANTS:2003,KEEP_ALIVE_PING:3001,IS_INITIATOR:4001,PREGEN_SDP:4002});f["default"]=a}),66);
__d("multiway_MessageType",[],(function(a,b,c,d,e,f){a=Object.freeze({JOIN:0,SERVER_MEDIA_UPDATE:1,HANGUP:2,ICE_CANDIDATE:3,RING:4,DISMISS:5,CONFERENCE_STATE:6,ADD_PARTICIPANTS:7,SUBSCRIPTION:8,CLIENT_MEDIA_UPDATE:9,DATA_MESSAGE:10,REMOVE_PARTICIPANTS:11,PING:18,UPDATE:20,NOTIFY:21,CONNECT:22,CLIENT_EVENT:23,UNSUBSCRIBE:25,APPROVAL:26,TRANSFER:27,WAKEUP:28});f["default"]=a}),66);
__d("multiway_ParticipantCallState",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,DISCONNECTED:1,NO_ANSWER:2,REJECTED:3,UNREACHABLE:4,CONNECTION_DROPPED:5,CONTACTING:6,RINGING:7,CONNECTING:8,CONNECTED:9,PARTICIPANT_LIMIT_REACHED:10,IN_ANOTHER_CALL:11,RING_TYPE_UNSUPPORTED:12,PENDING_APPROVAL:13,APPROVED:14,FAILED_APPROVAL:15,HANGUP_IN_WAITING_ROOM:16,UNCALLABLE:17,UNCALLABLE_DELAYED:18});f["default"]=a}),66);
__d("multiway_RingType",[],(function(a,b,c,d,e,f){a=Object.freeze({GROUP_AUDIO_CALL:0,PEER_VIDEO_CALL:1,PEER_AUDIO_CALL:2,GROUP_VIDEO_CALL:3,LIVE_STREAM:4,PEER_ESCALATED_VIDEO_CALL:5,PEER_ESCALATED_AUDIO_CALL:6,LIVE_AUDIO_ROOM:7,LIVE_WITH_ROOM:8});f["default"]=a}),66);
__d("multiway_RtcResponseStatusCode",[],(function(a,b,c,d,e,f){a=Object.freeze({OK:200,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,METHOD_NOT_ALLOWED:406,CONFLICT:409,CONDITIONAL_REQUEST_FAILED:412,SERVER_INTERNAL_ERROR:500,SERVICE_UNAVAILABLE:503});f["default"]=a}),66);
__d("multiway_RtcResponseSubCode",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:1e3,EXCEEDED_MAX_ALLOWED_PARTICIPANTS:1001,MEMBERSHIP_CHECK_FAIL:1002,CONFERENCE_THROTTLED:1003,ENDPOINT_THROTTLED:1004,MWS_MESSAGE_SENT_TO_INCORRECT_REGION:1005,UNSUPPORTED_REQUEST_TYPE:2e3,CLIENT_REQUEST_UNACCEPTABLE:2001,CLIENT_RESPONSE_UNACCEPTABLE:2002,RING_RESPONSE_BODY_NOT_SET:2004,SERVER_MEDIA_UPDATE_RESPONSE_BODY_NOT_SET:2005,INVALID_SDP:2006,INVALID_CONFERENCE_NAME:2007,SERVER_INFO_CONFERENCE_NAME_MISMATCH:2008,INVALID_USER_ID:2009,INCORRECT_VERSION_RANGE:2010,SENDER_ID_MISMATCH:2011,RECIPIENT_NOT_SPECIFIED:2012,FIELD_NOT_ALLOWED:2013,USERS_NOT_SPECIFIED:2015,REQUEST_UNACCEPTABLE_FOR_ENDPOINT_STATE:2016,INVALID_CALL_ID:2017,SESSION_DESCRIPTION_ID_MISMATCH:2018,EMPTY_CLIENT_MEDIA_UPDATES:2019,INVALID_SERVER_INFO_DATA:2020,INCORRECT_STATE_VERSION:2021,MISMATCHED_STATE_FOR_VERSION:2022,INVALID_STATE_VERSION:2023,NO_RESOLVER_FOUND:2024,MISSING_APPROVERLIST:2025,FULL_SDP_REQUIRED_IN_APPROVED_STATE:2026,INVALID_BROADCAST_ID:2027,INVALID_ENDPOINT_CONFIG:2028,INVALID_E2EE_STATE:2029,SFU_MODE_PREVENTED:2030,INVALID_CONFERENCE_STATE:2031,JOIN_REQUEST_DENIED:2032,EMPTY_USER_IDS:2033,MISSING_SDP_CONNECT_REQUEST:2034,CALLER_HAS_APPEALABLE_CALLING_RESTRICTION:2035,MISSING_BODY_ENDPOINT:2101,MISSING_BODY_HEADER:2102,MISSING_BODY_BODY:2103,MISSING_BODY_PARAMS:2104,MISSING_BODY_REMOVE_PARTICIPANTS_REQUEST:2105,MISSING_BODY_DATA_MESSAGE_REQUEST:2106,MISSING_BODY_CLIENT_MEDIA_UPDATE_REQUEST:2107,MISSING_BODY_ADD_PARTICIPANTS_REQUEST:2108,MISSING_BODY_SUBSCRIPTION_REQUEST:2110,MISSING_BODY_JOIN_REQUEST:2111,MISSING_BODY_HANGUP_REQUEST:2112,MISSING_BODY_ICE_CANDIDATE_REQUEST:2113,MISSING_BODY_P2P_MESSAGE_REQUEST:2114,MISSING_BODY_UPDATE_REQUEST:2115,MISSING_BODY_CLIENT_EVENT_REQUEST:2116,MISSING_BODY_CONNECT_REQUEST:2117,MISSING_BODY_UNSUBSCRIBE_REQUEST:2118,MISSING_BODY_APPROVAL_REQUEST:2119,MISSING_ENDPOINT_USER_ID:2120,EMPTY_ENDPOINT_USER_ID:2121,MISSING_BODY_TRANSFER_REQUEST:2122,MISSING_BODY_GENERIC:2199,REQUESTOR_NOT_MEMBER_CONFERENCE:3002,NOT_BROADCAST_OWNER:3003,GUEST_NOT_INVITED:3004,GUEST_DISCONNECTED:3005,GUEST_INVITATION_EXPIRED:3006,PARTICIPANT_IN_PENDING_APPROVAL_STATE:3008,INVALID_MULTIWAY_PARAMS:3009,BROADCAST_ALREADY_STOPPED:4002,FAILED_TO_GENERATE_SDP_ANSWER:4003,FAILED_GENERATE_SESSION_DESCRIPTION:4004,SDP_SESSION_ID_MISMATCH:4005,MEDIA_ENDPOINT_GONE:4007,MEDIA_ENDPOINT_ALREADY_EXISTS:4008,MEDIA_ENDPOINT_EXISTS_DIFFERENT_SESSION_ID:4009,LEGACY_MESSENGER_SENDER_UNSET:4010,FAILED_TO_SET_TRANSPORT_INFO:4011,NON_PRIMARY_MULTIWAY_SERVER:4012,FAILED_TO_GET_REMOTE_DESCRIPTION:4013,LOCAL_DESCRIPTION_NOT_SET:4014,INVALID_SDP_TYPE:4015,CLIENT_MEDIA_UPDATE_WITHOUT_REMOTE_SDP_INFO:4016,SDP_UNSET_ON_P2P_ANSWER:4017,MISSING_ICE_CANDIDATE_PAYLOAD:4018,P2P_PROTOCOL_UNSET:4019,CREATE_ACK_FOR_INVALID_MESSAGE_TYPE:4020,LEGACY_CLIENT_CANNOT_JOIN_SFU_MODE:4021,CONNECT_UNSUPPORTED_IN_SFU_MODE:4022,CONNECT_UNSUPPORTED_FOR_JOINED_ENDPOINTS:4023,RESOLVE_STATE_API_ERROR:4024,EXTERNAL_RESOLUTION_ERROR:4025,INTERNAL_RESOLUTION_ERROR:4026,RESOLUTION_DISABLED:4027,BROADCAST_ID_MISSING:4028,SDP_UNSET_ON_P2P_OFFER:4029,LEGACY_OFFER_MISSING_REQUIRED_VALUE:4031,MEDIA_SERVER_STATE_SYNC_DESERIALIZATION_ERROR:4032,CONNECT_UNSUPPORTED_FOR_PRECONNECTED_USERS:4033,OTHER_USER_ANSWERED_THE_CALL:4034,MEDIA_SERVER_DESERIALIZATION_ERROR:4035,REMOTE_SDP_TRACKID_MISMATCH:4036,SIGNALING_MESSAGE_TO_CLIENT_DROPPED:4037,DATA_CHANNEL_ENDPOINT_GONE:4038,DATA_CHANNEL_ENDPOINT_ALREADY_EXISTS:4039,CONNECT_UNSUPPORTED_DURING_P2P_TO_SFU_ESCALATION:4040,P2P_CONNECT_UNSUPPORTED_AFTER_SFU_ESCALATION:4041,CONNECT_EXCEEDED_MAX_ALLOWED_ENDPOINTS_PER_CONFERENCE:4042,CONNECT_EXCEEDED_MAX_ALLOWED_ENDPOINTS_PER_USER:4043,REQUEST_TIMEOUT:4044,TOO_MANY_MEDIA_TRACKS_IN_SDP:4045,CONFERENCE_NOT_FOUND:5001,CONFERENCE_IS_TERMINATING:5002,CONFERENCE_IS_TERMINATED:5003,CONFERENCE_NAME_EMPTY:5004,NONCE_EMPTY:5005,NONCE_MISMATCH:5006,CONFERENCE_HAS_GONE:5007,PARTICIPANT_HAS_GONE:5008,MEDIA_SERVER_NOT_FOUND:5009,CLIENT_TERMINATED:5010,MEDIA_CODECS_UNSUPPORTED_BY_CONFERENCE:6001,CONFERENCE_INCAPABLE_RENEGOTIATION:6002,REJECTING_CMU_WHEN_SMU_PENDING:6003,PARTICIPANT_NOT_SUBSCRIBED_TO_TOPIC:6004,PARTICIPANT_ALREADY_IN_WAITING_ROOM:6005,PARTICIPANT_NOT_IN_PENDING_APPROVAL:6006,USER_NOT_APPROVER_FOR_TARGET_USER:6007,UNSUPPORTED_CAPABILITIES:6008,PRODUCT_SERVER_DEFINED_END_REASON:6009,WWW_KILLSWITCHED_REQUEST:6010,CONFLICTING_MEDIA_PATH:6011,CONFLICTING_MEDIA_STATUS:6012,CONFLICTING_SESSION_DESCRIPTION:6013,OK:9e3});f["default"]=a}),66);
__d("multiway_SubscriptionType",[],(function(a,b,c,d,e,f){a=Object.freeze({CNAME:0,TRACK:1,DOMINANT_SPEAKER:2});f["default"]=a}),66);
__d("multiway_VideoQuality",[],(function(a,b,c,d,e,f){a=Object.freeze({LOW:0,MEDIUM:1,HIGH:2,HD:3,NUM_QUALITIES:4});f["default"]=a}),66);
__d("ZenonMWMessageTypes",["$InternalEnum","fbwebrtc_ClientStack","multiway_ApprovalStatus","multiway_Capability","multiway_ClientEventType","multiway_ConferenceType","multiway_DeviceStatus","multiway_DismissReason","multiway_E2eeMode","multiway_EndpointServiceType","multiway_HangupReason","multiway_JoinMode","multiway_MediaPath","multiway_MediaPauseStatus","multiway_MessageTag","multiway_MessageType","multiway_ParticipantCallState","multiway_RingType","multiway_RtcResponseStatusCode","multiway_RtcResponseSubCode","multiway_SubscriptionType","multiway_VideoQuality"],(function(a,b,c,d,e,f,g){"use strict";a=b("$InternalEnum")({DEFAULT_AUDIO:0,DEFAULT_VIDEO:1,SCREEN_AUDIO:2,SCREEN_VIDEO:3});g.ZenonMWClientStack=c("fbwebrtc_ClientStack");g.ZenonMWApprovalStatus=c("multiway_ApprovalStatus");g.ZenonMWCapability=c("multiway_Capability");g.ZenonMWClientEventType=c("multiway_ClientEventType");g.ZenonMWConferenceType=c("multiway_ConferenceType");g.ZenonMWDeviceStatus=c("multiway_DeviceStatus");g.ZenonMWDismissReason=c("multiway_DismissReason");g.ZenonMWE2eeMode=c("multiway_E2eeMode");g.ZenonMWEndpointServiceType=c("multiway_EndpointServiceType");g.ZenonMWHangupReason=c("multiway_HangupReason");g.ZenonMWMediaPath=c("multiway_MediaPath");g.ZenonMWJoinMode=c("multiway_JoinMode");g.ZenonMWMediaPauseStatus=c("multiway_MediaPauseStatus");g.ZenonMWMessageTag=c("multiway_MessageTag");g.ZenonMWSignalingPayloadType=c("multiway_MessageType");g.ZenonMWParticipantCallState=c("multiway_ParticipantCallState");g.ZenonMWRingType=c("multiway_RingType");g.ZenonMWResponseStatusCode=c("multiway_RtcResponseStatusCode");g.ZenonMWResponseSubCode=c("multiway_RtcResponseSubCode");g.ZenonMWSubscriptionType=c("multiway_SubscriptionType");g.ZenonMWVideoQuality=c("multiway_VideoQuality");g.ZenonMWTrackLabel=a}),98);
__d("ZenonMWThriftMessageMap",["MultiwayCommonTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a==null)return"UNKNOWN";switch(a){case d("MultiwayCommonTypes").MessageType.JOIN:return"JOIN";case d("MultiwayCommonTypes").MessageType.SERVER_MEDIA_UPDATE:return"SERVER_MEDIA_UPDATE";case d("MultiwayCommonTypes").MessageType.ICE_CANDIDATE:return"ICE_CANDIDATE";case d("MultiwayCommonTypes").MessageType.HANGUP:return"HANGUP";case d("MultiwayCommonTypes").MessageType.RING:return"RING";case d("MultiwayCommonTypes").MessageType.DISMISS:return"DISMISS";case d("MultiwayCommonTypes").MessageType.CONFERENCE_STATE:return"CONFERENCE_STATE";case d("MultiwayCommonTypes").MessageType.ADD_PARTICIPANTS:return"ADD_PARTICIPANTS";case d("MultiwayCommonTypes").MessageType.SUBSCRIPTION:return"SUBSCRIPTION";case d("MultiwayCommonTypes").MessageType.CLIENT_MEDIA_UPDATE:return"CLIENT_MEDIA_UPDATE";case d("MultiwayCommonTypes").MessageType.DATA_MESSAGE:return"DATA_MESSAGE";case d("MultiwayCommonTypes").MessageType.REMOVE_PARTICIPANTS:return"REMOVE_PARTICIPANTS";case d("MultiwayCommonTypes").MessageType.PING:return"PING";case d("MultiwayCommonTypes").MessageType.NOTIFY:return"NOTIFY";case d("MultiwayCommonTypes").MessageType.CONNECT:return"CONNECT";case d("MultiwayCommonTypes").MessageType.CLIENT_EVENT:return"CLIENT_EVENT";case d("MultiwayCommonTypes").MessageType.UNSUBSCRIBE:return"UNSUBSCRIBE";case d("MultiwayCommonTypes").MessageType.UPDATE:return"UPDATE";case d("MultiwayCommonTypes").MessageType.APPROVAL:return"APPROVAL";case d("MultiwayCommonTypes").MessageType.WAKEUP:return"WAKEUP";default:return"UNKNOWN"}}function b(a){switch(a.toLowerCase()){case"join":return d("MultiwayCommonTypes").MessageType.JOIN;case"server_media_update":return d("MultiwayCommonTypes").MessageType.SERVER_MEDIA_UPDATE;case"ice_candidate":return d("MultiwayCommonTypes").MessageType.ICE_CANDIDATE;case"hangup":return d("MultiwayCommonTypes").MessageType.HANGUP;case"ring":return d("MultiwayCommonTypes").MessageType.RING;case"dismiss":return d("MultiwayCommonTypes").MessageType.DISMISS;case"conference_state":return d("MultiwayCommonTypes").MessageType.CONFERENCE_STATE;case"add_participants":return d("MultiwayCommonTypes").MessageType.ADD_PARTICIPANTS;case"subscription":return d("MultiwayCommonTypes").MessageType.SUBSCRIPTION;case"client_media_update":return d("MultiwayCommonTypes").MessageType.CLIENT_MEDIA_UPDATE;case"data_message":return d("MultiwayCommonTypes").MessageType.DATA_MESSAGE;case"remove_participants":return d("MultiwayCommonTypes").MessageType.REMOVE_PARTICIPANTS;case"ping":return d("MultiwayCommonTypes").MessageType.PING;case"notify":return d("MultiwayCommonTypes").MessageType.NOTIFY;case"connect":return d("MultiwayCommonTypes").MessageType.CONNECT;case"client_event":return d("MultiwayCommonTypes").MessageType.CLIENT_EVENT;case"unsubscribe":return d("MultiwayCommonTypes").MessageType.UNSUBSCRIBE;case"update":return d("MultiwayCommonTypes").MessageType.UPDATE;case"approval":return d("MultiwayCommonTypes").MessageType.APPROVAL;case"wakeup":return d("MultiwayCommonTypes").MessageType.WAKEUP;default:return null}}g.messageTypeToString=a;g.messageTypeFromString=b}),98);
__d("ZenonMWThriftMessageTagUtils",["MultiwayCommonTypes"],(function(a,b,c,d,e,f,g){"use strict";function h(a){switch(a){case d("MultiwayCommonTypes").MessageTag.PRANSWER:return 1001;case d("MultiwayCommonTypes").MessageTag.INITIAL_ANSWER_TO_P2P_CALLER:return 1002;case d("MultiwayCommonTypes").MessageTag.DEESCALATE_OFFER_TO_P2P_CALLEE:return 1003;case d("MultiwayCommonTypes").MessageTag.DEESCALATE_ANSWER_TO_P2P_CALLER:return 1004;case d("MultiwayCommonTypes").MessageTag.REQUEST_DEESCALATE_TO_P2P_CALLER:return 1005;case d("MultiwayCommonTypes").MessageTag.REQUEST_ESCALATE:return 1006;case d("MultiwayCommonTypes").MessageTag.REQUEST_CLIENT_FULL_RENEGOTIATION_TO_ADMIT_FROM_WAITINGROOM:return 1007;case d("MultiwayCommonTypes").MessageTag.REQUEST_CLIENT_FULL_RENEGOTIATION_AGAINST_MWS:return 1008;case d("MultiwayCommonTypes").MessageTag.PARTICIPANT_ADDED:return 1009;case d("MultiwayCommonTypes").MessageTag.PARTICIPANT_REMOVED:return 1010;case d("MultiwayCommonTypes").MessageTag.FIRST_REMOTE_ALERTED_FOR_INITIATOR:return 2001;case d("MultiwayCommonTypes").MessageTag.FIRST_REMOTE_ANSWERED_FOR_INITIATOR:return 2002;case d("MultiwayCommonTypes").MessageTag.CONTAIN_PENDING_APPROVAL_PARTICIPANTS:return 2003;case d("MultiwayCommonTypes").MessageTag.KEEP_ALIVE_PING:return 3001;case d("MultiwayCommonTypes").MessageTag.IS_INITIATOR:return 4001;case d("MultiwayCommonTypes").MessageTag.PREGEN_SDP:return 4002}}function a(a){switch(a){case 1001:return d("MultiwayCommonTypes").MessageTag.PRANSWER;case 1002:return d("MultiwayCommonTypes").MessageTag.INITIAL_ANSWER_TO_P2P_CALLER;case 1003:return d("MultiwayCommonTypes").MessageTag.DEESCALATE_OFFER_TO_P2P_CALLEE;case 1004:return d("MultiwayCommonTypes").MessageTag.DEESCALATE_ANSWER_TO_P2P_CALLER;case 1005:return d("MultiwayCommonTypes").MessageTag.REQUEST_DEESCALATE_TO_P2P_CALLER;case 1006:return d("MultiwayCommonTypes").MessageTag.REQUEST_ESCALATE;case 1007:return d("MultiwayCommonTypes").MessageTag.REQUEST_CLIENT_FULL_RENEGOTIATION_TO_ADMIT_FROM_WAITINGROOM;case 1008:return d("MultiwayCommonTypes").MessageTag.REQUEST_CLIENT_FULL_RENEGOTIATION_AGAINST_MWS;case 1009:return d("MultiwayCommonTypes").MessageTag.PARTICIPANT_ADDED;case 1010:return d("MultiwayCommonTypes").MessageTag.PARTICIPANT_REMOVED;case 2001:return d("MultiwayCommonTypes").MessageTag.FIRST_REMOTE_ALERTED_FOR_INITIATOR;case 2002:return d("MultiwayCommonTypes").MessageTag.FIRST_REMOTE_ANSWERED_FOR_INITIATOR;case 2003:return d("MultiwayCommonTypes").MessageTag.CONTAIN_PENDING_APPROVAL_PARTICIPANTS;case 3001:return d("MultiwayCommonTypes").MessageTag.KEEP_ALIVE_PING;case 4001:return d("MultiwayCommonTypes").MessageTag.IS_INITIATOR;case 4002:return d("MultiwayCommonTypes").MessageTag.PREGEN_SDP}}function b(a){var b=[];a==null?void 0:a.forEach(function(a){a&&b.push(h(a))});return b}g.toThriftMessageTag=a;g.fromThriftMessageTags=b}),98);
__d("ZenonMWThriftResponseStatusCodeUtils",["MultiwayCommonTypes","ZenonMWMessageTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case d("MultiwayCommonTypes").RtcResponseStatusCode.OK:return d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.OK;case d("MultiwayCommonTypes").RtcResponseStatusCode.BAD_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.BAD_REQUEST;case d("MultiwayCommonTypes").RtcResponseStatusCode.UNAUTHORIZED:return d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.UNAUTHORIZED;case d("MultiwayCommonTypes").RtcResponseStatusCode.NOT_FOUND:return d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.NOT_FOUND;case d("MultiwayCommonTypes").RtcResponseStatusCode.METHOD_NOT_ALLOWED:return d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.METHOD_NOT_ALLOWED;case d("MultiwayCommonTypes").RtcResponseStatusCode.CONFLICT:return d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.CONFLICT;case d("MultiwayCommonTypes").RtcResponseStatusCode.CONDITIONAL_REQUEST_FAILED:return d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.CONDITIONAL_REQUEST_FAILED;case d("MultiwayCommonTypes").RtcResponseStatusCode.SERVER_INTERNAL_ERROR:return d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.SERVER_INTERNAL_ERROR;case d("MultiwayCommonTypes").RtcResponseStatusCode.SERVICE_UNAVAILABLE:return d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.SERVICE_UNAVAILABLE}}function b(a){switch(a){case d("MultiwayCommonTypes").RtcResponseSubCode.UNKNOWN:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.UNKNOWN;case d("MultiwayCommonTypes").RtcResponseSubCode.EXCEEDED_MAX_ALLOWED_PARTICIPANTS:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.EXCEEDED_MAX_ALLOWED_PARTICIPANTS;case d("MultiwayCommonTypes").RtcResponseSubCode.MEMBERSHIP_CHECK_FAIL:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MEMBERSHIP_CHECK_FAIL;case d("MultiwayCommonTypes").RtcResponseSubCode.CONFERENCE_THROTTLED:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONFERENCE_THROTTLED;case d("MultiwayCommonTypes").RtcResponseSubCode.ENDPOINT_THROTTLED:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.ENDPOINT_THROTTLED;case d("MultiwayCommonTypes").RtcResponseSubCode.MWS_MESSAGE_SENT_TO_INCORRECT_REGION:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MWS_MESSAGE_SENT_TO_INCORRECT_REGION;case d("MultiwayCommonTypes").RtcResponseSubCode.UNSUPPORTED_REQUEST_TYPE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.UNSUPPORTED_REQUEST_TYPE;case d("MultiwayCommonTypes").RtcResponseSubCode.CLIENT_REQUEST_UNACCEPTABLE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CLIENT_REQUEST_UNACCEPTABLE;case d("MultiwayCommonTypes").RtcResponseSubCode.CLIENT_RESPONSE_UNACCEPTABLE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CLIENT_RESPONSE_UNACCEPTABLE;case d("MultiwayCommonTypes").RtcResponseSubCode.RING_RESPONSE_BODY_NOT_SET:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.RING_RESPONSE_BODY_NOT_SET;case d("MultiwayCommonTypes").RtcResponseSubCode.SERVER_MEDIA_UPDATE_RESPONSE_BODY_NOT_SET:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.SERVER_MEDIA_UPDATE_RESPONSE_BODY_NOT_SET;case d("MultiwayCommonTypes").RtcResponseSubCode.INVALID_SDP:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.INVALID_SDP;case d("MultiwayCommonTypes").RtcResponseSubCode.INVALID_CONFERENCE_NAME:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.INVALID_CONFERENCE_NAME;case d("MultiwayCommonTypes").RtcResponseSubCode.SERVER_INFO_CONFERENCE_NAME_MISMATCH:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.SERVER_INFO_CONFERENCE_NAME_MISMATCH;case d("MultiwayCommonTypes").RtcResponseSubCode.INVALID_USER_ID:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.INVALID_USER_ID;case d("MultiwayCommonTypes").RtcResponseSubCode.INCORRECT_VERSION_RANGE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.INCORRECT_VERSION_RANGE;case d("MultiwayCommonTypes").RtcResponseSubCode.SENDER_ID_MISMATCH:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.SENDER_ID_MISMATCH;case d("MultiwayCommonTypes").RtcResponseSubCode.RECIPIENT_NOT_SPECIFIED:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.RECIPIENT_NOT_SPECIFIED;case d("MultiwayCommonTypes").RtcResponseSubCode.FIELD_NOT_ALLOWED:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.FIELD_NOT_ALLOWED;case d("MultiwayCommonTypes").RtcResponseSubCode.USERS_NOT_SPECIFIED:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.USERS_NOT_SPECIFIED;case d("MultiwayCommonTypes").RtcResponseSubCode.REQUEST_UNACCEPTABLE_FOR_ENDPOINT_STATE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.REQUEST_UNACCEPTABLE_FOR_ENDPOINT_STATE;case d("MultiwayCommonTypes").RtcResponseSubCode.INVALID_CALL_ID:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.INVALID_CALL_ID;case d("MultiwayCommonTypes").RtcResponseSubCode.SESSION_DESCRIPTION_ID_MISMATCH:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.SESSION_DESCRIPTION_ID_MISMATCH;case d("MultiwayCommonTypes").RtcResponseSubCode.EMPTY_CLIENT_MEDIA_UPDATES:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.EMPTY_CLIENT_MEDIA_UPDATES;case d("MultiwayCommonTypes").RtcResponseSubCode.INVALID_SERVER_INFO_DATA:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.INVALID_SERVER_INFO_DATA;case d("MultiwayCommonTypes").RtcResponseSubCode.INCORRECT_STATE_VERSION:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.INCORRECT_STATE_VERSION;case d("MultiwayCommonTypes").RtcResponseSubCode.MISMATCHED_STATE_FOR_VERSION:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISMATCHED_STATE_FOR_VERSION;case d("MultiwayCommonTypes").RtcResponseSubCode.INVALID_STATE_VERSION:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.INVALID_STATE_VERSION;case d("MultiwayCommonTypes").RtcResponseSubCode.NO_RESOLVER_FOUND:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.NO_RESOLVER_FOUND;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_APPROVERLIST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_APPROVERLIST;case d("MultiwayCommonTypes").RtcResponseSubCode.FULL_SDP_REQUIRED_IN_APPROVED_STATE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.FULL_SDP_REQUIRED_IN_APPROVED_STATE;case d("MultiwayCommonTypes").RtcResponseSubCode.INVALID_BROADCAST_ID:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.INVALID_BROADCAST_ID;case d("MultiwayCommonTypes").RtcResponseSubCode.INVALID_ENDPOINT_CONFIG:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.INVALID_ENDPOINT_CONFIG;case d("MultiwayCommonTypes").RtcResponseSubCode.INVALID_E2EE_STATE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.INVALID_E2EE_STATE;case d("MultiwayCommonTypes").RtcResponseSubCode.SFU_MODE_PREVENTED:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.SFU_MODE_PREVENTED;case d("MultiwayCommonTypes").RtcResponseSubCode.INVALID_CONFERENCE_STATE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.INVALID_CONFERENCE_STATE;case d("MultiwayCommonTypes").RtcResponseSubCode.JOIN_REQUEST_DENIED:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.JOIN_REQUEST_DENIED;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_ENDPOINT:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_ENDPOINT;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_HEADER:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_HEADER;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_BODY:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_BODY;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_PARAMS:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_PARAMS;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_REMOVE_PARTICIPANTS_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_REMOVE_PARTICIPANTS_REQUEST;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_DATA_MESSAGE_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_DATA_MESSAGE_REQUEST;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_CLIENT_MEDIA_UPDATE_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_CLIENT_MEDIA_UPDATE_REQUEST;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_ADD_PARTICIPANTS_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_ADD_PARTICIPANTS_REQUEST;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_SUBSCRIPTION_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_SUBSCRIPTION_REQUEST;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_JOIN_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_JOIN_REQUEST;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_HANGUP_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_HANGUP_REQUEST;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_ICE_CANDIDATE_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_ICE_CANDIDATE_REQUEST;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_P2P_MESSAGE_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_P2P_MESSAGE_REQUEST;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_UPDATE_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_UPDATE_REQUEST;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_CLIENT_EVENT_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_CLIENT_EVENT_REQUEST;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_CONNECT_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_CONNECT_REQUEST;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_UNSUBSCRIBE_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_UNSUBSCRIBE_REQUEST;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_APPROVAL_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_APPROVAL_REQUEST;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_ENDPOINT_USER_ID:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_ENDPOINT_USER_ID;case d("MultiwayCommonTypes").RtcResponseSubCode.EMPTY_ENDPOINT_USER_ID:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.EMPTY_ENDPOINT_USER_ID;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_TRANSFER_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_TRANSFER_REQUEST;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_BODY_GENERIC:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_BODY_GENERIC;case d("MultiwayCommonTypes").RtcResponseSubCode.REQUESTOR_NOT_MEMBER_CONFERENCE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.REQUESTOR_NOT_MEMBER_CONFERENCE;case d("MultiwayCommonTypes").RtcResponseSubCode.NOT_BROADCAST_OWNER:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.NOT_BROADCAST_OWNER;case d("MultiwayCommonTypes").RtcResponseSubCode.GUEST_NOT_INVITED:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.GUEST_NOT_INVITED;case d("MultiwayCommonTypes").RtcResponseSubCode.GUEST_DISCONNECTED:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.GUEST_DISCONNECTED;case d("MultiwayCommonTypes").RtcResponseSubCode.GUEST_INVITATION_EXPIRED:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.GUEST_INVITATION_EXPIRED;case d("MultiwayCommonTypes").RtcResponseSubCode.PARTICIPANT_IN_PENDING_APPROVAL_STATE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.PARTICIPANT_IN_PENDING_APPROVAL_STATE;case d("MultiwayCommonTypes").RtcResponseSubCode.INVALID_MULTIWAY_PARAMS:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.INVALID_MULTIWAY_PARAMS;case d("MultiwayCommonTypes").RtcResponseSubCode.BROADCAST_ALREADY_STOPPED:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.BROADCAST_ALREADY_STOPPED;case d("MultiwayCommonTypes").RtcResponseSubCode.FAILED_TO_GENERATE_SDP_ANSWER:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.FAILED_TO_GENERATE_SDP_ANSWER;case d("MultiwayCommonTypes").RtcResponseSubCode.FAILED_GENERATE_SESSION_DESCRIPTION:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.FAILED_GENERATE_SESSION_DESCRIPTION;case d("MultiwayCommonTypes").RtcResponseSubCode.SDP_SESSION_ID_MISMATCH:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.SDP_SESSION_ID_MISMATCH;case d("MultiwayCommonTypes").RtcResponseSubCode.MEDIA_ENDPOINT_GONE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MEDIA_ENDPOINT_GONE;case d("MultiwayCommonTypes").RtcResponseSubCode.MEDIA_ENDPOINT_ALREADY_EXISTS:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MEDIA_ENDPOINT_ALREADY_EXISTS;case d("MultiwayCommonTypes").RtcResponseSubCode.MEDIA_ENDPOINT_EXISTS_DIFFERENT_SESSION_ID:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MEDIA_ENDPOINT_EXISTS_DIFFERENT_SESSION_ID;case d("MultiwayCommonTypes").RtcResponseSubCode.LEGACY_MESSENGER_SENDER_UNSET:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.LEGACY_MESSENGER_SENDER_UNSET;case d("MultiwayCommonTypes").RtcResponseSubCode.FAILED_TO_SET_TRANSPORT_INFO:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.FAILED_TO_SET_TRANSPORT_INFO;case d("MultiwayCommonTypes").RtcResponseSubCode.NON_PRIMARY_MULTIWAY_SERVER:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.NON_PRIMARY_MULTIWAY_SERVER;case d("MultiwayCommonTypes").RtcResponseSubCode.FAILED_TO_GET_REMOTE_DESCRIPTION:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.FAILED_TO_GET_REMOTE_DESCRIPTION;case d("MultiwayCommonTypes").RtcResponseSubCode.LOCAL_DESCRIPTION_NOT_SET:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.LOCAL_DESCRIPTION_NOT_SET;case d("MultiwayCommonTypes").RtcResponseSubCode.INVALID_SDP_TYPE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.INVALID_SDP_TYPE;case d("MultiwayCommonTypes").RtcResponseSubCode.CLIENT_MEDIA_UPDATE_WITHOUT_REMOTE_SDP_INFO:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CLIENT_MEDIA_UPDATE_WITHOUT_REMOTE_SDP_INFO;case d("MultiwayCommonTypes").RtcResponseSubCode.SDP_UNSET_ON_P2P_ANSWER:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.SDP_UNSET_ON_P2P_ANSWER;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_ICE_CANDIDATE_PAYLOAD:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_ICE_CANDIDATE_PAYLOAD;case d("MultiwayCommonTypes").RtcResponseSubCode.P2P_PROTOCOL_UNSET:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.P2P_PROTOCOL_UNSET;case d("MultiwayCommonTypes").RtcResponseSubCode.CREATE_ACK_FOR_INVALID_MESSAGE_TYPE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CREATE_ACK_FOR_INVALID_MESSAGE_TYPE;case d("MultiwayCommonTypes").RtcResponseSubCode.LEGACY_CLIENT_CANNOT_JOIN_SFU_MODE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.LEGACY_CLIENT_CANNOT_JOIN_SFU_MODE;case d("MultiwayCommonTypes").RtcResponseSubCode.CONNECT_UNSUPPORTED_IN_SFU_MODE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONNECT_UNSUPPORTED_IN_SFU_MODE;case d("MultiwayCommonTypes").RtcResponseSubCode.CONNECT_UNSUPPORTED_DURING_P2P_TO_SFU_ESCALATION:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONNECT_UNSUPPORTED_DURING_P2P_TO_SFU_ESCALATION;case d("MultiwayCommonTypes").RtcResponseSubCode.CONNECT_UNSUPPORTED_FOR_JOINED_ENDPOINTS:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONNECT_UNSUPPORTED_FOR_JOINED_ENDPOINTS;case d("MultiwayCommonTypes").RtcResponseSubCode.RESOLVE_STATE_API_ERROR:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.RESOLVE_STATE_API_ERROR;case d("MultiwayCommonTypes").RtcResponseSubCode.EXTERNAL_RESOLUTION_ERROR:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.EXTERNAL_RESOLUTION_ERROR;case d("MultiwayCommonTypes").RtcResponseSubCode.INTERNAL_RESOLUTION_ERROR:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.INTERNAL_RESOLUTION_ERROR;case d("MultiwayCommonTypes").RtcResponseSubCode.RESOLUTION_DISABLED:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.RESOLUTION_DISABLED;case d("MultiwayCommonTypes").RtcResponseSubCode.BROADCAST_ID_MISSING:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.BROADCAST_ID_MISSING;case d("MultiwayCommonTypes").RtcResponseSubCode.SDP_UNSET_ON_P2P_OFFER:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.SDP_UNSET_ON_P2P_OFFER;case d("MultiwayCommonTypes").RtcResponseSubCode.LEGACY_OFFER_MISSING_REQUIRED_VALUE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.LEGACY_OFFER_MISSING_REQUIRED_VALUE;case d("MultiwayCommonTypes").RtcResponseSubCode.MEDIA_SERVER_STATE_SYNC_DESERIALIZATION_ERROR:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MEDIA_SERVER_STATE_SYNC_DESERIALIZATION_ERROR;case d("MultiwayCommonTypes").RtcResponseSubCode.CONNECT_UNSUPPORTED_FOR_PRECONNECTED_USERS:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONNECT_UNSUPPORTED_FOR_PRECONNECTED_USERS;case d("MultiwayCommonTypes").RtcResponseSubCode.OTHER_USER_ANSWERED_THE_CALL:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.OTHER_USER_ANSWERED_THE_CALL;case d("MultiwayCommonTypes").RtcResponseSubCode.MEDIA_SERVER_DESERIALIZATION_ERROR:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MEDIA_SERVER_DESERIALIZATION_ERROR;case d("MultiwayCommonTypes").RtcResponseSubCode.REMOTE_SDP_TRACKID_MISMATCH:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.REMOTE_SDP_TRACKID_MISMATCH;case d("MultiwayCommonTypes").RtcResponseSubCode.SIGNALING_MESSAGE_TO_CLIENT_DROPPED:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.SIGNALING_MESSAGE_TO_CLIENT_DROPPED;case d("MultiwayCommonTypes").RtcResponseSubCode.DATA_CHANNEL_ENDPOINT_GONE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.DATA_CHANNEL_ENDPOINT_GONE;case d("MultiwayCommonTypes").RtcResponseSubCode.DATA_CHANNEL_ENDPOINT_ALREADY_EXISTS:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.DATA_CHANNEL_ENDPOINT_ALREADY_EXISTS;case d("MultiwayCommonTypes").RtcResponseSubCode.CONFERENCE_NOT_FOUND:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONFERENCE_NOT_FOUND;case d("MultiwayCommonTypes").RtcResponseSubCode.CONFERENCE_IS_TERMINATING:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONFERENCE_IS_TERMINATING;case d("MultiwayCommonTypes").RtcResponseSubCode.CONFERENCE_IS_TERMINATED:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONFERENCE_IS_TERMINATED;case d("MultiwayCommonTypes").RtcResponseSubCode.CONFERENCE_NAME_EMPTY:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONFERENCE_NAME_EMPTY;case d("MultiwayCommonTypes").RtcResponseSubCode.NONCE_EMPTY:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.NONCE_EMPTY;case d("MultiwayCommonTypes").RtcResponseSubCode.NONCE_MISMATCH:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.NONCE_MISMATCH;case d("MultiwayCommonTypes").RtcResponseSubCode.CONFERENCE_HAS_GONE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONFERENCE_HAS_GONE;case d("MultiwayCommonTypes").RtcResponseSubCode.PARTICIPANT_HAS_GONE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.PARTICIPANT_HAS_GONE;case d("MultiwayCommonTypes").RtcResponseSubCode.MEDIA_SERVER_NOT_FOUND:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MEDIA_SERVER_NOT_FOUND;case d("MultiwayCommonTypes").RtcResponseSubCode.CLIENT_TERMINATED:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CLIENT_TERMINATED;case d("MultiwayCommonTypes").RtcResponseSubCode.MEDIA_CODECS_UNSUPPORTED_BY_CONFERENCE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MEDIA_CODECS_UNSUPPORTED_BY_CONFERENCE;case d("MultiwayCommonTypes").RtcResponseSubCode.CONFERENCE_INCAPABLE_RENEGOTIATION:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONFERENCE_INCAPABLE_RENEGOTIATION;case d("MultiwayCommonTypes").RtcResponseSubCode.REJECTING_CMU_WHEN_SMU_PENDING:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.REJECTING_CMU_WHEN_SMU_PENDING;case d("MultiwayCommonTypes").RtcResponseSubCode.PARTICIPANT_NOT_SUBSCRIBED_TO_TOPIC:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.PARTICIPANT_NOT_SUBSCRIBED_TO_TOPIC;case d("MultiwayCommonTypes").RtcResponseSubCode.PARTICIPANT_ALREADY_IN_WAITING_ROOM:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.PARTICIPANT_ALREADY_IN_WAITING_ROOM;case d("MultiwayCommonTypes").RtcResponseSubCode.PARTICIPANT_NOT_IN_PENDING_APPROVAL:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.PARTICIPANT_NOT_IN_PENDING_APPROVAL;case d("MultiwayCommonTypes").RtcResponseSubCode.USER_NOT_APPROVER_FOR_TARGET_USER:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.USER_NOT_APPROVER_FOR_TARGET_USER;case d("MultiwayCommonTypes").RtcResponseSubCode.UNSUPPORTED_CAPABILITIES:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.UNSUPPORTED_CAPABILITIES;case d("MultiwayCommonTypes").RtcResponseSubCode.PRODUCT_SERVER_DEFINED_END_REASON:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.PRODUCT_SERVER_DEFINED_END_REASON;case d("MultiwayCommonTypes").RtcResponseSubCode.WWW_KILLSWITCHED_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.WWW_KILLSWITCHED_REQUEST;case d("MultiwayCommonTypes").RtcResponseSubCode.CONFLICTING_MEDIA_PATH:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONFLICTING_MEDIA_PATH;case d("MultiwayCommonTypes").RtcResponseSubCode.CONFLICTING_MEDIA_STATUS:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONFLICTING_MEDIA_STATUS;case d("MultiwayCommonTypes").RtcResponseSubCode.CONFLICTING_SESSION_DESCRIPTION:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONFLICTING_SESSION_DESCRIPTION;case d("MultiwayCommonTypes").RtcResponseSubCode.EMPTY_USER_IDS:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.EMPTY_USER_IDS;case d("MultiwayCommonTypes").RtcResponseSubCode.MISSING_SDP_CONNECT_REQUEST:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.MISSING_SDP_CONNECT_REQUEST;case d("MultiwayCommonTypes").RtcResponseSubCode.CALLER_HAS_APPEALABLE_CALLING_RESTRICTION:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CALLER_HAS_APPEALABLE_CALLING_RESTRICTION;case d("MultiwayCommonTypes").RtcResponseSubCode.P2P_CONNECT_UNSUPPORTED_AFTER_SFU_ESCALATION:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.P2P_CONNECT_UNSUPPORTED_AFTER_SFU_ESCALATION;case d("MultiwayCommonTypes").RtcResponseSubCode.CONNECT_EXCEEDED_MAX_ALLOWED_ENDPOINTS_PER_CONFERENCE:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONNECT_EXCEEDED_MAX_ALLOWED_ENDPOINTS_PER_CONFERENCE;case d("MultiwayCommonTypes").RtcResponseSubCode.CONNECT_EXCEEDED_MAX_ALLOWED_ENDPOINTS_PER_USER:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONNECT_EXCEEDED_MAX_ALLOWED_ENDPOINTS_PER_USER;case d("MultiwayCommonTypes").RtcResponseSubCode.REQUEST_TIMEOUT:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.REQUEST_TIMEOUT;case d("MultiwayCommonTypes").RtcResponseSubCode.TOO_MANY_MEDIA_TRACKS_IN_SDP:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.TOO_MANY_MEDIA_TRACKS_IN_SDP;case d("MultiwayCommonTypes").RtcResponseSubCode.OK:return d("ZenonMWMessageTypes").ZenonMWResponseSubCode.OK}}g.getResponseStatusCodeFromThrift=a;g.getResponseSubCodeFromThrift=b}),98);
__d("ZenonMqttChannel",["CurrentUser","FBLogger","MqttChannel","MqttEnv","MqttEnvInitializer","MqttWebConfig","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=-1;try{c("MqttEnvInitializer").initialize();d("MqttEnv").setIsUserLoggedInNow(c("CurrentUser").isLoggedIn);if(c("gkx")("11152")&&c("CurrentUser").getAppID()===String(1358015658191005))a=949958857019662;else{var b;a=Number((b=c("CurrentUser").getAppID())!=null?b:c("MqttWebConfig").appID)}return new(c("MqttChannel"))({appId:a,capabilities:c("MqttWebConfig").capabilities,chatVisibility:!1,clientCapabilities:c("MqttWebConfig").clientCapabilities,endpoint:c("MqttWebConfig").endpoint,initialSubscribedTopics:c("MqttWebConfig").subscribedTopics,phpOverride:c("MqttWebConfig").hostNameOverride,pollingEndpoint:c("MqttWebConfig").pollingEndpoint,userFbid:c("MqttWebConfig").fbid})}catch(b){c("FBLogger")("rtc_www").catching(b).warn("[ZenonMqttChannel][%d] failed to create MqttChannel",a);throw b}}b=a();e=b;g["default"]=e}),98);
__d("getZenonMqttChannel",["CurrentUser","FBMqttChannel","HorizonWebMqttChannel","IGDOverLSMqttChannel","MDCMqttChannel","OculusMqttChannel","RpWebMqttEnabledAppIds","ZenonAppProvider","ZenonMqttChannel"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set(c("RpWebMqttEnabledAppIds").APP_IDS);function a(){if(d("ZenonAppProvider").isInstagramApp())return d("IGDOverLSMqttChannel").getInstance();else if(d("ZenonAppProvider").isOculusCastingSite())return d("OculusMqttChannel").getOculusMqttChannelInstance();else if(d("ZenonAppProvider").isHorizonApp())return d("HorizonWebMqttChannel").getHorizonWebMqttChannelInstance();else if(d("ZenonAppProvider").isMDCApp())return d("MDCMqttChannel").getMDCMqttChannelInstance();else return h.has(Number(c("CurrentUser").getAppID()))?c("ZenonMqttChannel"):c("FBMqttChannel")}g["default"]=a}),98);
__d("ZenonMWThriftMessageQPLLogger",["DateConsts","QPLMsgTypesSitevarConfig","QPLUserFlow","ZenonLoggingUtils","ZenonMWMessageReliabilityLogTypes","ZenonMWThriftMessageMap","ZenonMWThriftMessageTagUtils","ZenonMWThriftResponseStatusCodeUtils","getZenonMqttChannel","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=30*d("DateConsts").MS_PER_SEC,i=c("getZenonMqttChannel")(),j=new Map();function a(a,b,e){if(!d("ZenonLoggingUtils").shouldAllowLogging())return;var f=a.messageHeader,g=d("ZenonMWThriftMessageMap").messageTypeToString(a.messageHeader.type).toLowerCase();if(!c("QPLMsgTypesSitevarConfig").QPL_MSG_TYPES.includes(g))return;f=k(f.transactionId);switch(b){case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.RECEIVED_REQUEST:l(f,g,{connectionState:(b=e==null?void 0:e.connectionState)!=null?b:"",peerConnectionState:(b=e==null?void 0:e.peerConnectionState)!=null?b:"",signalingState:(b=e==null?void 0:e.signalingState)!=null?b:""},a);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSED_REQUEST:m(f);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENDING_RESPONSE:n(f,a);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENT_RESPONSE:o(f,a);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SEND_RESPONSE_FAILED:p(f,a,e==null?void 0:e.errorMessage);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENT_REQUEST:q(f,g,{connectionState:(b=e==null?void 0:e.connectionState)!=null?b:"",peerConnectionState:(g=e==null?void 0:e.peerConnectionState)!=null?g:"",signalingState:(b=e==null?void 0:e.signalingState)!=null?b:""},a);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENDING_REQUEST:r(f);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SEND_REQUEST_FAILED:s(f,e==null?void 0:e.errorMessage);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.RECEIVED_RESPONSE:t(f,a);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENT_SM_EVENT:u(f,e==null?void 0:e.smEvent);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSED_SM_EVENT:v(f,e==null?void 0:e.smEvent);return;default:return}}function b(a,b){if(!d("ZenonLoggingUtils").shouldAllowLogging())return;c("QPLUserFlow").addAnnotations(c("qpl")._(398988976,"737"),{string:babelHelpers["extends"]({},b)},{instanceKey:+a})}function k(a){a=isNaN(+a)?0:+a;var b=9223372036854776e3;return Math.round(a%b)}function l(a,b,e,f){c("QPLUserFlow").start(c("qpl")._(398988976,"737"),{annotations:{"int":{retryCount:f.messageHeader.retryCount},int_array:{messageTags:d("ZenonMWThriftMessageTagUtils").fromThriftMessageTags(f.messageHeader.messageTags)},string:babelHelpers["extends"]({},e,{messageType:b,mqttState:i.getConnectionState()})},instanceKey:a,timeoutInMs:h});if(f.messageBody.serverMediaUpdateRequest){e=f.messageBody.serverMediaUpdateRequest;b=e.answer;f=e.offer;e=e.update;c("QPLUserFlow").addAnnotations(c("qpl")._(398988976,"737"),{string:{sdpType:f?"offer":b?"answer":e?"delta":"empty"}},{instanceKey:a})}f={onMQTTStateChanged:function(b){c("QPLUserFlow").addPoint(c("qpl")._(398988976,"737"),"mqtt_"+b,{instanceKey:a})}};i.subscribeChannelEvents(f);j.set(a,f)}function m(a){c("QPLUserFlow").addPoint(c("qpl")._(398988976,"737"),"processed_request",{instanceKey:a})}function n(a,b){b=b.messageHeader;var e=b.responseStatusCode;b=b.responseSubCode;c("QPLUserFlow").addPoint(c("qpl")._(398988976,"737"),"sending_response",{instanceKey:a});c("QPLUserFlow").addAnnotations(c("qpl")._(398988976,"737"),{"int":{responseStatusCode:e?d("ZenonMWThriftResponseStatusCodeUtils").getResponseStatusCodeFromThrift(e):200,responseSubCode:b?d("ZenonMWThriftResponseStatusCodeUtils").getResponseSubCodeFromThrift(b):9e3}},{instanceKey:a})}function o(a,b){b=b.messageHeader;var e=b.responseStatusCode;b=b.responseSubCode;c("QPLUserFlow").endSuccess(c("qpl")._(398988976,"737"),{annotations:{"int":{responseStatusCode:e?d("ZenonMWThriftResponseStatusCodeUtils").getResponseStatusCodeFromThrift(e):200,responseSubCode:b?d("ZenonMWThriftResponseStatusCodeUtils").getResponseSubCodeFromThrift(b):9e3}},instanceKey:a});e=j.get(a);e&&(i.unsubscribeChannelEvents(e),j["delete"](a))}function p(a,b,e){b=b.messageHeader;var f=b.responseStatusCode;b=b.responseSubCode;c("QPLUserFlow").endFailure(c("qpl")._(398988976,"737"),"send_response_failed",{annotations:{"int":{responseStatusCode:f?d("ZenonMWThriftResponseStatusCodeUtils").getResponseStatusCodeFromThrift(f):200,responseSubCode:b?d("ZenonMWThriftResponseStatusCodeUtils").getResponseSubCodeFromThrift(b):9e3},string:{errorMessage:e}},instanceKey:a});f=j.get(a);f&&(i.unsubscribeChannelEvents(f),j["delete"](a))}function q(a,b,e,f){c("QPLUserFlow").start(c("qpl")._(398988976,"737"),{annotations:{"int":{retryCount:f.messageHeader.retryCount},int_array:{messageTags:d("ZenonMWThriftMessageTagUtils").fromThriftMessageTags(f.messageHeader.messageTags)},string:babelHelpers["extends"]({},e,{messageType:b,mqttState:i.getConnectionState()})},instanceKey:a,timeoutInMs:h})}function r(a){c("QPLUserFlow").addPoint(c("qpl")._(398988976,"737"),"sending_request",{instanceKey:a})}function s(a,b){c("QPLUserFlow").endFailure(c("qpl")._(398988976,"737"),"send_request_failed",{annotations:{string:{errorMessage:b}},instanceKey:a})}function t(a,b){b=b.messageHeader;var e=b.responseStatusCode;b=b.responseSubCode;c("QPLUserFlow").endSuccess(c("qpl")._(398988976,"737"),{annotations:{"int":{responseStatusCode:e?d("ZenonMWThriftResponseStatusCodeUtils").getResponseStatusCodeFromThrift(e):200,responseSubCode:b?d("ZenonMWThriftResponseStatusCodeUtils").getResponseSubCodeFromThrift(b):9e3}},instanceKey:a})}function u(a,b){b!=null&&c("QPLUserFlow").addPoint(c("qpl")._(398988976,"737"),"sent_sm_event:"+b,{instanceKey:a})}function v(a,b){b!=null&&c("QPLUserFlow").addPoint(c("qpl")._(398988976,"737"),"processed_sm_event:"+b,{instanceKey:a})}g.log=a;g.updateState=b}),98);
__d("ZenonMWThriftMessageReliabilityLogger",["ODS","ZenonMWMessageReliabilityLogTypes","ZenonMWThriftMessageMap","ZenonMWThriftMessageQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map(),j=new Map(),k=new Map();function a(a){k.set(a,!0)}function b(a,b,c){a=j.get(a);if(!a)return;u(a,b,c)}function c(a){q(a)?u(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.RECEIVED_RESPONSE):u(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.RECEIVED_REQUEST)}function e(a){q(a)?u(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSING_RESPONSE):u(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSING_REQUEST)}function f(a){q(a)||u(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.REQUEST_AFTER_NULL_CHECK)}function l(a){q(a)||u(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.REQUEST_AFTER_TRANSLATION)}function m(a){q(a)?u(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSED_RESPONSE):u(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSED_REQUEST)}function n(a){q(a)?u(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENDING_RESPONSE):u(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENDING_REQUEST)}function o(a){q(a)?u(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENT_RESPONSE):u(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENT_REQUEST)}function p(a,b){var c=q(a)?d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SEND_RESPONSE_FAILED:d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SEND_REQUEST_FAILED;u(a,c,{errorMessage:b})}function q(a){a=a.messageHeader.responseStatusCode;return a!=null}function r(a,b){var c=d("ZenonMWThriftMessageMap").messageTypeToString(a.messageHeader.type).toLowerCase();a=q(a)?"response":"request";switch(b){case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.RECEIVED_REQUEST:case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.RECEIVED_RESPONSE:(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway","receive_"+a+"_"+c);(h||(h=d("ODS"))).flush();return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSING_REQUEST:(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway","processing_"+a+"_"+c);(h||(h=d("ODS"))).flush();return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSED_REQUEST:(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway","processed_"+a+"_"+c);(h||(h=d("ODS"))).flush();return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENDING_RESPONSE:(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway","sending_"+a+"_"+c);(h||(h=d("ODS"))).flush();return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.REQUEST_AFTER_TRANSLATION:(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway","after_translation_"+a+"_"+c);(h||(h=d("ODS"))).flush();return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.REQUEST_AFTER_NULL_CHECK:(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway","after_null_check_"+a+"_"+c);(h||(h=d("ODS"))).flush();return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENT_RESPONSE:case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENT_REQUEST:(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway","sent_"+a+"_"+c);(h||(h=d("ODS"))).flush();return;default:return}}var s={connectionState:"",peerConnectionState:"",signalingState:""};function t(a){var b=babelHelpers["extends"]({},s,a);if(s.connectionState!==b.connectionState||s.peerConnectionState!==b.peerConnectionState||s.signalingState!==b.signalingState){s=b;for(b of i.keys())d("ZenonMWThriftMessageQPLLogger").updateState(b,a)}}function u(a,b,c){var e,f=a.messageHeader;e=(e=i.get(f.transactionId))!=null?e:new Set();i.set(f.transactionId,e);if(b!==d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENT_SM_EVENT&&b!==d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSED_SM_EVENT&&e.has(b))return;e.add(b);j.set(f.transactionId,a);r(a,b);d("ZenonMWThriftMessageQPLLogger").log(a,b,babelHelpers["extends"]({},c,s))}g.setE2eeIsMandatedForCall=a;g.logEventForTxid=b;g.logReceivedMessage=c;g.logProcessingMessage=e;g.logMessageAfterNullCheck=f;g.logMessageAfterTranslation=l;g.logProcessedMessage=m;g.logSendingMessage=n;g.logSentMessage=o;g.logSendMessageFailed=p;g.updateState=t}),98);/*FB_PKG_DELIM*/
__d("E2eeStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({NONE:0,NEGOTIATED:1,STATIC:2});d=a({NONE:0,MEDIA_CHANNEL_KEY_PROTOCOL:1});f=a({SENDER_KEY:0,SESSION_KEY:1});b=a({NOT_SET:0,CONTROL:1,TEST:2});var g=a({NOT_SET:0,CONTROL:1,TEST:2});a=a({ENABLED:0,DISABLED:1,FALLBACK:2});e.exports={E2eeKeyNegotiationProtocolEnum:f,E2eeStateCapabilitiesEnum:d,E2eeStateP2PSFrameExpStatus:g,InfraMandatedExpStatus:b,KeyNegotiationModeEnum:c,SignalingKeyMessageProtocolEnum:a}}),null);
__d("FBXHorizonMetaCastingControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/casting/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("FDSButtonGroup.react",["CometFocusTableContext","CometRow.react","CometRowItem.react","FDSButton.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k={resetFlexBasis:{flexBasis:"xdl72j9",$$css:!0}},l="secondary";function m(a){var b=j(c("CometFocusTableContext"));b=b.FocusCell;a=a.children;return b!=null?i.jsx(b,{children:a}):a}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.align,d=b===void 0?"justify":b;b=a.direction;b=b===void 0?"forward":b;var e=a.expanding;e=e===void 0?!1:e;var f=a.paddingHorizontal,g=a.paddingTop,h=a.paddingVertical,j=a.primary,n=a.secondary,o=a.secondaryIcon,p=a.secondaryIconGroup,q=a.size,r=a.verticalAlign;a=a.wrap;a=a===void 0?"none":a;var s=[],t=[],u=null;if(j!=null){var v=j.ref,w=j.testid;w=babelHelpers.objectWithoutPropertiesLoose(j,["ref","testid"]);u=i.jsx(m,{children:i.jsx(c("FDSButton.react"),babelHelpers["extends"]({},w,{ref:v,size:q,testid:void 0}))});s.push({hidden:i.jsx(c("FDSButton.react"),babelHelpers["extends"]({},w,{disabled:!0,padding:"normal",size:q})),visible:u})}if(n!=null){j=n.ref;v=n.testid;w=babelHelpers.objectWithoutPropertiesLoose(n,["ref","testid"]);s.push({hidden:i.jsx(c("FDSButton.react"),babelHelpers["extends"]({},w,{disabled:!0,padding:"normal",size:q,type:"secondary"})),visible:i.jsx(m,{children:i.jsx(c("FDSButton.react"),babelHelpers["extends"]({},w,{ref:j,size:q,testid:void 0,type:"secondary"}))})})}else if(o!=null){t.push(i.jsx(c("CometRowItem.react"),{children:i.jsx(m,{children:i.jsx(c("FDSButton.react"),babelHelpers["extends"]({},o,{labelIsHidden:!0,size:q,type:(v=o.type)!=null?v:l}))})},"secondary-icon"))}else if(p!=null){n=p.primaryIcon;w=p.secondaryIcon;t.push(i.jsx(c("CometRowItem.react"),{children:i.jsx(m,{children:i.jsx(c("FDSButton.react"),babelHelpers["extends"]({},n,{labelIsHidden:!0,size:q,type:(j=n.type)!=null?j:l}))})},"secondary-icon-1"),i.jsx(c("CometRowItem.react"),{children:i.jsx(m,{children:i.jsx(c("FDSButton.react"),babelHelpers["extends"]({},w,{labelIsHidden:!0,size:q,type:(o=w.type)!=null?o:l}))})},"secondary-icon-2"))}v=s.map(function(a,b){return i.jsx(c("CometRowItem.react"),{expanding:d==="justify",xstyle:k.resetFlexBasis,children:s.map(function(a,c){return i.jsx(i.Fragment,{children:b!==c?i.jsx("div",babelHelpers["extends"]({"aria-hidden":!0},{className:"xqtp20y x6ikm8r x10wlt62 xlshs6z"},{children:a.hidden})):a.visible},c)})},b)});p=u!=null?i.jsx(c("CometRowItem.react"),{expanding:d==="justify",xstyle:k.resetFlexBasis,children:u},"primary"):null;n=[p].concat(t);j=s.length===2;q=j||u==null?v:n;w=b==="forward"?q:q.reverse();return i.jsx(c("CometRow.react"),{align:d,expanding:e,paddingHorizontal:f,paddingTop:g,paddingVertical:h,spacing:8,verticalAlign:r,wrap:a,children:w})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GeneratedLoggerUtils",["invariant","Banzai","JstlMigrationFalcoEvent","getDataWithLoggerOptions"],(function(a,b,c,d,e,f,g){"use strict";var h=window.location.search.indexOf("showlog")>-1;function a(a,c,d,e){var f=b("getDataWithLoggerOptions")(c,e);c=a.split(":")[0];var g=a.split(":")[1];c=="logger"?b("JstlMigrationFalcoEvent").log(function(){return{logger_config_name:g,payload:f}}):b("Banzai").post(a,f,d);h}c={log:a,serializeVector:function(a){if(!a)return a;if(Array.isArray(a))return a;if(a.toArray){var b=a;return b.toArray()}if(typeof a==="object"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"])return Array.from(a);g(0,3874,a)},serializeMap:function(a){if(!a)return a;if(a.toJS){var b=a;return b.toJS()}if(typeof a==="object"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]){b=a;var c={};for(b of b)c[b[0]]=b[1];return c}if(Object.prototype.toString.call(a)==="[object Object]")return a;g(0,3875,a)},checkExtraDataFieldNames:function(a,b){Object.keys(a).forEach(function(a){Object.prototype.hasOwnProperty.call(b,a)&&g(0,3876,a)})},warnForInvalidFieldNames:function(a,b,c,d){},throwIfNull:function(a,b){a||g(0,3877,b);return a}};e.exports=c}),null);
__d("HorizonMetaIsCastingRoute",["FBXHorizonMetaCastingControllerRouteBuilder","URI","isHorizonDotMetaDotComURI"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=(h||(h=c("URI"))).getRequestURI(),b=c("FBXHorizonMetaCastingControllerRouteBuilder").buildUri({});return!c("isHorizonDotMetaDotComURI")(a)?!1:a.addTrailingSlash().getPath()===b.getPath()}b={getIsCastingRoute:a};g["default"]=b}),98);
__d("IGDOverLSMqttChannel",["CurrentUser","Env","MqttChannel","MqttEnv","MqttEnvInitializer","MqttWebConfig","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i;c("MqttEnvInitializer").initialize();function j(a){d("MqttEnv").setIsUserLoggedInNow(c("CurrentUser").isLoggedIn);var b=c("CurrentUser").getAppID()==null?936619743392459:Number(c("CurrentUser").getAppID());return new(c("MqttChannel"))({appId:b,capabilities:c("MqttWebConfig").capabilities,chatVisibility:!0,clientCapabilities:c("MqttWebConfig").clientCapabilities,clientType:"cookie_auth",deviceId:a,endpoint:(i||(i=c("Env"))).ig_mqtt_wss_endpoint||"wss://edge-chat.instagram.com/chat",initialSubscribedTopics:c("MqttWebConfig").subscribedTopics,phpOverride:c("MqttWebConfig").hostNameOverride,pollingEndpoint:(i||(i=c("Env"))).ig_mqtt_polling_endpoint||"https://edge-chat.instagram.com/mqtt/pull",userFbid:c("CurrentUser").getPossiblyNonFacebookUserID()})}var k=null,l;function m(a){k==null&&(k=j(a));a=k;l==null?void 0:l(a);return a}function a(){return new(h||(h=b("Promise")))(function(a){k?a(m()):l=function(b){a(b)}})}function e(){k!=null&&(k.shutdown(),k=null)}g.getInstance=m;g.waitAndGetInstance=a;g.shutdownAndClear=e}),98);
__d("IGWebCallWindowControllerLoader",["FBLogger","JSResourceForInteraction","Promise","asyncToGeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("RTWebCallWindowOpener").__setRef("IGWebCallWindowControllerLoader"),j=c("requireDeferred")("ZenonCallWindowController").__setRef("IGWebCallWindowControllerLoader"),k=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(babelHelpers.wrapNativeSuper(Error));a=function(){function a(a,b){this.$1=null,this.$2=a,this.$3=b}var d=a.prototype;d.init=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield (h||(h=b("Promise"))).all([j.load(),i.load()])),d=a[0];a=a[1];this.$1=new d(this.$2,{callWindowInitializerResource:this.$3,callWindowOpener:new a(),uriBuilderResource:c("JSResourceForInteraction")("IGCallUriBuilder").__setRef("IGWebCallWindowControllerLoader")})}catch(a){c("FBLogger")("rtc_www").catching(a).warn("Failed to initialize call window controller")}});function d(){return a.apply(this,arguments)}return d}();d.initCall=function(a){if(this.$1)return this.$1.initCall(a);else throw new k()};return a}();a.ResourceNotReadyError=k;g["default"]=a}),98);
__d("ZenonCallInviteModelLoader",["BaseEventEmitter","Promise","asyncToGeneratorRuntime","emptyFunction","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("ZenonCallInviteModel").__setRef("ZenonCallInviteModelLoader"),j=c("requireDeferred")("delegateZenonCallInviteModel").__setRef("ZenonCallInviteModelLoader");a=function(a){babelHelpers.inheritsLoose(d,a);function d(b){var d;d=a.call(this)||this;d.$ZenonCallInviteModelLoader$p_1=null;d.getCurrentInvite=function(){return null};d.startListening=function(a){this.$ZenonCallInviteModelLoader$p_1=a};d.stopListening=function(){this.$ZenonCallInviteModelLoader$p_1=null};d.dismiss=c("emptyFunction");d.accept=c("emptyFunction");d.decline=c("emptyFunction");d.$ZenonCallInviteModelLoader$p_2=b;return d}var e=d.prototype;e.init=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield (h||(h=b("Promise"))).all([i.load(),j.load()])),c=a[0];a=a[1];c=new c(this.$ZenonCallInviteModelLoader$p_2);a(this,c);this.$ZenonCallInviteModelLoader$p_1!==null&&c.startListening(this.$ZenonCallInviteModelLoader$p_1)});function c(){return a.apply(this,arguments)}return c}();return d}(c("BaseEventEmitter"));g["default"]=a}),98);
__d("ZenonIncomingRingSDK",["BaseEventEmitter","RTWebIncomingRingConfiguration","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("ZenonParentCallsManager").__setRef("ZenonIncomingRingSDK"),i=[1,2,15,16];a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$ZenonIncomingRingSDK$p_1=[],c.$ZenonIncomingRingSDK$p_2=[],b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.init=function(a){var b=this;this.$ZenonIncomingRingSDK$p_3=a;h.onReady(function(c){b.callsManager==null&&(b.callsManager=new c(a));c=b.callsManager;c.addListener("unsupportedRing",function(a){return b.emit("unsupportedRing",a)});c.addListener("incomingRing",function(a){var c;if(a.actorID!=null&&!((c=b.$ZenonIncomingRingSDK$p_3)==null?void 0:c.enableIncomingActorCalls))return;b.emit("incomingRing",a)});c.addListener("ringCancel",function(a){return b.emit("ringCancel",a)});c.initListeners(b.$ZenonIncomingRingSDK$p_1);while(b.$ZenonIncomingRingSDK$p_2.length>0){var d=b.$ZenonIncomingRingSDK$p_2.shift();c.startOutgoingCallIntent(d.nonce,d.callParams)}})};c.initListeners=function(a){var b=this.callsManager;if(b!=null)b.initListeners(a);else{(b=this.$ZenonIncomingRingSDK$p_1).push.apply(b,a)}};c.removeListeners=function(a){var b=this;if(this.callsManager!=null)this.callsManager.removeListeners(a);else{var c=function(a){b.$ZenonIncomingRingSDK$p_1=b.$ZenonIncomingRingSDK$p_1.filter(function(b){return b!==a})};for(a of a)c(a)}};c.isCallSupported=function(a){switch(a.type){case"thread":if(this.$ZenonIncomingRingSDK$p_3&&i.includes(a.threadType)){return(a=d("RTWebIncomingRingConfiguration").isSupportedClient())!=null?a:!1}break;default:return!1}return!1};c.startCallIntent=function(a,b){this.callsManager?this.callsManager.startOutgoingCallIntent(a,b):this.$ZenonIncomingRingSDK$p_2.push({callParams:b,nonce:a})};return b}(c("BaseEventEmitter"));g["default"]=a}),98);
__d("IGWebPreCallContextSingleton",["FBLogger","IGWebCallWindowControllerLoader","JSResource","ZenonCallInviteModelLoader","ZenonIncomingRingSDK","gkx","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("IgSignalingListener").__setRef("IGWebPreCallContextSingleton"),i=!1,j;function a(a){if(!c("gkx")("25307"))return null;if(j!=null)return j;try{var b=new(c("ZenonIncomingRingSDK"))();j={callInviteModel:new(c("ZenonCallInviteModelLoader"))(b),callWindowController:new(c("IGWebCallWindowControllerLoader"))(a,c("JSResource")("IGWebCallWindowInitializer").__setRef("IGWebPreCallContextSingleton")),incomingRingSDK:b};return j}catch(a){c("FBLogger")("rtc_www").catching(a).mustfix("Pre-call context initialization failed! This breaks all calling!");return null}}function b(a){if(!c("gkx")("25307"))return null;if(i)return j;i=!0;c("promiseDone")(j.callInviteModel.init());c("promiseDone")(j.callWindowController.init());j.incomingRingSDK.init({enableIncomingActorCalls:!1,relayEnvironment:a});c("promiseDone")(h.load(),function(a){j.incomingRingSDK.initListeners([new a()])});return j}g.create=a;g.init=b}),98);
__d("IGWebPreCallProvider.react",["CometRelay","IGWebPreCallContext","IGWebPreCallContextSingleton","react","react-compiler-runtime","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(9);a=a.children;var e=d("CometRelay").useRelayEnvironment(),f;b[0]!==e?(f=function(){return d("IGWebPreCallContextSingleton").create({relayEnvironment:e})},b[0]=e,b[1]=f):f=b[1];var g=c("useStable")(f),h;b[2]!==g||b[3]!==e?(f=function(){g&&(d("IGWebPreCallContextSingleton").init(e),g.callInviteModel.startListening({callsBlocked:!1}))},h=[g,e],b[2]=g,b[3]=e,b[4]=f,b[5]=h):(f=b[4],h=b[5]);j(f,h);b[6]!==a||b[7]!==g?(f=i.jsx(c("IGWebPreCallContext").Provider,{value:g,children:a}),b[6]=a,b[7]=g,b[8]=f):f=b[8];return f}g["default"]=a}),98);
__d("PolarisSwitchAccountsModalLazy.react",["CometPlaceholder.react","IGCoreModal.react","IGDSBox.react","IGDSSpinner.react","JSResourceForInteraction","lazyLoadComponent","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisSwitchAccountsModal.react").__setRef("PolarisSwitchAccountsModalLazy.react"));function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("IGCoreModal.react"),{children:i.jsx(c("IGDSBox.react"),{alignItems:"center",height:112,justifyContent:"center",position:"relative",width:"100%",children:i.jsx(c("IGDSSpinner.react"),{size:"medium"})})}),children:i.jsx(j,{})}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("RpWebInfraActionsLoggerEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744334");b=d("FalcoLoggerInternal").create("rp_web_infra_actions_logger_event",a);e=b;g["default"]=e}),98);
__d("RtcWebUserActionsDebugFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744337");b=d("FalcoLoggerInternal").create("rtc_web_user_actions_debug",a);e=b;g["default"]=e}),98);
__d("RtcWebUserActionsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744338");b=d("FalcoLoggerInternal").create("rtc_web_user_actions",a);e=b;g["default"]=e}),98);
__d("StateSyncSerializers",["ThriftTypes"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return{version:0}}function b(){return{stateStore:{}}}function i(a,b){b.writeStructBegin("State");b.writeFieldBegin({fname:"version",ftype:(h||(h=c("ThriftTypes"))).I32,fid:1});if(a.version!=null)b.writeI32(a.version);else{var d=0;b.writeI32(d)}b.writeFieldEnd();a.data!=null&&(b.writeFieldBegin({fname:"data",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2}),b.writeBinary(a.data),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function d(a,b){b.writeStructBegin("Snapshot");b.writeFieldBegin({fname:"stateStore",ftype:(h||(h=c("ThriftTypes"))).MAP,fid:1});if(a.stateStore!=null){b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).STRING,vtype:h.STRUCT,size:Object.keys(a.stateStore).length});for(a of Object.entries(a.stateStore)){var d=a[0],e=a[1];b.writeString(d);i(e,b)}b.writeMapEnd()}else{d={};b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).STRING,vtype:h.STRUCT,size:Object.keys(d).length});for(e of Object.entries(d)){a=e[0];d=e[1];b.writeString(a);i(d,b)}b.writeMapEnd()}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function j(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).I32?b.version=a.readI32():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.data=a.readBinary():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.version===void 0&&(b.version=0);return b}function e(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(h||(h=c("ThriftTypes"))).MAP){b.stateStore={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var g=a.readString(),i=j(a);b.stateStore[g]=i}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.stateStore===void 0&&(b.stateStore={});return b}g.State$DefaultConstructor=a;g.Snapshot$DefaultConstructor=b;g.serializeState=i;g.serializeSnapshot=d;g.deserializeState=j;g.deserializeSnapshot=e}),98);
__d("ZenonAppProvider",["HorizonMetaIsCastingRoute","IGDWebUtils","ZenonActorHooks"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("IGDWebUtils").isInstagramWebSupportedApp(m())}function b(){return n(m())}function e(){return m()===351299233827255}function f(){return m()===2057013231240274}function h(){return m()===518491789147974}function i(){var a=d("ZenonActorHooks").ZenonActor.getAppID();return a==null?!1:Number(a)===2763362503905702||Number(a)===1013624499181349||Number(a)===351299233827255&&c("HorizonMetaIsCastingRoute").getIsCastingRoute()}function j(){var a=d("ZenonActorHooks").ZenonActor.getAppID();return a==null?!1:Number(a)===218968626708284}function k(){var a=d("ZenonActorHooks").ZenonActor.getAppID();return a==null?!1:Number(a)===772021112871879||Number(a)===2220391788200892}function l(){var a=m();return a===949958857019662||a===1358015658191005||a===445865345227527}function m(){var a=d("ZenonActorHooks").ZenonActor.getAppID();return a==null?null:Number(a)}function n(a){return a!=null?a===2763362503905702||a===1013624499181349||a===351299233827255:!1}g.isInstagramApp=a;g.isOculusApp=b;g.isHorizonApp=e;g.isHorizonWorldsApp=f;g.isCastingCenterApp=h;g.isOculusCastingSite=i;g.isMDCApp=j;g.isMessengerWebApp=k;g.isMetaAI=l}),98);
__d("ZenonActorHooks",["CurrentUser","FBLogger","ZenonAppProvider","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=null,j=null,k=!1,l=!1,m=new Set();function n(a,b){b===void 0&&(b="Fallback to CurrentUser"),m.has(a)||(c("FBLogger")("rtc_www").blameToPreviousFrame().info("ZenonActor."+a+" - "+b),m.add(a))}function a(){return[o.getID(),function(a){n("useZenonActor:setter","This setter should not be used as Zenon should currently doesn't allow switching Actor"),h=a}]}function b(a,b,c){b===void 0&&(b=!1);c===void 0&&(c=!1);if(h!==null){if(l)return;n("initZenonActor","ZenonActor is being reinitalized. This may indicate unneccessary ZenonActorProvider's to RelayEnvironmentProvider's in the component tree.")}l=l||b;k=k||c;typeof a==="string"||typeof a==="number"?(h=a.toString(),i=null,j=null):(a==null?void 0:a.actorID)!=null&&(h=a.actorID.toString(),i=a.name,j=a.shortName)}var o={getAccountID:function(){if(o.isInstagramUser())return c("CurrentUser").getEIMU();if(o.isOculusCastingUser())return c("CurrentUser").getEOCPU();return o.isMDCUser()?c("CurrentUser").getPossiblyNonFacebookUserID():c("CurrentUser").getAccountID()},getAppID:function(){return c("CurrentUser").getAppID()},getID:function(){if(o.isInstagramUser())return c("CurrentUser").getEIMU();if(o.isOculusCastingUser())return c("CurrentUser").getEOCPU();if(o.isMDCUser())return c("CurrentUser").getPossiblyNonFacebookUserID();if(o.isHorizonWebUser()&&!c("gkx")("5683"))return c("CurrentUser").getEPOU();if(o.isKadabraUser())return c("CurrentUser").getARID();if(h===null){n("getID");return c("CurrentUser").getID()}else return h},getName:function(){var a;return(a=i)!=null?a:c("CurrentUser").getName()},getShortName:function(){var a;return(a=j)!=null?a:c("CurrentUser").getShortName()},isEmployee:function(){return c("CurrentUser").isEmployee()},isHorizonWebUser:function(){return c("CurrentUser").getEPOU()!==0&&d("ZenonAppProvider").isHorizonApp()},isInstagramUser:function(){return c("CurrentUser").getEIMU()!==0&&d("ZenonAppProvider").isInstagramApp()},isKadabraUser:function(){return c("gkx")("11152")&&c("CurrentUser").getAppID()===String(1358015658191005)},isLoggedIn:function(){return c("CurrentUser").isLoggedIn()},isLoggedInNow:function(){return c("CurrentUser").isLoggedInNow()},isManagedMetaAccount:function(){return c("CurrentUser").isManagedMetaAccount()},isMDCUser:function(){return c("CurrentUser").getPossiblyNonFacebookUserID()!=="0"&&d("ZenonAppProvider").isMDCApp()},isMessengerCallGuestUser:function(){return c("CurrentUser").isMessengerCallGuestUser()},isOculusCastingUser:function(){return c("CurrentUser").getEOCPU()!==0&&d("ZenonAppProvider").isOculusApp()},isOculusUser:function(){return c("CurrentUser").getEPOU()!==0&&d("ZenonAppProvider").isOculusApp()},isPage:function(){return k},isTestUser:function(){return c("CurrentUser").isTestUser()},isWorkishUser:function(){return c("CurrentUser").isWorkroomsUser()||c("CurrentUser").isWorkUser()},isWorkroomsUser:function(){return c("CurrentUser").isWorkroomsUser()},isWorkUser:function(){return c("CurrentUser").isWorkUser()}};g.useZenonActor=a;g.initZenonActor=b;g.ZenonActor=o}),98);
__d("ZenonAuditedCheckpointLogId",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["RP_ROOMS_INFRA_WWW__E2EE","RP_ROOMS_INFRA_WWW__WASM","RP_ROOMS_INFRA_WWW__LOGGER_INFRA","RP_ROOMS_INFRA_WWW__STATE_MACHINE","RP_ROOMS_INFRA_WWW__ERROR","RP_ROOMS_INFRA_WWW__E2EE_DEVICE_VERIFIER","RP_ROOMS_INFRA_WWW__PLATFORM"]);c=a;f["default"]=c}),66);
__d("ZenonCallWindowErrors",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonOpeningAnotherCallError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonConferenceNameMutationFailedError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));c=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonIncompleteControllerParamsError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));d=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonUnsupportedThreadTypeError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonCannotAcceptInviteError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));var g=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.name="ZenonInviteNotFoundError",a)||babelHelpers.assertThisInitialized(c)}return a}(babelHelpers.wrapNativeSuper(Error)),h=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.name="ZenonUninitializedError",a)||babelHelpers.assertThisInitialized(c)}return a}(babelHelpers.wrapNativeSuper(Error));f.OpeningAnotherCallError=a;f.ConferenceNameMutationFailedError=b;f.IncompleteControllerParamsError=c;f.UnsupportedThreadTypeError=d;f.CannotAcceptInviteError=e;f.InviteNotFoundError=g;f.UninitializedError=h}),66);
__d("isEmployeeTestUserZenonLogging",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("25162")||c("gkx")("25152")||c("gkx")("25209")}g["default"]=a}),98);
__d("ZenonInfraActionsLogger",["Log","RpWebInfraActionsLoggerEventFalcoEvent","ZenonAuditedCheckpointLogId","formatDate","isEmployeeTestUserZenonLogging","justknobx"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1={callTrigger:void 0,conferenceName:void 0,deviceID:void 0,mediaPath:"sfu",peerID:void 0,serverInfoData:void 0,signalingID:void 0},this.$2=new Set(),this.$3=new Map(),this.$4=new Map()}var b=a.prototype;b.updateCachedValues=function(a){Object.assign(this.$1,a)};b.setE2eeIsMandatedForCall=function(a){this.$3.set(a,!0)};b.logCheckpointEmployeesTestUsersOnly=function(a){if(!c("isEmployeeTestUserZenonLogging")())return;this.logCheckpoint(a)};b.logCheckpoint=function(a){this.logEvent(babelHelpers["extends"]({},a))};b.logCheckpointOnceForDomain=function(a){var b=a.checkpoint;this.$2.has(b)||(this.$2.add(b),this.logCheckpoint(a))};b.logError=function(a){this.logEvent(babelHelpers["extends"]({},a))};b.startTimer=function(a){var b=Date.now();this.$4.set(a,b);this.logEvent({checkpoint:a+"_timerStart"})};b.stopTimer=function(a){var b=this.$4.get(a);this.$4["delete"](a);b=b!=null?Date.now()-b:null;this.logEvent({checkpoint:a+"_timerEnd",eventTimeElapsed:b});return parseInt(b,10)};b.logEvent=function(a){var b;if(c("justknobx")._("854"))return;b=(b=this.$3.get((b=this.$1.signalingID)!=null?b:""))!=null?b:!1;if(b&&!c("justknobx")._("1021"))return;if(b&&a.auditId==null){b="Encountered an unaudited log line, dropping it.";a.error!=null?this.logEvent({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__LOGGER_INFRA,error:b}):this.logEvent({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__LOGGER_INFRA,checkpoint:b});return}if(((b=a.checkpoint)==null?void 0:b.length)!=null&&a.checkpoint.length>3e5)return;var d={call_id:(b=a.signalingID)!=null?b:this.$1.signalingID==null?void 0:String(this.$1.signalingID),call_trigger:this.$1.callTrigger,call_type:(b=a.callType)!=null?b:null,checkpoint:a.checkpoint,client_session_id:this.$1.signalingID,client_time:Date.now().toString(),conference_name:(b=a.conferenceName)!=null?b:this.$1.conferenceName,connection:(b=a.connectionState)!=null?b:this.$1.connectionState,device_id:this.$1.deviceID,error:a.error,error_domain:a.errorDomain,event_time_elapsed:(b=a.eventTimeElapsed)==null?void 0:b.toString(),is_caller:(b=a.isCaller)!=null?b:null,media_path:(b=a.mediaPath)!=null?b:this.$1.mediaPath,message_id:a.messageID,peer_connection:(b=a.peerConnectionState)!=null?b:this.$1.peerConnectionState,peer_id:this.$1.peerID,sdp_format:(b=a.sdpFormat)!=null?b:null,server_info_data:(b=a.serverInfoData)!=null?b:this.$1.serverInfoData,signaling:(b=a.signalingState)!=null?b:this.$1.signalingState,state_machine_id:a.stateMachineID};c("RpWebInfraActionsLoggerEventFalcoEvent").log(function(){return d})};return a}();b=new a();g["default"]=b}),98);
__d("ZenonLoggingUtils",["ZenonAppProvider"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("ZenonAppProvider").isHorizonApp()||d("ZenonAppProvider").isHorizonWorldsApp()?!1:!0}g.shouldAllowLogging=a}),98);
__d("ZenonMachineToQPLEvent",["qpl"],(function(a,b,c,d,e,f,g){"use strict";b={ConnectionStateMachine:(a=c("qpl"))._(64243854,"2452"),ParentSignalingClient:a._(64234815,"1094"),PeerConnectionStateMachine:a._(64239068,"6172"),SignalingStateMachine:a._(64245348,"8823")};g["default"]=b}),98);
__d("ZenonODSLogger",["ODS"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(){}var b=a.prototype;b.logCounter=function(a){(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway",a),h.flush()};b.logE2eeCounter=function(a){(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_e2ee",a),h.flush()};return a}();b=new a();g["default"]=b}),98);
__d("ZenonDebugLogger",["ChannelClientID","CurrentUser","FBLogger","IGDWebUtils","Log","LogHistory","ODS","QuickLogActionType","QuickPerformanceLogger","RpWebStateMachineLoggingBlocklist","UserAgentData","ZenonAuditedCheckpointLogId","ZenonInfraActionsLogger","ZenonLoggingUtils","ZenonMachineToQPLEvent","ZenonODSLogger","formatDate","isEmployeeTestUserZenonLogging"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=null;a=function(){a.getInstance=function(){j||(j=new a());return j};a.getFBLogger=function(a){var b;a===void 0&&(a={});return c("FBLogger")("rpweb").addMetadata("RT_WEB","CALL_ID",""+((b=a.signalingID)!=null?b:"null")).addMetadata("RT_WEB","PEER_ID",""+((b=a.peerID)!=null?b:"null"))};function a(){var a;this.$1=d("LogHistory").getInstance("webrtc");this.$2=d("ChannelClientID").getID();this.$3=JSON.stringify({browser:(a=c("UserAgentData")).browserName,browser_version:a.browserFullVersion,device:a.deviceName,msg_source:"web",os:a.platformName,os_version:a.platformFullVersion,version:2});a=c("CurrentUser").getAppID();a!=null&&d("IGDWebUtils").isInstagramWebSupportedApp(Number(a))?this.$4=parseInt(a,10):this.$4=219994525426954;this.$5=new Set(c("RpWebStateMachineLoggingBlocklist").EVENT_TYPES);this.$6=new Set(c("RpWebStateMachineLoggingBlocklist").STATES)}var b=a.prototype;b.$7=function(a,b,d){b===void 0&&(b=!0);var e=c("formatDate")(new Date(),"[H:i:s:X]",{skipPatternLocalization:!0});this.$1.log("Console",e+" "+a);b&&c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"[ZP] "+a,messageID:d})};b.$8=function(a,b,d){var e=c("formatDate")(new Date(),"[H:i:s:X]",{skipPatternLocalization:!0});this.$1.log("Console",e+" "+a+". StateMachineID:  "+((e=b)!=null?e:""));e={auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__STATE_MACHINE,checkpoint:"[ZP] "+a+".",stateMachineID:b};d!=null&&(e.messageID=d);c("ZenonInfraActionsLogger").logCheckpoint(e)};b.$9=function(a,b,e,f){f===void 0&&(f=0);a=c("ZenonMachineToQPLEvent")==null?void 0:c("ZenonMachineToQPLEvent")[a];if(!(a&&(i||(i=c("QuickPerformanceLogger")))&&c("QuickLogActionType")&&d("ZenonLoggingUtils").shouldAllowLogging()))return;e==="terminated"?(i||(i=c("QuickPerformanceLogger"))).markerEnd(a,2,f):(i||(i=c("QuickPerformanceLogger"))).markerPoint(a,b,{data:{string:{data:e}},instanceKey:f})};b.$10=function(a){return isNaN(+a)?0:+a};b.getLogHistory=function(){return this.$1};b.logStateMachine=function(a,b,d,e,f){if(!c("isEmployeeTestUserZenonLogging")())return;if(this.$5.has(d))return;var g="["+a+"] [Current State: "+b+"] Processing event: "+d;g={auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__STATE_MACHINE,checkpoint:""+g,stateMachineID:e};f!=null&&(g.messageID=f);c("ZenonInfraActionsLogger").logCheckpoint(g);this.$9(a,d,b,this.$10(e))};b.logStateMachineTransition=function(a,b,d,e,f,g,h,i){if(this.$6.has(d)||this.$5.has(f))return;if(!c("isEmployeeTestUserZenonLogging")())return;var j="";g!=null&&g.length===1&&g[0].type==="defer"?j="["+a+"] [[DEFERRED] "+f+" did not trigger transition. Current state remains "+d:d!==e?j="["+a+"] [[PROCESSED] "+f+" caused transition from "+(e||"")+" to "+d+".":b?j="["+a+"] [[PROCESSED] "+f+" did not trigger transition. Current state remains "+d:(j="["+a+"] [[DROPPED] "+f+" did not trigger transition. Current state remains "+d,this.$11(a));this.$8(j,h,i)};b.startQPL=function(a,b){b===void 0&&(b=0),(i||(i=c("QuickPerformanceLogger")))&&d("ZenonLoggingUtils").shouldAllowLogging()&&(i||(i=c("QuickPerformanceLogger"))).markerStart(a,this.$10(b))};b.endQPL=function(a,b){b===void 0&&(b=0),(i||(i=c("QuickPerformanceLogger")))&&c("QuickLogActionType")&&d("ZenonLoggingUtils").shouldAllowLogging()&&(i||(i=c("QuickPerformanceLogger"))).markerEnd(a,2,this.$10(b))};b.logConsole=function(a){this.$7(a,!1)};b.logMQTTStateChange=function(a){var b="mqtt_client_state_"+a;c("ZenonODSLogger").logCounter(b);c("isEmployeeTestUserZenonLogging")()&&c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"[ZP] onMQTTStateChanged: "+a+", document.visibility: "+document.visibilityState+", document.hasFocus: "+String(document.hasFocus())+", navigator.onLine: "+String(navigator.onLine)})};b.logMQTTConnectStats=function(a,b){c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"[ZP] MQTT Connection time: "+String(a)+"ms, Retry Count: "+String(b)})};b.$11=function(a){(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_state_machine",a+"_event_dropped"),h.flush()};return a}();g["default"]=a}),98);
__d("ZenonIGMediaUtil",["ZenonAppProvider","gkx"],(function(a,b,c,d,e,f,g){"use strict";a={shouldUseSFUOnly:function(){return d("ZenonAppProvider").isInstagramApp()&&!c("gkx")("2274")}};b=a;g["default"]=b}),98);
__d("ZenonPeerID",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";var i="MW_PEER_ID";function a(a){a.length>0||h(0,33504);if(a==="MW_PEER_ID")return i;isNaN(a)===!1||h(0,33551,a);return a}function b(a){return isNaN(a)||a===i?null:a}g.ZenonMWPeerID=i;g.convertStringToPeerID=a;g.convertPeerIDForLogging=b}),98);
__d("ZenonSDESKeyDetector",[],(function(a,b,c,d,e,f){"use strict";var g=/inline:\s*[0-9a-zA-z+/]{40}(\b|\s|$)/;function a(a){return g.test(JSON.stringify(a))}f["default"]=a}),66);
__d("ZenonSignalingMessage",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.getHeader=function(){return this.$1};b.getEvents=function(){return this.$2};b.setSignalingID=function(a){this.$1.signalingID=a};b.setRetryCount=function(a){this.$1.retryCount=a};return a}();f["default"]=a}),66);
__d("ZenonSignalingProtocol",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({MW:"mw",MWPP:"mw++"});c=a;f["default"]=c}),66);
__d("ZenonSignalingTypes",[],(function(a,b,c,d,e,f){"use strict";a={OK:0,REJECTED_FROM_VERSION_DOES_NOT_MATCH:1,METHOD_NOT_ALLOWED:2};b={CLIENT_TERMINATED:0};f.ZenonSignalingStatusCode=a;f.ZenonSignalingStatusSubCode=b}),66);
__d("ZenonUserActionLogger",["RtcWebUserActionsDebugFalcoEvent","RtcWebUserActionsFalcoEvent","ZenonDebugLogger","ZenonLoggingUtils","ZenonSDESKeyDetector","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=window.location.hostname.search("facebook")!==-1?"facebook":window.location.hostname.search("messenger")!==-1?"messenger_dot_com":null,j={logCheckpoint:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"checkpoint"}))},logClick:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"tap"}))},logError:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"error"}))},logEvent:function(a){var b;if(c("ZenonSDESKeyDetector")(a))throw c("unrecoverableViolation")("ZenonUserActionLogger event contains SDES crypto key! This log entry must be removed!","rtc_www");if(!d("ZenonLoggingUtils").shouldAllowLogging())return;b=babelHelpers["extends"]({},a,{page:(b=a.page)!=null?b:i});var e=babelHelpers["extends"]({},b,{client_time:Date.now().toString()});c("RtcWebUserActionsDebugFalcoEvent").log(function(){return e});c("RtcWebUserActionsFalcoEvent").log(function(){return e});c("ZenonDebugLogger").getInstance().getLogHistory().log((a=a.event)!=null?a:"null",JSON.stringify(b))},logImpression:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"impression"}))},logPreCallClick:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"tap"}))},logPreCallImpression:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"impression"}))},startTimer:function(a){var b=Date.now();h=h.set(a,b);j.logCheckpoint({checkpoint:a+"_timerStart"})},stopTimer:function(a){var b=a.checkpointName===void 0?a.timerName:a.checkpointName,c=a.event||{},d=function(a){var b=h.get(a);if(b!=null){h["delete"](a);return parseInt(Date.now()-b,10)}return null};d=d(a.timerName);j.logCheckpoint(babelHelpers["extends"]({},c,{checkpoint:b+"_timerEnd",event_time_elapsed:d==null?void 0:d.toString()}));return parseInt(d,10)}};f.exports=j}),34);
__d("shouldUseSFUMediaPath",["ZenonAppProvider","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("gkx")("25249");if(b)return!0;return d("ZenonAppProvider").isMessengerWebApp()&&a&&((b=c("gkx")("3298"))!=null?b:!1)?!0:!1}g["default"]=a}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("javascript-blowfish-1.0.5",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a=function(b,c){this.key=b,(c==="ecb"||c==="cbc")&&(this.mode=c),this.sBox0=a.sBox0.slice(),this.sBox1=a.sBox1.slice(),this.sBox2=a.sBox2.slice(),this.sBox3=a.sBox3.slice(),this.pArray=a.pArray.slice(),this.generateSubkeys(b)};a.prototype={sBox0:null,sBox1:null,sBox2:null,sBox3:null,pArray:null,key:null,mode:"ecb",iv:"abc12345",keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encrypt:function(a,b){if(this.mode==="ecb")return this.encryptECB(a);if(this.mode==="cbc")return this.encryptCBC(a,b);throw new Error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f.")},decrypt:function(a,b){if(this.mode==="ecb")return this.decryptECB(a);if(this.mode==="cbc")return this.decryptCBC(a,b);throw new Error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f.")},encryptECB:function(a){a=this.utf8Decode(a);var b=Math.ceil(a.length/8),c="";for(var d=0;d<b;d++){var e=a.substr(d*8,8);if(e.length<8){var f=8-e.length;while(0<f--)e+="\0"}var g;f=this.split64by32(e);e=f[0];g=f[1];f=this.encipher(e,g);e=f[0];g=f[1];c+=this.num2block32(e)+this.num2block32(g)}return c},encryptCBC:function(a,b){a=this.utf8Decode(a);var c=Math.ceil(a.length/8),d;b=this.split64by32(b);d=b[0];b=b[1];var e="";for(var f=0;f<c;f++){var g=a.substr(f*8,8);if(g.length<8){var h=8-g.length;while(0<h--)g+="\0"}var i;h=this.split64by32(g);g=h[0];i=h[1];g=this.xor(g,d);i=this.xor(i,b);h=this.encipher(g,i);g=h[0];i=h[1];d=g;b=i;e+=this.num2block32(g)+this.num2block32(i)}return e},decryptECB:function(a){var b=Math.ceil(a.length/8),c="";for(var d=0;d<b;d++){var e=a.substr(d*8,8);if(e.length<8)throw new Error("\u0417\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0430: \u0434\u043b\u0438\u043d\u043d\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043a\u0440\u0430\u0442\u043d\u0430 8 \u0431\u0430\u044b\u0439\u0442\u0430\u043c.");var f,g;e=this.split64by32(e);f=e[0];g=e[1];e=this.decipher(f,g);f=e[0];g=e[1];c+=this.num2block32(f)+this.num2block32(g)}c=this.utf8Encode(c);return c},decryptCBC:function(a,b){var c=Math.ceil(a.length/8),d,e,f;b=this.split64by32(b);d=b[0];b=b[1];var g="";for(var h=0;h<c;h++){var i=a.substr(h*8,8);if(i.length<8)throw new Error("\u0417\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0430: \u0434\u043b\u0438\u043d\u043d\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043a\u0440\u0430\u0442\u043d\u0430 8 \u0431\u0430\u0439\u0442\u0430\u043c.");var j,k;i=this.split64by32(i);j=i[0];k=i[1];e=j;f=k;i=this.decipher(j,k);j=i[0];k=i[1];j=this.xor(j,d);k=this.xor(k,b);d=e;b=f;g+=this.num2block32(j)+this.num2block32(k)}g=this.utf8Encode(g);return g},F:function(a){var b=a>>>24,c=a<<8>>>24,d=a<<16>>>24;a=a<<24>>>24;b=this.addMod32(this.sBox0[b],this.sBox1[c]);b=this.xor(b,this.sBox2[d]);b=this.addMod32(b,this.sBox3[a]);return b},encipher:function(a,b){var c;for(var d=0;d<16;d++)a=this.xor(a,this.pArray[d]),b=this.xor(this.F(a),b),c=a,a=b,b=c;c=a;a=b;b=c;b=this.xor(b,this.pArray[16]);a=this.xor(a,this.pArray[17]);return[a,b]},decipher:function(a,b){var c;a=this.xor(a,this.pArray[17]);b=this.xor(b,this.pArray[16]);c=a;a=b;b=c;for(var d=15;d>=0;d--)c=a,a=b,b=c,b=this.xor(this.F(a),b),a=this.xor(a,this.pArray[d]);return[a,b]},generateSubkeys:function(a){var b=0,c=0,d,e;for(d=0;d<18;d++){for(e=4;e>0;e--)b=this.fixNegative(b<<8|a.charCodeAt(c)),c=(c+1)%a.length;this.pArray[d]=this.xor(this.pArray[d],b);b=0}e=[0,0];for(d=0;d<18;d+=2)e=this.encipher(e[0],e[1]),this.pArray[d]=e[0],this.pArray[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox0[d]=e[0],this.sBox0[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox1[d]=e[0],this.sBox1[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox2[d]=e[0],this.sBox2[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox3[d]=e[0],this.sBox3[d+1]=e[1]},block32toNum:function(a){return this.fixNegative(a.charCodeAt(0)<<24|a.charCodeAt(1)<<16|a.charCodeAt(2)<<8|a.charCodeAt(3))},num2block32:function(a){return String.fromCharCode(a>>>24)+String.fromCharCode(a<<8>>>24)+String.fromCharCode(a<<16>>>24)+String.fromCharCode(a<<24>>>24)},xor:function(a,b){return this.fixNegative(a^b)},addMod32:function(a,b){return this.fixNegative(a+b|0)},fixNegative:function(a){return a>>>0},split64by32:function(a){var b=a.substring(0,4);a=a.substring(4,8);return[this.block32toNum(b),this.block32toNum(a)]},utf8Decode:function(a){var b="";for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b+=String.fromCharCode(d):d>127&&d<2048?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(d&63|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(d&63|128))}return b},utf8Encode:function(a){var b="",c=0,d=0,e=0,f;while(c<a.length)d=a.charCodeAt(c),d<128?(b+=String.fromCharCode(d),c++):d>191&&d<224?(e=a.charCodeAt(c+1),b+=String.fromCharCode((d&31)<<6|e&63),c+=2):(e=a.charCodeAt(c+1),f=a.charCodeAt(c+2),b+=String.fromCharCode((d&15)<<12|(e&63)<<6|f&63),c+=3);return b},base64Encode:function(a){var b="",c,d,e,f,g,h,i=0;while(i<a.length)c=a.charCodeAt(i++),d=a.charCodeAt(i++),e=a.charCodeAt(i++),f=c>>2,c=(c&3)<<4|d>>4,g=(d&15)<<2|e>>6,h=e&63,isNaN(d)?g=h=64:isNaN(e)&&(h=64),b=b+this.keyStr.charAt(f)+this.keyStr.charAt(c)+this.keyStr.charAt(g)+this.keyStr.charAt(h);return b},base64Decode:function(a){var b="",c,d,e,f,g,h=0;a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(h<a.length)d=this.keyStr.indexOf(a.charAt(h++)),e=this.keyStr.indexOf(a.charAt(h++)),f=this.keyStr.indexOf(a.charAt(h++)),g=this.keyStr.indexOf(a.charAt(h++)),d=d<<2|e>>4,e=(e&15)<<4|f>>2,c=(f&3)<<6|g,b=b+String.fromCharCode(d),f!=64&&(b=b+String.fromCharCode(e)),g!=64&&(b=b+String.fromCharCode(c));return b},trimZeros:function(a){return a.replace(/\0+$/g,"")}};a.pArray=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731];a.sBox0=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946];a.sBox1=[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055];a.sBox2=[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504];a.sBox3=[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462];g.exports=a}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("javascript-blowfish",["javascript-blowfish-1.0.5"],(function(a,b,c,d,e,f){e.exports=b("javascript-blowfish-1.0.5")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("remove-accents-0.4.2",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\u1ea4":"A","\u1eae":"A","\u1eb2":"A","\u1eb4":"A","\u1eb6":"A","\xc6":"AE","\u1ea6":"A","\u1eb0":"A","\u0202":"A","\xc7":"C","\u1e08":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\u1ebe":"E","\u1e16":"E","\u1ec0":"E","\u1e14":"E","\u1e1c":"E","\u0206":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\u1e2e":"I","\u020a":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\u1ed0":"O","\u1e4c":"O","\u1e52":"O","\u020e":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xdd":"Y","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\u1ea5":"a","\u1eaf":"a","\u1eb3":"a","\u1eb5":"a","\u1eb7":"a","\xe6":"ae","\u1ea7":"a","\u1eb1":"a","\u0203":"a","\xe7":"c","\u1e09":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\u1ebf":"e","\u1e17":"e","\u1ec1":"e","\u1e15":"e","\u1e1d":"e","\u0207":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\u1e2f":"i","\u020b":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\u1ed1":"o","\u1e4d":"o","\u1e53":"o","\u020f":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xff":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u0108":"C","\u0109":"c","\u010a":"C","\u010b":"c","\u010c":"C","\u010d":"c","C\u0306":"C","c\u0306":"c","\u010e":"D","\u010f":"d","\u0110":"D","\u0111":"d","\u0112":"E","\u0113":"e","\u0114":"E","\u0115":"e","\u0116":"E","\u0117":"e","\u0118":"E","\u0119":"e","\u011a":"E","\u011b":"e","\u011c":"G","\u01f4":"G","\u011d":"g","\u01f5":"g","\u011e":"G","\u011f":"g","\u0120":"G","\u0121":"g","\u0122":"G","\u0123":"g","\u0124":"H","\u0125":"h","\u0126":"H","\u0127":"h","\u1e2a":"H","\u1e2b":"h","\u0128":"I","\u0129":"i","\u012a":"I","\u012b":"i","\u012c":"I","\u012d":"i","\u012e":"I","\u012f":"i","\u0130":"I","\u0131":"i","\u0132":"IJ","\u0133":"ij","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u1e30":"K","\u1e31":"k","K\u0306":"K","k\u0306":"k","\u0139":"L","\u013a":"l","\u013b":"L","\u013c":"l","\u013d":"L","\u013e":"l","\u013f":"L","\u0140":"l","\u0141":"l","\u0142":"l","\u1e3e":"M","\u1e3f":"m","M\u0306":"M","m\u0306":"m","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u0149":"n","N\u0306":"N","n\u0306":"n","\u014c":"O","\u014d":"o","\u014e":"O","\u014f":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","P\u0306":"P","p\u0306":"p","\u0154":"R","\u0155":"r","\u0156":"R","\u0157":"r","\u0158":"R","\u0159":"r","R\u0306":"R","r\u0306":"r","\u0212":"R","\u0213":"r","\u015a":"S","\u015b":"s","\u015c":"S","\u015d":"s","\u015e":"S","\u0218":"S","\u0219":"s","\u015f":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u021b":"t","\u021a":"T","\u0164":"T","\u0165":"t","\u0166":"T","\u0167":"t","T\u0306":"T","t\u0306":"t","\u0168":"U","\u0169":"u","\u016a":"U","\u016b":"u","\u016c":"U","\u016d":"u","\u016e":"U","\u016f":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0216":"U","\u0217":"u","V\u0306":"V","v\u0306":"v","\u0174":"W","\u0175":"w","\u1e82":"W","\u1e83":"w","X\u0306":"X","x\u0306":"x","\u0176":"Y","\u0177":"y","\u0178":"Y","Y\u0306":"Y","y\u0306":"y","\u0179":"Z","\u017a":"z","\u017b":"Z","\u017c":"z","\u017d":"Z","\u017e":"z","\u017f":"s","\u0192":"f","\u01a0":"O","\u01a1":"o","\u01af":"U","\u01b0":"u","\u01cd":"A","\u01ce":"a","\u01cf":"I","\u01d0":"i","\u01d1":"O","\u01d2":"o","\u01d3":"U","\u01d4":"u","\u01d5":"U","\u01d6":"u","\u01d7":"U","\u01d8":"u","\u01d9":"U","\u01da":"u","\u01db":"U","\u01dc":"u","\u1ee8":"U","\u1ee9":"u","\u1e78":"U","\u1e79":"u","\u01fa":"A","\u01fb":"a","\u01fc":"AE","\u01fd":"ae","\u01fe":"O","\u01ff":"o","\xde":"TH","\xfe":"th","\u1e54":"P","\u1e55":"p","\u1e64":"S","\u1e65":"s","X\u0301":"X","x\u0301":"x","\u0403":"\u0413","\u0453":"\u0433","\u040c":"\u041a","\u045c":"\u043a","A\u030b":"A","a\u030b":"a","E\u030b":"E","e\u030b":"e","I\u030b":"I","i\u030b":"i","\u01f8":"N","\u01f9":"n","\u1ed2":"O","\u1ed3":"o","\u1e50":"O","\u1e51":"o","\u1eea":"U","\u1eeb":"u","\u1e80":"W","\u1e81":"w","\u1ef2":"Y","\u1ef3":"y","\u0200":"A","\u0201":"a","\u0204":"E","\u0205":"e","\u0208":"I","\u0209":"i","\u020c":"O","\u020d":"o","\u0210":"R","\u0211":"r","\u0214":"U","\u0215":"u","B\u030c":"B","b\u030c":"b","\u010c\u0323":"C","\u010d\u0323":"c","\xca\u030c":"E","\xea\u030c":"e","F\u030c":"F","f\u030c":"f","\u01e6":"G","\u01e7":"g","\u021e":"H","\u021f":"h","J\u030c":"J","\u01f0":"j","\u01e8":"K","\u01e9":"k","M\u030c":"M","m\u030c":"m","P\u030c":"P","p\u030c":"p","Q\u030c":"Q","q\u030c":"q","\u0158\u0329":"R","\u0159\u0329":"r","\u1e66":"S","\u1e67":"s","V\u030c":"V","v\u030c":"v","W\u030c":"W","w\u030c":"w","X\u030c":"X","x\u030c":"x","Y\u030c":"Y","y\u030c":"y","A\u0327":"A","a\u0327":"a","B\u0327":"B","b\u0327":"b","\u1e10":"D","\u1e11":"d","\u0228":"E","\u0229":"e","\u0190\u0327":"E","\u025b\u0327":"e","\u1e28":"H","\u1e29":"h","I\u0327":"I","i\u0327":"i","\u0197\u0327":"I","\u0268\u0327":"i","M\u0327":"M","m\u0327":"m","O\u0327":"O","o\u0327":"o","Q\u0327":"Q","q\u0327":"q","U\u0327":"U","u\u0327":"u","X\u0327":"X","x\u0327":"x","Z\u0327":"Z","z\u0327":"z"},b=Object.keys(a).join("|"),c=new RegExp(b,"g"),d=new RegExp(b,"");b=function(b){return b.replace(c,function(b){return a[b]})};var e=function(a){return!!a.match(d)};g.exports=b;g.exports.has=e;g.exports.remove=b}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("remove-accents",["remove-accents-0.4.2"],(function(a,b,c,d,e,f){e.exports=b("remove-accents-0.4.2")()}),null);/*FB_PKG_DELIM*/
__d("IGDSXPanoOutline24.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({"data-name":"Layer 1",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"m13.414 12 7.293-7.293a1 1 0 1 0-1.414-1.414L12 10.586 4.707 3.293a1 1 0 1 0-1.414 1.414L10.586 12l-7.293 7.293a1 1 0 1 0 1.414 1.414L12 13.414l7.293 7.293a.997.997 0 0 0 1.414 0 1 1 0 0 0 0-1.414L13.414 12z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("PolarisFollowCard_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisFollowCard_media",selections:[{args:null,kind:"FragmentSpread",name:"PolarisSuggestedUserFollowButton_media"}],type:"XDTUserDict",abstractKey:null};e.exports=a}),null);
__d("PolarisFollowChainingListItem.next.react",["BaseButton.react","IGDSBox.react","IGDSDivider.react","IGDSXPanoOutline24.svg.react","InstagramODS","PolarisGenericStrings","polarisLogAction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={dismissButton:{":active_opacity":"x1d5wrs8",$$css:!0}},k={loggedInCTA:{padding:3},loggedOutCTA:{marginBottom:3,marginEnd:8,marginStart:8}};function a(a){var b=d("react-compiler-runtime").c(41),e=a.analyticsContext,f=a.clickPoint,g=a.icon,h=a.isLoggedOutAYML,l=a.onClick,m=a.onDismissed,n=a.position,o=a.primaryCta,p=a.primaryText,q=a.renderItemFooter;a=a.secondaryText;h=h===void 0?!1:h;var r;b[0]!==e||b[1]!==f?(r=function(a){e&&(c("polarisLogAction")("chainingClick",{source:e,source_of_action:f,target:a}),c("InstagramODS").incr("web.chaining.click"))},b[0]=e,b[1]=f,b[2]=r):r=b[2];var s=r;b[3]!==s||b[4]!==m?(r=function(a){s("dismiss"),m&&m(),a.stopPropagation()},b[3]=s,b[4]=m,b[5]=r):r=b[5];r=r;var t;b[6]!==s||b[7]!==l?(t=function(){s("other"),l&&l()},b[6]=s,b[7]=l,b[8]=t):t=b[8];t=t;var u;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(u={className:"xvbhtw8 x1yvgwvq x1dqoszc x1ixjvfu xhk4uv x1lcm9me x1yr5g0i xrt01vj x10y3i5r x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi x178xt8z xm81vs4 xso031l xy80clv x9f619 x78zum5 xdt5ytf"},b[9]=u):u=b[9];var v;b[10]!==r||b[11]!==m?(v=m&&i.jsx("div",babelHelpers["extends"]({className:"xjbqb8w x1ejq31n xd10rxx x1sy0etr x17r0tee x1ypdohk xds687c xsag5q8 x1iji9kk x1ye3gou x889kno x10l6tqk x13vifvy x1vjfegm"},{children:i.jsx(c("BaseButton.react"),{"aria-label":d("PolarisGenericStrings").DISMISS_TEXT,onClick:r,xstyle:j.dismissButton,children:i.jsx(c("IGDSXPanoOutline24.svg.react"),{color:"#9a9a9a"})})})),b[10]=r,b[11]=m,b[12]=v):v=b[12];b[13]===Symbol["for"]("react.memo_cache_sentinel")?(r={className:"x6s0dn4 x78zum5 xdt5ytf xl56j7k xz9dl7a xn6708d xwib8y2 x1ye3gou"},b[13]=r):r=b[13];var w;b[14]!==g?(w=i.jsx(c("IGDSBox.react"),{marginBottom:1,marginTop:3,children:g}),b[14]=g,b[15]=w):w=b[15];b[16]!==p?(g=i.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",height:16,justifyContent:"center",marginBottom:2,marginTop:1,width:"100%",children:p}),b[16]=p,b[17]=g):g=b[17];b[18]!==a?(p=i.jsx(c("IGDSBox.react"),{alignItems:"start",direction:"row",display:"flex",height:36,justifyContent:"start",marginBottom:1,children:a}),b[18]=a,b[19]=p):p=b[19];b[20]!==n||b[21]!==q?(a=q==null?void 0:q(n),b[20]=n,b[21]=q,b[22]=a):a=b[22];b[23]!==p||b[24]!==a||b[25]!==w||b[26]!==g?(n=i.jsxs("div",babelHelpers["extends"]({},r,{children:[w,g,p,a]})),b[23]=p,b[24]=a,b[25]=w,b[26]=g,b[27]=n):n=b[27];b[28]!==t||b[29]!==n||b[30]!==v?(q=i.jsxs(c("BaseButton.react"),{onClick:t,children:[v,n]}),b[28]=t,b[29]=n,b[30]=v,b[31]=q):q=b[31];b[32]!==h?(r=h?null:i.jsx(c("IGDSDivider.react"),{}),b[32]=h,b[33]=r):r=b[33];p=h?k.loggedOutCTA:k.loggedInCTA;b[34]!==o||b[35]!==p?(a=i.jsx(c("IGDSBox.react"),babelHelpers["extends"]({},p,{children:o})),b[34]=o,b[35]=p,b[36]=a):a=b[36];b[37]!==q||b[38]!==r||b[39]!==a?(w=i.jsxs("div",babelHelpers["extends"]({},u,{"data-testid":void 0,children:[q,r,a]})),b[37]=q,b[38]=r,b[39]=a,b[40]=w):w=b[40];return w}g["default"]=a}),98);
__d("PolarisSuggestedUserFollowButton_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisSuggestedUserFollowButton_media",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},action:"THROW"},{args:null,kind:"FragmentSpread",name:"PolarisUnfollowDialog_user"},{args:null,kind:"FragmentSpread",name:"usePolarisGetRelationshipFragment_user"}],type:"XDTUserDict",abstractKey:null};e.exports=a}),null);
__d("PolarisUnfollowDialog_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisUnfollowDialog_user",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null}],type:"XDTUserDict",abstractKey:null};e.exports=a}),null);
__d("PolarisUnfollowDialog.next.react",["CometRelay","IGCoreDialog.react","PolarisConnectionsLogger","PolarisUnfollowDialogContent.react","PolarisUnfollowDialog_user.graphql","QPLUserFlow","qpl","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;e.useCallback;var k=e.useEffect;function a(a){var e=d("react-compiler-runtime").c(30),f=a.analyticsContext,g=a.analyticsExtra,i=a.onClose,l=a.onUnfollowUser,m=a.size;a=a.user;var n;e[0]!==g?(n=g===void 0?Object.freeze({}):g,e[0]=g,e[1]=n):n=e[1];var o=n;g=m===void 0?90:m;n=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisUnfollowDialog_user.graphql"),a);m=n.is_private;var p=n.pk;a=n.profile_pic_url;n=n.username;var q;e[2]!==f||e[3]!==p?(q=function(a){d("PolarisConnectionsLogger").logConnectionAction({containerModule:f,eventName:a,targetId:p})},e[2]=f,e[3]=p,e[4]=q):q=e[4];var r=q,s;e[5]!==r?(q=function(){r("unfollow_dialog_impresssion")},s=[r],e[5]=r,e[6]=q,e[7]=s):(q=e[6],s=e[7]);k(q,s);e[8]!==f||e[9]!==o||e[10]!==r||e[11]!==i||e[12]!==l||e[13]!==p?(q=function(){r("unfollow_dialog_confirmed"),l!=null&&l(p,f,o),i()},e[8]=f,e[9]=o,e[10]=r,e[11]=i,e[12]=l,e[13]=p,e[14]=q):q=e[14];s=q;e[15]!==r||e[16]!==i?(q=function(){r("unfollow_dialog_cancelled"),i()},e[15]=r,e[16]=i,e[17]=q):q=e[17];q=q;var t;e[18]!==i?(t=function(){c("QPLUserFlow").endCancel(c("qpl")._(379193744,"299")),i()},e[18]=i,e[19]=t):t=e[19];var u;e[20]!==q||e[21]!==s||e[22]!==m||e[23]!==a||e[24]!==g||e[25]!==n?(u=j.jsx(c("PolarisUnfollowDialogContent.react"),{isUserPrivate:m,onCancel:q,onUnfollow:s,profilePictureSize:g,profilePictureUrl:a,username:n}),e[20]=q,e[21]=s,e[22]=m,e[23]=a,e[24]=g,e[25]=n,e[26]=u):u=e[26];e[27]!==u||e[28]!==t?(q=j.jsx(d("IGCoreDialog.react").IGCoreDialog,{"data-testid":void 0,onModalClose:t,children:u}),e[27]=u,e[28]=t,e[29]=q):q=e[29];return q}g["default"]=a}),98);
__d("useShouldShowLoggedOutAYMLFromSharer",["PolarisRoutePropUtils","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=d("react-compiler-runtime").c(2),b=i(d("PolarisRoutePropUtils").PolarisRoutePropContext),c;a[0]!==b.routePropQE?(c=b.routePropQE.getBool("shouldShowAYMLSharer"),a[0]=b.routePropQE,a[1]=c):c=a[1];return c}g["default"]=a}),98);
__d("PolarisSuggestedUserFollowButton.next.react",["CometErrorBoundary.react","CometRelay","IGDSButton.react","PolarisConnectionsLogger","PolarisLinkBuilder","PolarisPostStrings","PolarisProfileRelayExp","PolarisStoriesLoggingUtils","PolarisSuggestedUserFollowButton_media.graphql","PolarisUA","PolarisUnfollowDialog.next.react","react","react-compiler-runtime","usePolarisGetRelationshipFragment","usePolarisLoggedOutIntentAction","usePolarisLoggedOutIntentEntryPointDialog","usePolarisOpenApp","usePolarisPageID","useShouldShowLoggedOutAYMLFromSharer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useState;function a(a){var e=d("react-compiler-runtime").c(33),f=a.analyticsContext,g=a.clickPoint,i=a.index,l=a.isFollowedByViewer,m=a.isLoggedOutAYML,n=a.logFollowButtonClick,o=a.onFollowUser,p=a.onUnfollowUser;a=a.user;var q=m===void 0?!1:m;m=k(!1);var r=m[0],s=m[1],t=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisSuggestedUserFollowButton_media.graphql"),a),u=c("usePolarisGetRelationshipFragment")(t),v=c("usePolarisLoggedOutIntentAction")();e[0]!==t.pk?(m={triggeringUserId:t.pk},e[0]=t.pk,e[1]=m):m=e[1];a=c("usePolarisLoggedOutIntentEntryPointDialog")(m);var w=a[0],x=a[1],y=c("useShouldShowLoggedOutAYMLFromSharer")(),z=c("usePolarisOpenApp")();e[2]!==f||e[3]!==g||e[4]!==l||e[5]!==q||e[6]!==n||e[7]!==o||e[8]!==z||e[9]!==v||e[10]!==w||e[11]!==u||e[12]!==y||e[13]!==t.pk||e[14]!==t.username?(m=function(){if(q){var a;a=d("PolarisLinkBuilder").buildUserLink((a=t.username)!=null?a:"");d("PolarisUA").isMobile()&&y?z():d("PolarisUA").isDesktop()?w==null?void 0:w({nextUrl:a,source:"follow"}):v({source:"follow",username:t.username})}n();a=d("PolarisStoriesLoggingUtils").getLoggingFollowStatus(u);d("PolarisConnectionsLogger").logConnectionAction({clickPoint:g,containerModule:f,eventName:"follow_button_tapped",followStatus:a,targetId:t.pk});l?s(!0):o&&o(t.pk)},e[2]=f,e[3]=g,e[4]=l,e[5]=q,e[6]=n,e[7]=o,e[8]=z,e[9]=v,e[10]=w,e[11]=u,e[12]=y,e[13]=t.pk,e[14]=t.username,e[15]=m):m=e[15];a=m;e[16]!==q||e[17]!==x?(m=function(){q&&d("PolarisUA").isDesktop()&&(x==null?void 0:x())},e[16]=q,e[17]=x,e[18]=m):m=e[18];m=m;var A=c("usePolarisPageID")(),B="primary_link";q&&(A==="profilePage"?B=y?"primary":d("PolarisProfileRelayExp").isProfileRelayAvailable()?"secondary":"primary":B="primary");A=t.pk+"-"+i;i=l?d("PolarisPostStrings").FOLLOWING_TEXT:d("PolarisPostStrings").FOLLOW_TEXT;var C;e[19]!==B||e[20]!==a||e[21]!==m||e[22]!==i?(C=j.jsx(c("IGDSButton.react"),{display:"block",label:i,onClick:a,onHoverStart:m,variant:B}),e[19]=B,e[20]=a,e[21]=m,e[22]=i,e[23]=C):C=e[23];e[24]!==f||e[25]!==p||e[26]!==r||e[27]!==t?(B=r&&j.jsx(c("PolarisUnfollowDialog.next.react"),{analyticsContext:f,onClose:function(){s(!1)},onUnfollowUser:p,user:t}),e[24]=f,e[25]=p,e[26]=r,e[27]=t,e[28]=B):B=e[28];e[29]!==A||e[30]!==C||e[31]!==B?(a=j.jsxs(c("CometErrorBoundary.react"),{children:[C,B]},A),e[29]=A,e[30]=C,e[31]=B,e[32]=a):a=e[32];return a}g["default"]=a}),98);
__d("PolarisFollowCard.next.react",["invariant","CometRelay","IGDSBox.react","IGDSText.react","IGDSTextVariants.react","IGDSVerifiedBadge.react","InstagramODS","PolarisConnectionsLogger","PolarisFollowCard_media.graphql","PolarisFollowChainingListItem.next.react","PolarisLinkBuilder","PolarisSuggestedUserFollowButton.next.react","PolarisUA","PolarisUserAvatar.react","PolarisUserLink.react","isStringNullOrEmpty","polarisLogAction","react","react-compiler-runtime","useCometRouterDispatcher","usePolarisOpenApp","useShouldShowLoggedOutAYMLFromSharer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=77,m=74;function n(a,b,d){c("polarisLogAction")("chainingClick",{source:b,source_of_action:d,target:a}),c("InstagramODS").incr("web.chaining.click")}function o(){var a=c("usePolarisOpenApp")(),b=c("useShouldShowLoggedOutAYMLFromSharer")();return d("PolarisUA").isMobile()&&b?a:null}function p(a){var b=d("react-compiler-runtime").c(10),e=a.analyticsContext,f=a.clickPoint,g=a.isSmallScreen,h=a.profilePictureUrl;a=a.username;var i=o(),j;b[0]!==e||b[1]!==f||b[2]!==i?(j=function(a){n("avatar",e,f),i==null?void 0:i(),a.stopPropagation()},b[0]=e,b[1]=f,b[2]=i,b[3]=j):j=b[3];j=j;var p=!i;g=g?l:m;var q;b[4]!==j||b[5]!==h||b[6]!==p||b[7]!==g||b[8]!==a?(q=k.jsx(c("PolarisUserAvatar.react"),{canTabFocus:!1,isLink:p,onClick:j,profilePictureUrl:h,size:g,username:a}),b[4]=j,b[5]=h,b[6]=p,b[7]=g,b[8]=a,b[9]=q):q=b[9];return q}function q(a){var b=d("react-compiler-runtime").c(10),e=a.analyticsContext,f=a.clickPoint,g=a.isFollowedByViewer,h=a.isLoggedOutAYML,i=a.logFollowButtonClick,j=a.onFollowUser,l=a.onUnfollowerUser,m=a.position;a=a.user;h=h===void 0?!1:h;var n;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h||b[4]!==i||b[5]!==j||b[6]!==l||b[7]!==m||b[8]!==a?(n=k.jsx(c("PolarisSuggestedUserFollowButton.next.react"),{analyticsContext:e,clickPoint:f,index:m,isFollowedByViewer:g,isLoggedOutAYML:h,logFollowButtonClick:i,onFollowUser:j,onUnfollowUser:l,user:a}),b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=i,b[5]=j,b[6]=l,b[7]=m,b[8]=a,b[9]=n):n=b[9];return n}function r(a){var b=d("react-compiler-runtime").c(12),e=a.disableHref,f=a.fullName,g=a.handleUsernameClick,i=a.isVerified,j=a.showDescription,l=a.suggestionDescription;a=a.username;c("isStringNullOrEmpty")(a)&&h(0,51399);i!=null||h(0,51398);j=j&&l!=null;l=j&&f!=null&&f!==""&&f.length>0?f:a;b[0]!==l?(j=k.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{maxLines:1,children:l}),b[0]=l,b[1]=j):j=b[1];b[2]!==e||b[3]!==g||b[4]!==j||b[5]!==a?(f=k.jsx(c("IGDSBox.react"),{display:"flex",flex:"grow",maxWidth:"fit-content",children:k.jsx(c("PolarisUserLink.react"),{"data-testid":void 0,disableHref:e,onClick:g,username:a,children:j})}),b[2]=e,b[3]=g,b[4]=j,b[5]=a,b[6]=f):f=b[6];b[7]!==i?(l=i&&k.jsx(c("IGDSBox.react"),{"data-testid":void 0,marginStart:1,children:k.jsx(c("IGDSVerifiedBadge.react"),{size:"small"})}),b[7]=i,b[8]=l):l=b[8];b[9]!==f||b[10]!==l?(e=k.jsxs(c("IGDSBox.react"),{direction:"row",display:"flex",justifyContent:"center",width:"100%",children:[f,l]}),b[9]=f,b[10]=l,b[11]=e):e=b[11];return e}function s(a){var b=d("react-compiler-runtime").c(2),e=a.fullName,f=a.showDescription;a=a.suggestionDescription;f=f&&a!=null?a:e;b[0]!==f?(a=k.jsx(c("IGDSText.react"),{color:"secondaryText",maxLines:2,textAlign:"center",children:f}),b[0]=f,b[1]=a):a=b[1];return a}function a(a){var e=d("react-compiler-runtime").c(65),f=a.analyticsContext,g=a.clickPoint,j=a.impressionModule,l=a.isLoggedOutAYML,m=a.isSmallScreen,t=a.onDismissed,u=a.onFollowUser,v=a.onUnfollowerUser,w=a.position,x=a.renderItemFooter,y=a.showDescription,z=a.user;a=a.users;l=l===void 0?!1:l;a=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisFollowCard_media.graphql"),a);var A=z.fullName,B=z.id,C=z.isFollowedByViewer,D=z.isVerified,E=z.profilePictureUrl,F=z.suggestionDescription,G=z.username;e[0]!==f||e[1]!==j||e[2]!==w||e[3]!==B?(z=function(a){d("PolarisConnectionsLogger").logConnectionAction({containerModule:f,eventName:a,position:w,targetId:B,viewModule:j})},e[0]=f,e[1]=j,e[2]=w,e[3]=B,e[4]=z):z=e[4];var H=z,I=j===d("PolarisConnectionsLogger").VIEW_MODULES.web_profile_chaining,J=c("useCometRouterDispatcher")(),K=o();e[5]!==f||e[6]!==g||e[7]!==I||e[8]!==H||e[9]!==K?(z=function(a){n("username",f,g),H(I?"similar_username_tapped":"recommended_username_tapped"),K==null?void 0:K(),a.stopPropagation()},e[5]=f,e[6]=g,e[7]=I,e[8]=H,e[9]=K,e[10]=z):z=e[10];z=z;var L;e[11]!==f||e[12]!==g||e[13]!==I||e[14]!==H?(L=function(){n("follow",f,g),H(I?"similar_user_follow_button_tapped":"recommended_follow_button_tapped")},e[11]=f,e[12]=g,e[13]=I,e[14]=H,e[15]=L):L=e[15];L=L;var M;e[16]!==I||e[17]!==H||e[18]!==t||e[19]!==B?(M=function(){H(I?"similar_user_dismiss_tapped":"recommended_user_dismissed"),t&&t(B)},e[16]=I,e[17]=H,e[18]=t,e[19]=B,e[20]=M):M=e[20];M=M;var N;e[21]!==J||e[22]!==K||e[23]!==G?(N=function(){c("isStringNullOrEmpty")(G)&&h(0,51399);var a=d("PolarisLinkBuilder").buildUserLink(G);K?K():J==null?void 0:J.go(a,{})},e[21]=J,e[22]=K,e[23]=G,e[24]=N):N=e[24];N=N;var O;e[25]!==f||e[26]!==g||e[27]!==m||e[28]!==E||e[29]!==G?(O=k.jsx(p,{analyticsContext:f,clickPoint:g,isSmallScreen:m,profilePictureUrl:E,username:G}),e[25]=f,e[26]=g,e[27]=m,e[28]=E,e[29]=G,e[30]=O):O=e[30];m=t?M:null;e[31]!==f||e[32]!==g||e[33]!==a||e[34]!==C||e[35]!==l||e[36]!==L||e[37]!==u||e[38]!==v||e[39]!==w?(E=k.jsx(q,{analyticsContext:f,clickPoint:g,isFollowedByViewer:C,isLoggedOutAYML:l,logFollowButtonClick:L,onFollowUser:u,onUnfollowerUser:v,position:w,user:a}),e[31]=f,e[32]=g,e[33]=a,e[34]=C,e[35]=l,e[36]=L,e[37]=u,e[38]=v,e[39]=w,e[40]=E):E=e[40];M=K!=null;e[41]!==A||e[42]!==z||e[43]!==D||e[44]!==y||e[45]!==F||e[46]!==M||e[47]!==G?(a=k.jsx(r,{disableHref:M,fullName:A,handleUsernameClick:z,isVerified:D,showDescription:y,suggestionDescription:F,username:G}),e[41]=A,e[42]=z,e[43]=D,e[44]=y,e[45]=F,e[46]=M,e[47]=G,e[48]=a):a=e[48];e[49]!==A||e[50]!==y||e[51]!==F?(C=k.jsx(s,{fullName:A,showDescription:y,suggestionDescription:F}),e[49]=A,e[50]=y,e[51]=F,e[52]=C):C=e[52];e[53]!==f||e[54]!==g||e[55]!==N||e[56]!==l||e[57]!==w||e[58]!==x||e[59]!==a||e[60]!==C||e[61]!==O||e[62]!==m||e[63]!==E?(L=k.jsx(c("PolarisFollowChainingListItem.next.react"),{analyticsContext:f,clickPoint:g,icon:O,isLoggedOutAYML:l,onClick:N,onDismissed:m,position:w,primaryCta:E,primaryText:a,renderItemFooter:x,secondaryText:C}),e[53]=f,e[54]=g,e[55]=N,e[56]=l,e[57]=w,e[58]=x,e[59]=a,e[60]=C,e[61]=O,e[62]=m,e[63]=E,e[64]=L):L=e[64];return L}g["default"]=a}),98);
__d("PolarisFollowChainingList_suggested_users.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"PolarisFollowChainingList_suggested_users",selections:[{args:null,kind:"FragmentSpread",name:"PolarisFollowCard_media"}],type:"XDTUserDict",abstractKey:null};e.exports=a}),null);
__d("PolarisFollowChainingList.next.react",["fbt","CometRelay","IGDSBox.react","IGDSTextVariants.react","PolarisConnectionsLogger","PolarisFollowCard.next.react","PolarisFollowChainingList_suggested_users.graphql","PolarisScrollWatchedComponent.react","PolarisSeeAllLink.react","PolarisVirtualHSnapScrollCollapsibleList.react","isStringNullOrEmpty","polarisLogAction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;var l=e.useRef,m=e.useState,n=10,o=h._(/*BTDS*/"__JHASH__2k--O48PVwS__JHASH__"),p={cardWidth:156,gapWidth:5,gutterWidth:20},q={cardWidth:170,gapWidth:12,gutterWidth:0},r=208,s=250;function a(a){var e=d("react-compiler-runtime").c(57),f=a.analyticsContext,g=a.chainingSuggestions,h=a.clickPoint,j=a.impressionModule,t=a.isLoggedOutAYML,u=a.isSmallScreen,v=a.onFollowUser,w=a.onSeeAllClick,x=a.onSuggestionDismissed,y=a.onUnfollowUser,z=a.overscan,A=a.renderItemFooter,B=a.seeAllHref,C=a.showDescription,D=a.title;a=a.users;var E=t===void 0?!1:t,F=C===void 0?!1:C,G=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisFollowChainingList_suggested_users.graphql"),a),H=l(!1);t=m(null);var I=t[0],J=t[1];C=m(null);var K=C[0],L=C[1];e[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={},e[0]=a):a=e[0];t=m(a);var M=t[0],N=t[1],O;if(e[1]!==f||e[2]!==g||e[3]!==I||e[4]!==j||e[5]!==K||e[6]!==M){C=function(){H.current=!0,P()};e[11]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){H.current=!1},e[11]=a):a=e[11];t=a;e[12]!==f||e[13]!==j?(a=function(){j===d("PolarisConnectionsLogger").VIEW_MODULES.post_related_profile&&c("polarisLogAction")("relatedProfileModule",{source:f,target:"seeAll",viewModule:j})},e[12]=f,e[13]=j,e[14]=a):a=e[14];a=a;O=function(a){var b=a.endPct;a=a.startPct;J(Math.max(0,Math.floor(a)));L(Math.max(0,Math.floor(b)));P()};var P=function(){if(!H.current||I==null||K==null||g==null)return;for(var a=I;a<=K;++a){var b=g[a];if(b==null)continue;if(!M[b.id]){var e={containerModule:f,position:a,targetId:b.id,viewModule:j};j===d("PolarisConnectionsLogger").VIEW_MODULES.web_profile_chaining?d("PolarisConnectionsLogger").logConnectionAction(babelHelpers["extends"]({eventName:"similar_user_impression"},e)):j===d("PolarisConnectionsLogger").VIEW_MODULES.hscroll_feed||j===d("PolarisConnectionsLogger").VIEW_MODULES.end_of_feed?d("PolarisConnectionsLogger").logConnectionAction(babelHelpers["extends"]({eventName:"recommended_user_impression"},e)):j===d("PolarisConnectionsLogger").VIEW_MODULES.post_related_profile&&c("polarisLogAction")("relatedProfileModuleScroll",{position:a,source:f,targetId:b.id,viewModule:j});N(babelHelpers["extends"]({},M,(e={},e[b.id]=!0,e)))}}};e[1]=f;e[2]=g;e[3]=I;e[4]=j;e[5]=K;e[6]=M;e[7]=C;e[8]=t;e[9]=a;e[10]=O}else C=e[7],t=e[8],a=e[9],O=e[10];var Q=u?p:q,R=F?s:r,S;e[15]!==f||e[16]!==g||e[17]!==h||e[18]!==G||e[19]!==j||e[20]!==E||e[21]!==u||e[22]!==v||e[23]!==x||e[24]!==y||e[25]!==A||e[26]!==F?(S=g&&g.map(function(a,b){return k.jsx(c("PolarisFollowCard.next.react"),{analyticsContext:f,clickPoint:h,impressionModule:j,isLoggedOutAYML:E,isSmallScreen:u,onDismissed:x,onFollowUser:v,onUnfollowerUser:y,position:b,renderItemFooter:A,showDescription:F,user:a,users:G[b]},a.id)}),e[15]=f,e[16]=g,e[17]=h,e[18]=G,e[19]=j,e[20]=E,e[21]=u,e[22]=v,e[23]=x,e[24]=y,e[25]=A,e[26]=F,e[27]=S):S=e[27];S=S;if(S==null||S.length===0)return null;if(e[28]!==S||e[29]!==g||e[30]!==Q){var T;e[32]!==g||e[33]!==Q?(T=function(a,b){return k.jsx(c("IGDSBox.react"),{width:Q.cardWidth,children:a},g==null?void 0:g[b].id)},e[32]=g,e[33]=Q,e[34]=T):T=e[34];T=S.map(T);e[28]=S;e[29]=g;e[30]=Q;e[31]=T}else T=e[31];S=T;e[35]!==g?(T=!g&&k.jsx(c("IGDSBox.react"),{alignItems:"center",padding:5,children:k.jsx(d("IGDSTextVariants.react").IGDSTextLabelEmphasized,{color:"secondaryText",children:o})}),e[35]=g,e[36]=T):T=e[36];if(e[37]!==g||e[38]!==a||e[39]!==u||e[40]!==w||e[41]!==B||e[42]!==D){var U;U=g&&k.jsxs(c("IGDSBox.react"),{direction:"row",marginBottom:u?3:4,marginTop:u?4:0,paddingX:u?4:0,children:[k.jsx(c("IGDSBox.react"),{flex:"grow",children:u?k.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{children:D}):k.jsx(d("IGDSTextVariants.react").IGDSTextSection,{children:D})}),!c("isStringNullOrEmpty")(B)&&k.jsx(c("PolarisSeeAllLink.react"),{href:B,onClick:(U=w)!=null?U:a})]});e[37]=g;e[38]=a;e[39]=u;e[40]=w;e[41]=B;e[42]=D;e[43]=U}else U=e[43];e[44]!==S||e[45]!==g||e[46]!==O||e[47]!==R||e[48]!==z||e[49]!==Q?(a=g&&S!=null&&k.jsx(c("IGDSBox.react"),{height:R,children:k.jsx(c("PolarisVirtualHSnapScrollCollapsibleList.react"),{gutterWidth:Math.max(0,Q.gutterWidth-Q.gapWidth/2),initialVisibleItemsGuess:n,itemWidth:Q.cardWidth+Q.gapWidth,onVisibilityChange:O,overscan:z,children:S})}),e[44]=S,e[45]=g,e[46]=O,e[47]=R,e[48]=z,e[49]=Q,e[50]=a):a=e[50];e[51]!==C||e[52]!==t||e[53]!==T||e[54]!==U||e[55]!==a?(w=k.jsxs(c("PolarisScrollWatchedComponent.react"),{onScrollEnter:C,onScrollLeave:t,children:[T,U,a]}),e[51]=C,e[52]=t,e[53]=T,e[54]=U,e[55]=a,e[56]=w):w=e[56];return w}g["default"]=a}),226);
__d("PolarisAYMLFollowChainingListLoggedOut.next.react",["CometRelay","PolarisAYMLFollowChainingListLoggedOutQuery.graphql","PolarisConnectionsLogger","PolarisFollowChainingList.next.react","PolarisLinkBuilder","PolarisPostChainingConstants","emptyFunction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(9),f=a.isSmallScreen,g=a.polarisAYMLFollowChainingListLoggedOutQuery;a=a.username;g=d("CometRelay").usePreloadedQuery(h!==void 0?h:h=b("PolarisAYMLFollowChainingListLoggedOutQuery.graphql"),g);g=g.xdt_ayml_logged_out;g=g.users;var i;e[0]!==g?(i=g.map(k),e[0]=g,e[1]=i):i=e[1];var l;e[2]!==a?(l=a!=null?d("PolarisLinkBuilder").buildUserRelatedProfilesLink(a):void 0,e[2]=a,e[3]=l):l=e[3];e[4]!==f||e[5]!==i||e[6]!==l||e[7]!==g?(a=j.jsx(c("PolarisFollowChainingList.next.react"),{analyticsContext:d("PolarisConnectionsLogger").CONNECTIONS_CONTAINER_MODULES.post,chainingSuggestions:i,clickPoint:"related_profiles_unit",impressionModule:d("PolarisConnectionsLogger").VIEW_MODULES.post_related_profile,isLoggedOutAYML:!0,isSmallScreen:f,onSuggestionDismissed:null,onUnfollowUser:c("emptyFunction"),seeAllHref:l,showDescription:!0,title:d("PolarisPostChainingConstants").ACCOUNTS_YOU_MAY_LIKE_HEADER,users:g}),e[4]=f,e[5]=i,e[6]=l,e[7]=g,e[8]=a):a=e[8];return a}function k(a){return{fullName:a.full_name,id:a.pk,isFollowedByViewer:!1,isVerified:a.is_verified,profilePictureUrl:a.profile_pic_url,username:(a=a.username)!=null?a:""}}g["default"]=a}),98);
__d("PolarisLoggedOutAYMLFollowFromSharerQuery.graphql",["PolarisLoggedOutAYMLFollowFromSharerQuery_instagramRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"mediaId"},c={defaultValue:null,kind:"LocalArgument",name:"ownerId"},d={defaultValue:null,kind:"LocalArgument",name:"shid"},e=[{kind:"Variable",name:"media_id",variableName:"mediaId"},{kind:"Variable",name:"owner_id",variableName:"ownerId"},{kind:"Variable",name:"shid",variableName:"shid"}],f={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},k=[f,g,h,i,j,{args:null,kind:"FragmentSpread",name:"PolarisFollowChainingList_suggested_users"}];f=[f,g,h,i,j,{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null},{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_feed_favorite",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"following",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"outgoing_request",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followed_by",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"incoming_request",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_restricted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_bestie",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTSupervisionInfo",kind:"LinkedField",name:"supervision_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_guardian_of_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_supervised_by_viewer",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"PolarisLoggedOutAYMLFollowFromSharerQuery",selections:[{alias:null,args:e,concreteType:"XDTNewFriendListResponse",kind:"LinkedField",name:"xdt_friendships_following_logged_out",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"users",plural:!0,selections:k,storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:k,storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[d,a,c],kind:"Operation",name:"PolarisLoggedOutAYMLFollowFromSharerQuery",selections:[{alias:null,args:e,concreteType:"XDTNewFriendListResponse",kind:"LinkedField",name:"xdt_friendships_following_logged_out",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"users",plural:!0,selections:f,storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:f,storageKey:null}],storageKey:null}]},params:{id:b("PolarisLoggedOutAYMLFollowFromSharerQuery_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_friendships_following_logged_out"]},name:"PolarisLoggedOutAYMLFollowFromSharerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("PolarisLoggedOutAYMLFollowFromSharer.react",["fbt","CometRelay","PolarisConnectionsLogger","PolarisFollowChainingList.next.react","PolarisLoggedOutAYMLFollowFromSharerQuery.graphql","emptyFunction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={title:h._(/*BTDS*/"__JHASH__0_Dg20pMlkR__JHASH__")};function a(a){var e=d("react-compiler-runtime").c(10);a=a.polarisLoggedOutAYMLFollowFromSharerQuery;a=d("CometRelay").usePreloadedQuery(i!==void 0?i:i=b("PolarisLoggedOutAYMLFollowFromSharerQuery.graphql"),a);a=a.xdt_friendships_following_logged_out;if((a==null?void 0:a.user)==null&&(a==null?void 0:a.users)==null)return null;if(e[0]!==a.users){var f;f=(f=a.users)!=null?f:[];e[0]=a.users;e[1]=f}else f=e[1];var g;e[2]!==a.user||e[3]!==f?(g=[a.user].concat(f).filter(n),e[2]=a.user,e[3]=f,e[4]=g):g=e[4];a=g;e[5]!==a?(f=a.map(m),e[5]=a,e[6]=f):f=e[6];e[7]!==f||e[8]!==a?(g=k.jsx(c("PolarisFollowChainingList.next.react"),{analyticsContext:d("PolarisConnectionsLogger").CONNECTIONS_CONTAINER_MODULES.post,chainingSuggestions:f,clickPoint:"related_profiles_unit",impressionModule:d("PolarisConnectionsLogger").VIEW_MODULES.post_related_profile,isLoggedOutAYML:!0,isSmallScreen:!0,onSuggestionDismissed:null,onUnfollowUser:c("emptyFunction"),seeAllHref:null,showDescription:!0,title:l.title,users:a}),e[7]=f,e[8]=a,e[9]=g):g=e[9];return g}function m(a){return{fullName:a==null?void 0:a.full_name,id:a==null?void 0:a.id,isFollowedByViewer:!1,isVerified:a==null?void 0:a.is_verified,profilePictureUrl:a==null?void 0:a.profile_pic_url,username:(a=a==null?void 0:a.username)!=null?a:""}}function n(a){return(a==null?void 0:a.id)!==null}g["default"]=a}),226);
__d("PolarisLoggedOutBodyEmphasizedSignUpCTA.react",["IGDSBox.react","IGDSButton.react","IGDSTextVariants.react","PolarisLinkBuilder","PolarisLoggedOutCtaClickLogger","PolarisLoggedOutLandingDialogStrings.react","PolarisLoggedOutUpsellStrings","react","react-compiler-runtime","usePolarisPageID"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||c("react");(h||(h=d("react"))).useCallback;function a(){var a=d("react-compiler-runtime").c(6),b=c("usePolarisPageID")(),e;a[0]!==b?(e=function(){d("PolarisLoggedOutCtaClickLogger").logLoggedOutCtaClickEvent("signup","contextual_cta",b)},a[0]=b,a[1]=e):e=a[1];e=e;var f;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{textAlign:"center",children:d("PolarisLoggedOutLandingDialogStrings.react").GET_FULL_EXPERIENCE}),a[2]=f):f=a[2];var g;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=d("PolarisLinkBuilder").buildSignupLink(),a[3]=g):g=a[3];a[4]!==e?(f=j.jsxs(c("IGDSBox.react"),{marginBottom:8,marginTop:8,rowGap:3,children:[f,j.jsx(c("IGDSButton.react"),{href:g,label:d("PolarisLoggedOutUpsellStrings").DEFAULT_TITLE_SIGN_UP,onClick:e,variant:"primary_link"})]}),a[4]=e,a[5]=f):f=a[5];return f}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("EBSMProperties",[],(function(a,b,c,d,e,f){"use strict";a=["encrypted_backups_virtual_devices","secure_encrypted_backups_recovery_code_status","device_metadata","secure_encrypted_backups_epochs","secure_encrypted_backups_client_state","encrypted_backups","experiences_shared_state","auto_restore_opt_out"];b=new Set(["secure_encrypted_backups_client_state","secure_encrypted_backups_epochs"]);c={dbVersion:5,mandatoryTables:b,persistedTables:new Set(a),persistedTablesArray:a};d=c;f["default"]=d}),66);
__d("IndexedDbPolyfills",[],(function(a,b,c,d,e,f){"use strict";var g=function(){function a(){this.$1=new Map()}var b=a.prototype;b.emit=function(a){var b=this.$1.get(a);for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];if(b!==void 0)for(var f of b)f.apply(void 0,d);var g=this["on"+a];g!=null&&g.apply(void 0,d)};b.addEventListener=function(a,b,c){var d=this;c===void 0&&(c={});c=c;c=c.signal;var e=this.$1.get(a);e===void 0&&(e=new Set(),this.$1.set(a,e));e.add(b);c!=null&&(c.onabort=function(){d.removeEventListener(a,b)})};b.removeEventListener=function(a,b){a=this.$1.get(a);if(a===void 0)return;a["delete"](b)};return a}();a=function(){return function(a,b){a=this.openCursor((a=a)!=null?a:null);var c=[],d=new g();a.onsuccess=function(a){a=a.target.result;if(a!=null&&(b===void 0||c.length<b))c.push(a.value),a["continue"]();else{d.result=c;d.onsuccess==null?void 0:d.onsuccess({target:{readyState:"done",result:c}});return}};a.onerror=function(a){d.onerror==null?void 0:d.onerror(a)};return d}};b=typeof window!=="undefined"?window:self;typeof b.IDBObjectStore!=="undefined"&&b.IDBObjectStore.prototype.getAll===void 0&&(b.IDBObjectStore.prototype.getAll=a());f.IDBRequest=g;f.getAll=a}),66);
__d("LocalStorageWrapper",["CurrentMessengerUser","WAResultOrError","isQuotaExceededError","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("PersistedQueue").__setRef("LocalStorageWrapper");function i(a){var b=null;try{b=window.localStorage;if(b!=null&&typeof b.setItem==="function"&&typeof b.removeItem==="function"){var c="__test__"+Date.now();b.setItem(c,"");b.removeItem(c)}else return null}catch(c){if(d("isQuotaExceededError").isStorageQuotaExceededError(b,c)===!1){a("Failed to get localstorage");return null}}return b}function a(a){try{a=i(a);return a!=null}catch(a){return!1}}function j(a){try{var b=0,c={};for(var d in a){if(!Object.prototype.hasOwnProperty.call(a,d))continue;var e=(a[d].length+d.length)*2;b+=e;e/1024>1e3&&(c[d.substr(0,50)]=(e/1024).toFixed(2))}c.total=(b/1024).toFixed(2);return JSON.stringify(c)}catch(a){return"Can't calculate localStorage"}}function b(a,b,c,e,f){if(a==null)return d("WAResultOrError").makeError("null-storage");try{f!==void 0?k(a,b,c,f):a.setItem(b,c)}catch(f){if(d("CurrentMessengerUser").isEmployee()){var g=j(a);h.onReady(function(a){a=a.isQueueActivateExperiment().toString();e(f+" - Storage quota exceeded while setting "+b+":"+c+", queueActivateExp:"+a+" "+g)})}else e(f+" - Storage quota exceeded while setting "+b+":"+c);return d("WAResultOrError").makeError("quota-exceeded")}return d("WAResultOrError").makeResult()}function k(a,b,c,d){try{a.setItem(b,c)}catch(e){d(e),a.setItem(b,c)}}function e(a,b,c){a==null?c("not storage found"):a.removeItem(b)}function f(a,b,c){if(a==null){c("not storage found");return null}else return a.getItem(b)}g.getStorage=i;g.isLocalStorageAvailable=a;g.setItemGuarded=b;g.removeItemGuarded=e;g.getItemGuarded=f}),98);
__d("MAWCryptoConsts",[],(function(a,b,c,d,e,f){"use strict";a=60*60;b=24*a;c=32;d=new Uint8Array(0).buffer;e=128;a=256;var g=12,h=1,i=2,j=2,k=4;b=b*30*6;var l=3,m="AES-GCM",n="HKDF",o="SHA-256";f.HKDF_SEED_LENGTH_IN_BYTES=c;f.HKDF_INFO=d;f.AES_GCM_TAG_LENGTH=e;f.AES_GCM_KEY_LENGTH=a;f.AES_GCM_IV_LENGTH_IN_BYTES=g;f.VERSION=h;f.CIPHER_ID=i;f.ADDITIONAL_DATA_LENGTH_IN_BYTES=j;f.EXTRA_ADDITIONAL_DATA_LENGTH_IN_BYTES=k;f.ENC_KEY_TTL=b;f.MAX_KEYCHAIN_SETUP_RETRIES=l;f.AES_GCM=m;f.HKDF=n;f.SHA256=o}),66);
__d("MAWKeychainUtil",[],(function(a,b,c,d,e,f){"use strict";function a(a){return self.crypto.getRandomValues(new Uint8Array(a))}function b(a){var b=a.reduce(function(a,b){return a+b.byteLength},0),c=new Uint8Array(b);a.reduce(function(a,b){c.set(new Uint8Array(b),a);return a+b.byteLength},0);return c.buffer}function c(a,b){return new Uint8Array([a,b]).buffer}function d(a){var b=a.length;if(b>0&&b%2===0&&/^[\da-f]+$/gi.test(a)){var c=[];for(var d=0,b=b/2;d<b;++d){var e=parseInt(a.substring(d*2,d*2+2),16);c.push(e)}return new Uint8Array(c)}else return null}f.getBufferWithRandomValuesFromLength=a;f.mergeBuffers=b;f.makeAAD=c;f.fromHexString=d}),66);
__d("MAWSubtleCrypto",[],(function(a,b,c,d,e,f){a=self.crypto;b=a&&(a.subtle||a.webkitSubtle||a.subtle);f.MAWSubtleCrypto=b}),66);
__d("MAWWebInitDataHelpers",["FBLogger","MessengerWebInitData"],(function(a,b,c,d,e,f,g){"use strict";function a(){return 2}function b(a){switch(a){case 2:return[c("MessengerWebInitData").accountKeyV2];case 1:return[c("MessengerWebInitData").accountKey].concat((a=c("MessengerWebInitData").additionalAccountKeysV1)!=null?a:[]);default:throw c("FBLogger")("messenger_web").mustfixThrow("Invalid format version, should never happen.")}}g.getLastAccountKeyFormatVersion=a;g.getAccountKeysString=b}),98);
__d("MAWKeychainCrypto",["FBLogger","MAWCryptoConsts","MAWKeychainUtil","MAWSubtleCrypto","MAWWebInitDataHelpers","Promise","WABase64","asyncToGeneratorRuntime","memoizeOneWithArgs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("MAWKeychainUtil").makeAAD(d("MAWCryptoConsts").VERSION,d("MAWCryptoConsts").CIPHER_ID);function a(a,b,e){var f=d("MAWKeychainUtil").getBufferWithRandomValuesFromLength(d("MAWCryptoConsts").AES_GCM_IV_LENGTH_IN_BYTES),g=e?e:i;return d("MAWSubtleCrypto").MAWSubtleCrypto.encrypt({additionalData:g,iv:new Uint8Array(f),name:d("MAWCryptoConsts").AES_GCM,tagLength:d("MAWCryptoConsts").AES_GCM_TAG_LENGTH},a,b).then(function(a){a=d("MAWKeychainUtil").mergeBuffers([g,f,a]);return d("WABase64").encodeB64(a)})["catch"](function(b){throw c("FBLogger")("messenger_web").catching(b).mustfixThrow("Failed to encryptDataToStringBuffer",typeof a,a.constructor.name)})}function e(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c;b=new Uint8Array(d("WABase64").decodeB64(b));var e=b.subarray(0,(c=d("MAWCryptoConsts")).ADDITIONAL_DATA_LENGTH_IN_BYTES),f=b.subarray(c.ADDITIONAL_DATA_LENGTH_IN_BYTES,c.AES_GCM_IV_LENGTH_IN_BYTES+c.ADDITIONAL_DATA_LENGTH_IN_BYTES);b=b.subarray(c.AES_GCM_IV_LENGTH_IN_BYTES+c.ADDITIONAL_DATA_LENGTH_IN_BYTES);e=(yield d("MAWSubtleCrypto").MAWSubtleCrypto.decrypt({additionalData:e,iv:f,name:c.AES_GCM,tagLength:c.AES_GCM_TAG_LENGTH},a,b));return e});return j.apply(this,arguments)}function k(a){a=d("MAWWebInitDataHelpers").getAccountKeysString(a);return a.map(function(a){var b=d("MAWKeychainUtil").fromHexString(a);if(b==null)throw c("FBLogger")("messenger_web").mustfixThrow("Invalid value for account key. Is empty="+String(a.length===0)+";");return b.buffer})}function l(a){return(h||(h=b("Promise"))).all(k(a).map(function(a){return d("MAWSubtleCrypto").MAWSubtleCrypto.importKey("raw",a,{name:d("MAWCryptoConsts").AES_GCM},!1,["encrypt","decrypt"])}))}function f(){return d("WABase64").encodeB64(d("MAWKeychainUtil").getBufferWithRandomValuesFromLength(d("MAWCryptoConsts").HKDF_SEED_LENGTH_IN_BYTES))}function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=d("WABase64").decodeB64(a);try{a=(yield d("MAWSubtleCrypto").MAWSubtleCrypto.importKey("raw",a,{name:d("MAWCryptoConsts").HKDF},!1,["deriveKey"]));return a}catch(a){c("FBLogger")("messenger_web").catching(a).mustfix("Failed to importBrowserEncryptionKey");throw a}});return n.apply(this,arguments)}function o(){return d("MAWKeychainUtil").getBufferWithRandomValuesFromLength(d("MAWCryptoConsts").HKDF_SEED_LENGTH_IN_BYTES)}function p(a,b){var c;return d("MAWSubtleCrypto").MAWSubtleCrypto.deriveKey({hash:{name:(c=d("MAWCryptoConsts")).SHA256},info:c.HKDF_INFO,name:c.HKDF,salt:b},a,{length:c.AES_GCM_KEY_LENGTH,name:c.AES_GCM},!0,["encrypt","decrypt"]).then(function(a){return d("MAWSubtleCrypto").MAWSubtleCrypto.exportKey("raw",a)})}function q(a){var b=a.slice(0,d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES);b=new DataView(b).getUint8(0);if(b===0){var c,e=a.slice((c=d("MAWCryptoConsts")).ADDITIONAL_DATA_LENGTH_IN_BYTES,c.ADDITIONAL_DATA_LENGTH_IN_BYTES*2);return{aadLengthInBytes:c.ADDITIONAL_DATA_LENGTH_IN_BYTES*2+c.EXTRA_ADDITIONAL_DATA_LENGTH_IN_BYTES,keyVersion:new DataView(e).getUint8(0),originRandomisedVersion:new DataView(a).getUint32(c.ADDITIONAL_DATA_LENGTH_IN_BYTES*2,!0)}}return{aadLengthInBytes:d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES,keyVersion:b}}function r(a){return q(a)}var s=c("memoizeOneWithArgs")(function(a){return l(a)});function t(a){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=d("WABase64").decodeB64(a);a=(yield d("MAWSubtleCrypto").MAWSubtleCrypto.digest(d("MAWCryptoConsts").SHA256,a));return d("WABase64").encodeB64(a)});return u.apply(this,arguments)}g.ADDITIONAL_DATA=i;g.encryptDataToStringBuffer=a;g.decryptDataToArrayBuffer=e;g.getAccountKeysBuffers=k;g.genAccountKeys=l;g.genBrowserEncryptionKeyString=f;g.importBrowserEncryptionKey=m;g.genDatabaseEncryptionSeed=o;g.genDatabaseEncryptionKey=p;g.getKeyVersionFromCipherData=q;g.getKeyVersionFromCipherDataString=r;g.getAccountKeys=s;g.generateHashString=t}),98);
__d("MAWEARGenNewKeychainCryptoKey",["FBLogger","MAWCryptoConsts","MAWKeychainCrypto","MAWWebInitDataHelpers","MessengerWebInitData","WATimeUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a,b=d("MAWWebInitDataHelpers").getLastAccountKeyFormatVersion(),e=(yield (a=d("MAWKeychainCrypto")).getAccountKeys(b))[0],f=a.genBrowserEncryptionKeyString(),g=a.genDatabaseEncryptionSeed();e=(yield a.encryptDataToStringBuffer(e,g));g=d("WATimeUtils").castToUnixTime(d("WATimeUtils").unixTime()+d("MAWCryptoConsts").ENC_KEY_TTL);return{accountKeyString:yield a.generateHashString(d("MAWWebInitDataHelpers").getAccountKeysString(b)[0]),appIdOrigin:c("MessengerWebInitData").appId,expiration:g,formatVersion:b,key:f,seed:e,userKeyBaseString:yield a.generateHashString(c("MessengerWebInitData").userKeyBase)}}catch(a){throw c("FBLogger")("messenger_web").catching(a).mustfixThrow("Failed to generateNewKey")}});return h.apply(this,arguments)}g["default"]=a}),98);
__d("MAWEARKeychainDecryptionError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.name="MAWEARKeychainDecryptionError";c.message=b;return c}return b}(babelHelpers.wrapNativeSuper(Error));f["default"]=a}),66);
__d("MAWWorkerSetupArgs",[],(function(a,b,c,d,e,f){"use strict";var g=null;function a(a){g=a}function b(){return g}function c(){g=null}f.setWorkerSetupArgs=a;f.getWorkerSetupArgs=b;f.resetWorkerSetupArgs=c}),66);
__d("MAWGenKeychainCryptoKeyWithVersion",["ExecutionEnvironment","FBLogger","MAWCurrentUser","MAWEARKeychainDecryptionError","MAWKeychainCrypto","MAWWebInitDataHelpers","MAWWorkerSetupArgs","MessengerWebInitData","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,c,d,e,f,g){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,j,k,l){g===void 0&&(g=1);try{var m=(yield d("MAWKeychainCrypto").getAccountKeys(g));a=(yield (i||(i=b("Promise"))).all([d("MAWKeychainCrypto").importBrowserEncryptionKey(a),i.all(m.map(function(a){return d("MAWKeychainCrypto").decryptDataToArrayBuffer(a,e)["catch"](function(){return null})}))]));var n=a[0];m=a[1];a=(yield i.all(m.filter(Boolean).map(function(a){return d("MAWKeychainCrypto").genDatabaseEncryptionKey(n,a)["catch"](function(){return null})})));m=a.filter(Boolean);if(m.length===0)throw new(c("MAWEARKeychainDecryptionError"))("Failed to generate keys from seed");return{keys:m,version:f}}catch(b){a=null;m=null;f=d("MAWWorkerSetupArgs").getWorkerSetupArgs();(h||(h=c("ExecutionEnvironment"))).isInWorker&&f!=null&&(a=f.userKeyBase===c("MessengerWebInitData").userKeyBase,m=f.fbId===d("MAWCurrentUser").getID());f=d("MAWWebInitDataHelpers").getAccountKeysString(g);var o=f&&f[0]!=null?yield d("MAWKeychainCrypto").generateHashString(f[0]):null;c("FBLogger")("messenger_web").catching(b).mustfix("Failed to genKeyWithVersion: accountKeyBackfilled = %s; accountKeyExists = %s; acccountKeyMatches = %s; userKeyBaseBackilled = %s; userKeyBaseExists = %s; userKeyBaseMatches = %s; appIdOrigin = %s; appIdInitData = %s; userIdMatches = %s; isInWorker = %s; userKeyBase_match_between_threads = %s; userId_match_between_threads = %s; formatVersion = %s;",j!=null,f!=null,j===o,k!=null,c("MessengerWebInitData").userKeyBase!=null,k===(yield d("MAWKeychainCrypto").generateHashString(c("MessengerWebInitData").userKeyBase)),l,c("MessengerWebInitData").appId,d("MAWCurrentUser").getID()===String(c("MessengerWebInitData").userId),(h||(h=c("ExecutionEnvironment"))).isInWorker,a,m,g);throw b}});return j.apply(this,arguments)}g["default"]=a}),98);
__d("MAWKeychainNaClCrypto",["MAWKeychainCrypto","WABase64","tweetnacl"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a){var c;c=b.call(this,a)||this;c.name="EARError";c.message=a;return c}return a}(babelHelpers.wrapNativeSuper(Error));function i(a,b,c){c=new Uint8Array(c);var e=d("tweetnacl").randomBytes(d("tweetnacl").secretbox.nonceLength);b=d("tweetnacl").secretbox(b,e,new Uint8Array(a));a=new Uint8Array(c.length+e.length+b.length);a.set(c);a.set(e,c.length);a.set(b,c.length+e.length);return a.buffer}function j(a,b,c){return d("WABase64").encodeB64(i(a,b,c!=null?c:d("MAWKeychainCrypto").ADDITIONAL_DATA))}function k(a,b,c,e,f){b.slice(0,f);var g=b.slice(f,f+d("tweetnacl").secretbox.nonceLength);b=b.slice(f+d("tweetnacl").secretbox.nonceLength);f=d("tweetnacl").secretbox.open(new Uint8Array(b),new Uint8Array(g),new Uint8Array(a));if(f==null){throw new h("decryptTweetNaCl was unable to decrypt an entity. Attempting to use key version : "+((b=c)!=null?b:"non-provided")+". Format version "+((g=e)!=null?g:"unknown")+".")}return f}function l(a,b,c,e){return k(a,d("WABase64").decodeB64(b),c,void 0,e)}function a(a,b,c){return j(a,b,c)}function b(a,b,c,d){return l(a,b,c,d)}function c(a,b,c,d,e){return k(a,b,c,d,e)}g.EARDecryptionError=h;g.encryptTweetNaClArrayBuffer=i;g.encryptTweetNaCl=j;g.decryptTweetNaClArrayBuffer=k;g.decryptTweetNaCl=l;g.encrypt=a;g.decrypt=b;g.decryptArrayBuffer=c}),98);
__d("MWBroadcastChannelPolyfill",["FBLogger","LocalStorageWrapper","MessengerLogHistory","Random","recoverableViolation","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MessengerLogHistory").getInstance("client_init");function a(a){h.debug("[MWBroadcastChannelPolyfill] "+a)}function i(a){c("FBLogger")("messenger_web").mustfix(a)}var j={},k=d("LocalStorageWrapper").getStorage(a);function b(a){var b="$BroadcastChannel$"+a+"$",e=!1,f=function(a){if(a.storageArea!==k)return;var c=a.newValue;if(c==null||c==="")return;if(((a=a.key)==null?void 0:a.substring(0,b.length))!==b)return;var d=JSON.parse(c);(a=j[b])==null?void 0:a.forEach(function(a){a({data:d})})};window.addEventListener("storage",f);return{addEventListener:function(a,c){j[b]=j[b]||new Set(),j[b].add(c)},close:function(){if(e)return;e=!0;j={};window.removeEventListener("storage",f)},postMessage:function(a){if(e){c("recoverableViolation")("Broadcast channel is closed","ls_web_init");return}a=JSON.stringify(a);var f=b+String(Date.now())+"$"+String(c("Random").uint32());d("LocalStorageWrapper").setItemGuarded(k,f,a,i);c("setTimeout")(function(){d("LocalStorageWrapper").removeItemGuarded(k,f,i)},500)},removeEventListener:function(a,c){(a=j[b])==null?void 0:a["delete"](c)}}}g["default"]=b}),98);
__d("MWBroadcastChannel",["MWBroadcastChannelPolyfill"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return self.BroadcastChannel!=null?new self.BroadcastChannel(a):c("MWBroadcastChannelPolyfill")(a)}g.MWBroadcastChannel=a}),98);
__d("MWEARKeychainV3Errors",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.name="EARKeychainNotFoundError";c.message=b;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.EARKeychainNotFoundError=a}),66);
__d("MWLSDatabaseNames",[],(function(a,b,c,d,e,f){"use strict";a="LightSpeed";b=a+"V3";f.name=a;f.lightspeedPrefix=b}),66);
__d("MWLSIndexedDBName",["MAWCurrentUser","MWLSDatabaseNames"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MAWCurrentUser").getID();return d("MWLSDatabaseNames").lightspeedPrefix+a}g.dbName=a}),98);
__d("MWLocalStorageErrorHandler",["cr:3449"],(function(a,b,c,d,e,f,g){"use strict";function a(){b("cr:3449")&&b("cr:3449").clearLocalStorageBigValues()}g.onQuotaExceeded=a}),98);
__d("ReStoreLocalStorageQuotaExceed",["FBLogger","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h="Failed to execute 'setItem' on 'Storage'",i="ReStoreLocalStorageQuotaExceed";function j(){try{var a=window.localStorage,b=[],d=[];if(a!=null&&a.length!==0)for(var e in a){b.length===0&&d.length===0&&(e.includes("falco_queue_log")&&d.push(e));if(!Object.prototype.hasOwnProperty.call(a,e))continue;var f=((a[e]||"").length+e.length)*2;f/1024>2e3&&b.push(e)}c("FBLogger")("messenger_web").mustfix(h+": QuotaExceeded - trying to clean up %s or %s",b.join(","),d.join(","));return b.length!==0?b:d}catch(a){c("FBLogger")("messenger_web").mustfix("Error getting local storage big values for cleanup.");return[]}}function a(){try{var a=window.localStorage,b=j();b.forEach(function(b){a.removeItem(b)})}catch(a){c("recoverableViolation")("Couldn't remove vals from localStorage","maw_db",a)}}b=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;b=h+": "+b+"; Keys to delete: "+j().join(",");c=a.call(this,b)||this;c.message=b;c.name=i;return c}return b}(babelHelpers.wrapNativeSuper(Error));g.ERROR_NAME=i;g.getLocalStorageValuesToRemoveOnExceed=j;g.clearLocalStorageBigValues=a;g.ReStoreLocalStorageQuotaExceed=b}),98);
__d("ReStoreTabNotifier",["CurrentMessengerUser","FBLogger","MWBroadcastChannel","MWLSIndexedDBName"],(function(a,b,c,d,e,f,g){"use strict";var h=d("CurrentMessengerUser").getIDorEIMU();function a(a){var b=d("MWBroadcastChannel").MWBroadcastChannel(a==="restore-table-"+h+"-"+d("MWLSIndexedDBName").dbName()?"mwChat-"+h:a);function e(a,d){try{b.postMessage([a,d])}catch(a){c("FBLogger")("messenger_web").catching(a).warn("Failed to broadcast changes")}}function f(a,c){b.addEventListener("message",function(b){b=b.data;var d=b[0];d===a&&c(b[1])})}return{onEventReceive:f,postMessage:e}}g["default"]=a}),98);
__d("WebStorageLockManager",["FBLogger","LocalStorageWrapper","LockManager","Promise","Run","asyncToGeneratorRuntime","clearInterval","err","promiseDone","setInterval","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){c("FBLogger")("messenger_web").mustfix(a)}function a(a,e){var f="Failed to execute 'request' on 'LockManager'",g="Lock broken by another request with the 'steal' option.",j=function(a,b,c){var d=a.get(b);if(d!=null)return d;d=c();a.set(b,d);return d};try{var k=d("LocalStorageWrapper").getStorage(i),l=function(a,b){d("LocalStorageWrapper").setItemGuarded(k,a,b,i,e==null?void 0:e.onQuotaExceeded)},m=function(a){d("LocalStorageWrapper").removeItemGuarded(k,a,i)},n=function(a){return d("LocalStorageWrapper").getItemGuarded(k,a,i)},o=function(){function a(a,b){this.lockName=a,this.tabId=b,this.lockA=this.lockName+"-a",this.lockB=this.lockName+"-b"}var d=a.prototype;d.run=function(a){return this.$1(a,0)};d.$1=function(a,d){var e=this,f=function(b){return window.requestAnimationFrame(function(){return e.$1(a,d+1).then(b)})},g=function(a){return n(a)==null};l(this.lockA,this.tabId);return new(h||(h=b("Promise")))(function(b){var h=function(){try{a(),b()}finally{m(e.lockB),m(e.lockA)}};g(e.lockB)||d>10?(d>10&&c("FBLogger")("messenger_web").warn("web-lock polyfill: Had to steal lock"),l(e.lockB,e.tabId),n(e.lockA)===e.tabId?h():window.requestAnimationFrame(function(){n(e.lockB)===e.tabId?h():f(b)})):f(b)})};return a}(),p=function(){function a(b){this.tabId=b,this.lock=new o(a.tabsKey,b),c("promiseDone")(this.$1()),this.$2(),this.keepOnlyTabs(function(b){return a.isAlive(b)})}a.isAlive=function(b){b=n(a.$3(b));return b==null?!1:Date.now()-parseFloat(b)<1e3};var e=a.prototype;e.keepOnlyTabs=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield this.lock.run(function(){var c;c=JSON.parse((c=n(a.tabsKey))!=null?c:"[]").filter(b);c.length>0?l(a.tabsKey,JSON.stringify(c)):m(a.tabsKey)})});function d(a){return c.apply(this,arguments)}return d}();e.$2=function(){var b=a.$3(this.tabId);l(b,Date.now().toString());var e=c("setInterval")(function(){l(b,Date.now().toString())},500);d("Run").onUnload(function(){c("clearInterval")(e),m(b)})};e.$1=function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=this;yield this.lock.run(function(){var c;c=JSON.parse((c=n(a.tabsKey))!=null?c:"[]");l(a.tabsKey,JSON.stringify([].concat(c,[b.tabId])))});d("Run").onUnload(function(){return c("promiseDone")(b.keepOnlyTabs(function(a){return a!==b.tabId}))})});function f(){return e.apply(this,arguments)}return f}();a.$3=function(a){return"$navigator.heartbeat-"+a};return a}();p.tabsKey="$navigator.heartbeat-tabs";var q=function(){function a(b,e){var f=this;this.requests=new Map();this.name=b;this.tabId=e;this.queueKey=a.storagePrefix+"-"+b+"-q";this.currentOwnerKey=a.storagePrefix+"-"+b+"-o";this.lock=new o(a.storagePrefix+"-"+b,this.tabId);d("Run").onUnload(function(){c("promiseDone")(f.keepOnlyRequests(function(a){return(a==null?void 0:a.t)!==f.tabId}))})}var e=a.prototype;e.enqueue=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,d,a){var e=this,f=c("uuidv4")().toString(),g={t:this.tabId,u:f},h=function(){b(null),e.markRequestReleased(f)},i=function(){b(f),e.markRequestReleased(f)};this.requests.set(f,[function(){return b(f)},function(){d(),e.markRequestReleased(f)}]);if((a==null?void 0:a.signal)!=null){a.signal.onabort=function(){c("promiseDone")(e.keepOnlyRequests(function(a){return(a==null?void 0:a.u)!==f})),i()};if(a.signal.aborted)return i()}yield this.lock.run(function(){var b=e.getOwner();(a==null?void 0:a.steal)===!0&&e.$1(b==null?void 0:b.u);if(b==null||(a==null?void 0:a.steal)===!0||!p.isAlive(b.t))e.$2(e.currentOwnerKey,babelHelpers["extends"]({},g,(a==null?void 0:a.steal)===!0?{s:!0}:{})),e.$3(f);else if((a==null?void 0:a.ifAvailable)!==!0){b=e.getQueue();b.push(g);e.$2(e.queueKey,b)}else h()})});function d(b,c,d){return a.apply(this,arguments)}return d}();e.dequeue=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=this,d,e=null;yield this.lock.run(function(){var d=c.getOwner();if((d==null?void 0:d.t)!==c.tabId||(d==null?void 0:d.u)!==b)return;d=c.getQueue();d=a.getNextOwner(d);var f=d[0];d=d[1];e=f;c.$2(c.currentOwnerKey,f);c.$2(c.queueKey,d)});this.$3((d=e)==null?void 0:d.u)});function d(a){return c.apply(this,arguments)}return d}();e.storageChangedOnOtherTab=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=this;a==="o"&&(yield this.lock.run(function(){var a=c.getOwner();if(a==null)return;c.$3(a==null?void 0:a.u);if(a.s===!0){a=b==null?void 0:b.oldValue;if(a!=null){a=JSON.parse(a);a.t===c.tabId&&c.$1(a.u)}}}))});function c(b,c){return a.apply(this,arguments)}return c}();e.getQueue=function(){var a;return(a=this.$4(this.queueKey))!=null?a:[]};e.getOwner=function(){return this.$4(this.currentOwnerKey)};a.getQueueNameAndStorageType=function(b){if(!b.startsWith(a.storagePrefix))return null;var d=b.slice(a.storagePrefix.length+1,b.length-2),e=b.charAt(b.length-1);switch(e){case"q":case"o":case"a":case"b":break;default:throw c("err")("Queue was stored with a suffix other than q or o. This is either a bug in the web lock api polyfill code, or it means that something overwrote localStorage with a weird key. Key: "+b)}return[d,e]};a.getNextOwner=function(a){for(var b=0;b<a.length;b+=1)if(p.isAlive(a[b].t))return[a[b],a.slice(b+1)];return[null,[]]};e.$4=function(a){a=n(a);return a!=null?JSON.parse(a):null};e.$2=function(a,b){b=b==null||Array.isArray(b)&&b.length===0?null:JSON.stringify(b);b==null?m(a):l(a,b)};e.keepOnlyRequests=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=this;yield this.lock.run(function(){var d=c.getOwner(),e=c.getQueue().filter(b);if(b(d))c.$2(c.queueKey,e);else{d=a.getNextOwner(e);e=d[0];d=d[1];c.$2(c.currentOwnerKey,e);c.$2(c.queueKey,d)}})});function d(a){return c.apply(this,arguments)}return d}();e.markRequestReleased=function(a){a!=null&&this.requests["delete"](a)};e.$3=function(a){if(a!=null){a=this.requests.get(a);if(a!=null){a=a[0];a()}}};e.$1=function(a){if(a!=null){a=this.requests.get(a);if(a!=null){a[0];a=a[1];a()}}};return a}();q.storagePrefix="$navigator.locks";var r=function(){function a(a){this.$1=new Map(),this.storage=d("LocalStorageWrapper").getStorage(i),this.tabId=a,new p(this.tabId),c("promiseDone")(this.$2()),this.$3()}var e=a.prototype;e.request=function(){var a=this;for(var e=arguments.length,i=new Array(e),j=0;j<e;j++)i[j]=arguments[j];return new(h||(h=b("Promise")))(function(e,j){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var k,l=i[0],e=i.length===3?i[1]:null,m=i.length===2?i[1]:i[2];if(l.startsWith("-"))throw new DOMException("Names cannot start with '-'.",f);if((e==null?void 0:e.ifAvailable)===!0&&(e==null?void 0:e.signal)!=null)throw new DOMException("The 'signal' and 'ifAvailable' options cannot be used together.",f);var n=a.$4(l),o=(yield new(h||(h=b("Promise")))(function(a){c("promiseDone")(n.enqueue(a,function(){j(new DOMException(g,f))},e))}));if((e==null?void 0:(k=e.signal)==null?void 0:k.aborted)===!0)throw new DOMException("The request was aborted.",f);try{yield m(o!=null?{mode:(k=e==null?void 0:e.mode)!=null?k:d("LockManager").LockMode.Exclusive,name:l}:null)}finally{o!=null&&(yield n.dequeue(o)),n.markRequestReleased(o)}})(),e,j)})};e.query=function(){var a=[],c=[];for(var e of this.$5())if(e!=null){var f={mode:d("LockManager").LockMode.Exclusive,name:e.name};if(e.getOwner()!=null)a.push(f);else for(var g of e.getQueue())c.push(f)}return(h||(h=b("Promise"))).resolve({held:a,pending:c})};e.$4=function(a){var b=this;return j(this.$1,a,function(){return new q(a,b.tabId)})};e.$3=function(){var a=this;window.addEventListener("storage",function(b){var d=b.key;if(b.storageArea!==a.storage||d==null)return;d=q.getQueueNameAndStorageType(d);if(d==null)return;var e=d[0];d=d[1];c("promiseDone")((e=a.$4(e))==null?void 0:e.storageChangedOnOtherTab(d,b))})};e.$2=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield (h||(h=b("Promise"))).all(this.$5().map(function(a){return a==null?void 0:a.keepOnlyRequests(function(a){return a==null?!1:p.isAlive(a.t)})}))});function c(){return a.apply(this,arguments)}return c}();e.$5=function(){var a=this;return k==null?[]:Object.keys(k).map(function(b){b=q.getQueueNameAndStorageType(b);if(b==null)return;b=b[0];return a.$4(b)})};return a}();return new r(a)}catch(a){return null}}g.make=a}),98);
__d("promiseFromRequest",[],(function(a,b,c,d,e,f){"use strict";function a(a){return new self.Promise(function(b,c){a.onsuccess=function(a){b(a.target.result)},a.onerror=function(a){c(a)}})}f["default"]=a}),66);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/PAEKTkKqR_S/
 */
__d("msgpack-msgpack-2.8.0",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){Object.defineProperty(g,"__esModule",{value:!0});g.getUint64=g.getInt64=g.setInt64=g.setUint64=g.UINT32_MAX=void 0;g.UINT32_MAX=4294967295;function a(a,b,c){var d=c/4294967296;c=c;a.setUint32(b,d);a.setUint32(b+4,c)}g.setUint64=a;function b(a,b,c){var d=Math.floor(c/4294967296);c=c;a.setUint32(b,d);a.setUint32(b+4,c)}g.setInt64=b;function c(a,b){var c=a.getInt32(b);a=a.getUint32(b+4);return c*4294967296+a}g.getInt64=c;function d(a,b){var c=a.getUint32(b);a=a.getUint32(b+4);return c*4294967296+a}g.getUint64=d}var j=!1;function k(){j||(j=!0,i());return h.exports}var l={},m={exports:l};function n(){var a;Object.defineProperty(l,"__esModule",{value:!0});l.utf8DecodeTD=l.TEXT_DECODER_THRESHOLD=l.utf8DecodeJs=l.utf8EncodeTE=l.TEXT_ENCODER_THRESHOLD=l.utf8EncodeJs=l.utf8Count=void 0;var b=k();a=(typeof process==="undefined"||((a=process===null||process===void 0?void 0:process.env)===null||a===void 0?void 0:a.TEXT_ENCODING)!=="never")&&typeof TextEncoder!=="undefined"&&typeof TextDecoder!=="undefined";function c(a){var b=a.length,c=0,d=0;while(d<b){var e=a.charCodeAt(d++);if((e&4294967168)===0){c++;continue}else if((e&4294965248)===0)c+=2;else{if(e>=55296&&e<=56319&&d<b){var f=a.charCodeAt(d);(f&64512)===56320&&(++d,e=((e&1023)<<10)+(f&1023)+65536)}(e&4294901760)===0?c+=3:c+=4}}return c}l.utf8Count=c;function d(a,b,c){var d=a.length;c=c;var e=0;while(e<d){var f=a.charCodeAt(e++);if((f&4294967168)===0){b[c++]=f;continue}else if((f&4294965248)===0)b[c++]=f>>6&31|192;else{if(f>=55296&&f<=56319&&e<d){var g=a.charCodeAt(e);(g&64512)===56320&&(++e,f=((f&1023)<<10)+(g&1023)+65536)}(f&4294901760)===0?(b[c++]=f>>12&15|224,b[c++]=f>>6&63|128):(b[c++]=f>>18&7|240,b[c++]=f>>12&63|128,b[c++]=f>>6&63|128)}b[c++]=f&63|128}}l.utf8EncodeJs=d;var e=a?new TextEncoder():void 0;l.TEXT_ENCODER_THRESHOLD=a?typeof process!=="undefined"&&((c=process===null||process===void 0?void 0:process.env)===null||c===void 0?void 0:c.TEXT_ENCODING)!=="force"?200:0:b.UINT32_MAX;function f(a,b,c){b.set(e.encode(a),c)}function g(a,b,c){e.encodeInto(a,b.subarray(c))}l.utf8EncodeTE=(e===null||e===void 0?void 0:e.encodeInto)?g:f;var h=4096;function i(a,b,c){b=b;c=b+c;var d=[],e="";while(b<c){var f=a[b++];if((f&128)===0)d.push(f);else if((f&224)===192){var g=a[b++]&63;d.push((f&31)<<6|g)}else if((f&240)===224){g=a[b++]&63;var i=a[b++]&63;d.push((f&31)<<12|g<<6|i)}else if((f&248)===240){g=a[b++]&63;i=a[b++]&63;var j=a[b++]&63;g=(f&7)<<18|g<<12|i<<6|j;g>65535&&(g-=65536,d.push(g>>>10&1023|55296),g=56320|g&1023);d.push(g)}else d.push(f);d.length>=h&&(e+=String.fromCharCode.apply(String,d),d.length=0)}d.length>0&&(e+=String.fromCharCode.apply(String,d));return e}l.utf8DecodeJs=i;var j=a?new TextDecoder():null;l.TEXT_DECODER_THRESHOLD=a?typeof process!=="undefined"&&((d=process===null||process===void 0?void 0:process.env)===null||d===void 0?void 0:d.TEXT_DECODER)!=="force"?200:0:b.UINT32_MAX;function m(a,b,c){a=a.subarray(b,b+c);return j.decode(a)}l.utf8DecodeTD=m}var o=!1;function p(){o||(o=!0,n());return m.exports}var q={},r={exports:q};function aa(){Object.defineProperty(q,"__esModule",{value:!0});q.ExtData=void 0;var a=function(a,b){this.type=a,this.data=b};q.ExtData=a}var s=!1;function t(){s||(s=!0,aa());return r.exports}var u={},ba={exports:u};function ca(){Object.defineProperty(u,"__esModule",{value:!0});u.DecodeError=void 0;var a=function(b){babelHelpers.inheritsLoose(a,b);function a(c){c=b.call(this,c)||this;var d=Object.create(a.prototype);Object.setPrototypeOf(babelHelpers.assertThisInitialized(c),d);Object.defineProperty(babelHelpers.assertThisInitialized(c),"name",{configurable:!0,enumerable:!1,value:a.name});return c}return a}(babelHelpers.wrapNativeSuper(Error));u.DecodeError=a}var v=!1;function w(){v||(v=!0,ca());return ba.exports}var x={},da={exports:x};function ea(){Object.defineProperty(x,"__esModule",{value:!0});x.timestampExtension=x.decodeTimestampExtension=x.decodeTimestampToTimeSpec=x.encodeTimestampExtension=x.encodeDateToTimeSpec=x.encodeTimeSpecToTimestamp=x.EXT_TIMESTAMP=void 0;var a=w(),b=k();x.EXT_TIMESTAMP=-1;var c=4294967296-1,d=17179869184-1;function e(a){var e=a.sec;a=a.nsec;if(e>=0&&a>=0&&e<=d)if(a===0&&e<=c){var f=new Uint8Array(4),g=new DataView(f.buffer);g.setUint32(0,e);return f}else{g=e/4294967296;f=e&4294967295;var h=new Uint8Array(8),i=new DataView(h.buffer);i.setUint32(0,a<<2|g&3);i.setUint32(4,f);return h}else{g=new Uint8Array(12);i=new DataView(g.buffer);i.setUint32(0,a);b.setInt64(i,4,e);return g}}x.encodeTimeSpecToTimestamp=e;function f(a){a=a.getTime();var b=Math.floor(a/1e3);a=(a-b*1e3)*1e6;var c=Math.floor(a/1e9);return{sec:b+c,nsec:a-c*1e9}}x.encodeDateToTimeSpec=f;function g(a){if(a instanceof Date){a=f(a);return e(a)}else return null}x.encodeTimestampExtension=g;function h(c){var d=new DataView(c.buffer,c.byteOffset,c.byteLength);switch(c.byteLength){case 4:var e=d.getUint32(0),f=0;return{sec:e,nsec:f};case 8:e=d.getUint32(0);f=d.getUint32(4);f=(e&3)*4294967296+f;e=e>>>2;return{sec:f,nsec:e};case 12:f=b.getInt64(d,4);e=d.getUint32(0);return{sec:f,nsec:e};default:throw new a.DecodeError("Unrecognized data size for timestamp (expected 4, 8, or 12): "+c.length)}}x.decodeTimestampToTimeSpec=h;function i(a){a=h(a);return new Date(a.sec*1e3+a.nsec/1e6)}x.decodeTimestampExtension=i;x.timestampExtension={type:x.EXT_TIMESTAMP,encode:g,decode:i}}var y=!1;function z(){y||(y=!0,ea());return da.exports}var A={},fa={exports:A};function ga(){Object.defineProperty(A,"__esModule",{value:!0});A.ExtensionCodec=void 0;var a=t(),b=z(),c=function(){function c(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(b.timestampExtension)}var d=c.prototype;d.register=function(a){var b=a.type,c=a.encode;a=a.decode;if(b>=0)this.encoders[b]=c,this.decoders[b]=a;else{b=1+b;this.builtInEncoders[b]=c;this.builtInDecoders[b]=a}};d.tryToEncode=function(b,c){for(var d=0;d<this.builtInEncoders.length;d++){var e=this.builtInEncoders[d];if(e!=null){e=e(b,c);if(e!=null){var f=-1-d;return new a.ExtData(f,e)}}}for(f=0;f<this.encoders.length;f++){e=this.encoders[f];if(e!=null){d=e(b,c);if(d!=null){e=f;return new a.ExtData(e,d)}}}return b instanceof a.ExtData?b:null};d.decode=function(b,c,d){var e=c<0?this.builtInDecoders[-1-c]:this.decoders[c];if(e)return e(b,c,d);else return new a.ExtData(c,b)};return c}();A.ExtensionCodec=c;c.defaultCodec=new c()}var B=!1;function C(){B||(B=!0,ga());return fa.exports}var D={},ha={exports:D};function ia(){Object.defineProperty(D,"__esModule",{value:!0});D.createDataView=D.ensureUint8Array=void 0;function a(a){if(a instanceof Uint8Array)return a;else if(ArrayBuffer.isView(a))return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);else if(a instanceof ArrayBuffer)return new Uint8Array(a);else return Uint8Array.from(a)}D.ensureUint8Array=a;function b(b){if(b instanceof ArrayBuffer)return new DataView(b);b=a(b);return new DataView(b.buffer,b.byteOffset,b.byteLength)}D.createDataView=b}var E=!1;function F(){E||(E=!0,ia());return ha.exports}var G={},ja={exports:G};function ka(){Object.defineProperty(G,"__esModule",{value:!0});G.Encoder=G.DEFAULT_INITIAL_BUFFER_SIZE=G.DEFAULT_MAX_DEPTH=void 0;var a=p(),b=C(),c=k(),d=F();G.DEFAULT_MAX_DEPTH=100;G.DEFAULT_INITIAL_BUFFER_SIZE=2048;var e=function(){function e(a,c,d,e,f,g,h,i){a===void 0&&(a=b.ExtensionCodec.defaultCodec),c===void 0&&(c=void 0),d===void 0&&(d=G.DEFAULT_MAX_DEPTH),e===void 0&&(e=G.DEFAULT_INITIAL_BUFFER_SIZE),f===void 0&&(f=!1),g===void 0&&(g=!1),h===void 0&&(h=!1),i===void 0&&(i=!1),this.extensionCodec=a,this.context=c,this.maxDepth=d,this.initialBufferSize=e,this.sortKeys=f,this.forceFloat32=g,this.ignoreUndefined=h,this.forceIntegerToFloat=i,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}var f=e.prototype;f.reinitializeState=function(){this.pos=0};f.encodeSharedRef=function(a){this.reinitializeState();this.doEncode(a,1);return this.bytes.subarray(0,this.pos)};f.encode=function(a){this.reinitializeState();this.doEncode(a,1);return this.bytes.slice(0,this.pos)};f.doEncode=function(a,b){if(b>this.maxDepth)throw new Error("Too deep objects in depth "+b);a==null?this.encodeNil():typeof a==="boolean"?this.encodeBoolean(a):typeof a==="number"?this.encodeNumber(a):typeof a==="string"?this.encodeString(a):this.encodeObject(a,b)};f.ensureBufferSizeToWrite=function(a){a=this.pos+a;this.view.byteLength<a&&this.resizeBuffer(a*2)};f.resizeBuffer=function(a){a=new ArrayBuffer(a);var b=new Uint8Array(a);a=new DataView(a);b.set(this.bytes);this.view=a;this.bytes=b};f.encodeNil=function(){this.writeU8(192)};f.encodeBoolean=function(a){a===!1?this.writeU8(194):this.writeU8(195)};f.encodeNumber=function(a){Number.isSafeInteger(a)&&!this.forceIntegerToFloat?a>=0?a<128?this.writeU8(a):a<256?(this.writeU8(204),this.writeU8(a)):a<65536?(this.writeU8(205),this.writeU16(a)):a<4294967296?(this.writeU8(206),this.writeU32(a)):(this.writeU8(207),this.writeU64(a)):a>=-32?this.writeU8(224|a+32):a>=-128?(this.writeU8(208),this.writeI8(a)):a>=-32768?(this.writeU8(209),this.writeI16(a)):a>=-2147483648?(this.writeU8(210),this.writeI32(a)):(this.writeU8(211),this.writeI64(a)):this.forceFloat32?(this.writeU8(202),this.writeF32(a)):(this.writeU8(203),this.writeF64(a))};f.writeStringHeader=function(a){if(a<32)this.writeU8(160+a);else if(a<256)this.writeU8(217),this.writeU8(a);else if(a<65536)this.writeU8(218),this.writeU16(a);else if(a<4294967296)this.writeU8(219),this.writeU32(a);else throw new Error("Too long string: "+a+" bytes in UTF-8")};f.encodeString=function(b){var c=1+4,d=b.length;if(d>a.TEXT_ENCODER_THRESHOLD){d=a.utf8Count(b);this.ensureBufferSizeToWrite(c+d);this.writeStringHeader(d);a.utf8EncodeTE(b,this.bytes,this.pos);this.pos+=d}else{d=a.utf8Count(b);this.ensureBufferSizeToWrite(c+d);this.writeStringHeader(d);a.utf8EncodeJs(b,this.bytes,this.pos);this.pos+=d}};f.encodeObject=function(a,b){var c=this.extensionCodec.tryToEncode(a,this.context);if(c!=null)this.encodeExtension(c);else if(Array.isArray(a))this.encodeArray(a,b);else if(ArrayBuffer.isView(a))this.encodeBinary(a);else if(typeof a==="object")this.encodeMap(a,b);else throw new Error("Unrecognized object: "+Object.prototype.toString.apply(a))};f.encodeBinary=function(a){var b=a.byteLength;if(b<256)this.writeU8(196),this.writeU8(b);else if(b<65536)this.writeU8(197),this.writeU16(b);else if(b<4294967296)this.writeU8(198),this.writeU32(b);else throw new Error("Too large binary: "+b);b=d.ensureUint8Array(a);this.writeU8a(b)};f.encodeArray=function(a,b){var c=a.length;if(c<16)this.writeU8(144+c);else if(c<65536)this.writeU8(220),this.writeU16(c);else if(c<4294967296)this.writeU8(221),this.writeU32(c);else throw new Error("Too large array: "+c);for(c of a)this.doEncode(c,b+1)};f.countWithoutUndefined=function(a,b){var c=0;for(b of b)a[b]!==void 0&&c++;return c};f.encodeMap=function(a,b){var c=Object.keys(a);this.sortKeys&&c.sort();var d=this.ignoreUndefined?this.countWithoutUndefined(a,c):c.length;if(d<16)this.writeU8(128+d);else if(d<65536)this.writeU8(222),this.writeU16(d);else if(d<4294967296)this.writeU8(223),this.writeU32(d);else throw new Error("Too large map object: "+d);for(d of c){c=a[d];this.ignoreUndefined&&c===void 0||(this.encodeString(d),this.doEncode(c,b+1))}};f.encodeExtension=function(a){var b=a.data.length;if(b===1)this.writeU8(212);else if(b===2)this.writeU8(213);else if(b===4)this.writeU8(214);else if(b===8)this.writeU8(215);else if(b===16)this.writeU8(216);else if(b<256)this.writeU8(199),this.writeU8(b);else if(b<65536)this.writeU8(200),this.writeU16(b);else if(b<4294967296)this.writeU8(201),this.writeU32(b);else throw new Error("Too large extension object: "+b);this.writeI8(a.type);this.writeU8a(a.data)};f.writeU8=function(a){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,a),this.pos++};f.writeU8a=function(a){var b=a.length;this.ensureBufferSizeToWrite(b);this.bytes.set(a,this.pos);this.pos+=b};f.writeI8=function(a){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,a),this.pos++};f.writeU16=function(a){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,a),this.pos+=2};f.writeI16=function(a){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,a),this.pos+=2};f.writeU32=function(a){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,a),this.pos+=4};f.writeI32=function(a){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,a),this.pos+=4};f.writeF32=function(a){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,a),this.pos+=4};f.writeF64=function(a){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,a),this.pos+=8};f.writeU64=function(a){this.ensureBufferSizeToWrite(8),c.setUint64(this.view,this.pos,a),this.pos+=8};f.writeI64=function(a){this.ensureBufferSizeToWrite(8),c.setInt64(this.view,this.pos,a),this.pos+=8};return e}();G.Encoder=e}var H=!1;function I(){H||(H=!0,ka());return ja.exports}var J={},la={exports:J};function ma(){Object.defineProperty(J,"__esModule",{value:!0});J.encode=void 0;var a=I(),b={};function c(c,d){d===void 0&&(d=b);d=new a.Encoder(d.extensionCodec,d.context,d.maxDepth,d.initialBufferSize,d.sortKeys,d.forceFloat32,d.ignoreUndefined,d.forceIntegerToFloat);return d.encodeSharedRef(c)}J.encode=c}var K=!1;function na(){K||(K=!0,ma());return la.exports}var L={},oa={exports:L};function pa(){Object.defineProperty(L,"__esModule",{value:!0});L.prettyByte=void 0;function a(a){return(a<0?"-":"")+"0x"+Math.abs(a).toString(16).padStart(2,"0")}L.prettyByte=a}var M=!1;function qa(){M||(M=!0,pa());return oa.exports}var N={},ra={exports:N};function sa(){Object.defineProperty(N,"__esModule",{value:!0});N.CachedKeyDecoder=void 0;var a=p(),b=16,c=16,d=function(){function d(a,d){a===void 0&&(a=b);d===void 0&&(d=c);this.maxKeyLength=a;this.maxLengthPerKey=d;this.hit=0;this.miss=0;this.caches=[];for(a=0;a<this.maxKeyLength;a++)this.caches.push([])}var e=d.prototype;e.canBeCached=function(a){return a>0&&a<=this.maxKeyLength};e.find=function(a,b,c){var d=this.caches[c-1];FIND_CHUNK:for(d of d){var e=d.bytes;for(var f=0;f<c;f++)if(e[f]!==a[b+f])continue FIND_CHUNK;return d.str}return null};e.store=function(a,b){var c=this.caches[a.length-1];a={bytes:a,str:b};c.length>=this.maxLengthPerKey?c[Math.random()*c.length|0]=a:c.push(a)};e.decode=function(b,c,d){var e=this.find(b,c,d);if(e!=null){this.hit++;return e}this.miss++;e=a.utf8DecodeJs(b,c,d);b=Uint8Array.prototype.slice.call(b,c,c+d);this.store(b,e);return e};return d}();N.CachedKeyDecoder=d}var O=!1;function ta(){O||(O=!0,sa());return ra.exports}var P={},ua={exports:P};function va(){Object.defineProperty(P,"__esModule",{value:!0});P.Decoder=P.DataViewIndexOutOfBoundsError=void 0;var a=qa(),c=C(),d=k(),e=p(),f=F(),g=ta(),h=w(),i=function(a){a=typeof a;return a==="string"||a==="number"},j=-1,l=new DataView(new ArrayBuffer(0)),m=new Uint8Array(l.buffer);P.DataViewIndexOutOfBoundsError=function(){try{l.getInt8(0)}catch(a){return a.constructor}throw new Error("never reached")}();var n=new P.DataViewIndexOutOfBoundsError("Insufficient data"),o=new g.CachedKeyDecoder();g=function(){function g(a,b,e,f,g,h,i,k){a===void 0&&(a=c.ExtensionCodec.defaultCodec),b===void 0&&(b=void 0),e===void 0&&(e=d.UINT32_MAX),f===void 0&&(f=d.UINT32_MAX),g===void 0&&(g=d.UINT32_MAX),h===void 0&&(h=d.UINT32_MAX),i===void 0&&(i=d.UINT32_MAX),k===void 0&&(k=o),this.extensionCodec=a,this.context=b,this.maxStrLength=e,this.maxBinLength=f,this.maxArrayLength=g,this.maxMapLength=h,this.maxExtLength=i,this.keyDecoder=k,this.totalPos=0,this.pos=0,this.view=l,this.bytes=m,this.headByte=j,this.stack=[]}var k=g.prototype;k.reinitializeState=function(){this.totalPos=0,this.headByte=j,this.stack.length=0};k.setBuffer=function(a){this.bytes=f.ensureUint8Array(a),this.view=f.createDataView(this.bytes),this.pos=0};k.appendBuffer=function(a){if(this.headByte===j&&!this.hasRemaining(1))this.setBuffer(a);else{var b=this.bytes.subarray(this.pos);a=f.ensureUint8Array(a);var c=new Uint8Array(b.length+a.length);c.set(b);c.set(a,b.length);this.setBuffer(c)}};k.hasRemaining=function(a){return this.view.byteLength-this.pos>=a};k.createExtraByteError=function(a){var b=this.view,c=this.pos;return new RangeError("Extra "+(b.byteLength-c)+" of "+b.byteLength+" byte(s) found at buffer["+a+"]")};k.decode=function(a){this.reinitializeState();this.setBuffer(a);a=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return a};k.decodeMulti=function*(a){this.reinitializeState();this.setBuffer(a);while(this.hasRemaining(1))yield this.doDecodeSync()};k.decodeAsync=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=!1,d,e=!0,f=!1,g;try{for(var h=babelHelpers.asyncIterator(b),b,b;b=(yield h.next()),e=b.done,b=(yield b.value),!e;e=!0){b=b;if(c)throw this.createExtraByteError(this.totalPos);this.appendBuffer(b);try{d=this.doDecodeSync(),c=!0}catch(a){if(!(a instanceof P.DataViewIndexOutOfBoundsError))throw a}this.totalPos+=this.pos}}catch(a){f=!0,g=a}finally{try{!e&&h["return"]!=null&&(yield h["return"]())}finally{if(f)throw g}}if(c){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return d}b=this.headByte;e=this.pos;f=this.totalPos;throw new RangeError("Insufficient data in parsing "+a.prettyByte(b)+" at "+f+" ("+e+" in the current buffer)")});function d(a){return c.apply(this,arguments)}return d}();k.decodeArrayStream=function(a){return this.decodeMultiAsync(a,!0)};k.decodeStream=function(a){return this.decodeMultiAsync(a,!1)};k.decodeMultiAsync=function(){var a=babelHelpers.wrapAsyncGenerator(function*(a,b){var c=b,d=-1,e=!0,f=!1,g;try{for(var h=babelHelpers.asyncIterator(a),a,a;a=(yield babelHelpers.awaitAsyncGenerator(h.next())),e=a.done,a=(yield babelHelpers.awaitAsyncGenerator(a.value)),!e;e=!0){a=a;if(b&&d===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(a);c&&(d=this.readArraySize(),c=!1,this.complete());try{while(!0){yield this.doDecodeSync();if(--d===0)break}}catch(a){if(!(a instanceof P.DataViewIndexOutOfBoundsError))throw a}this.totalPos+=this.pos}}catch(a){f=!0,g=a}finally{try{!e&&h["return"]!=null&&(yield babelHelpers.awaitAsyncGenerator(h["return"]()))}finally{if(f)throw g}}});function b(b,c){return a.apply(this,arguments)}return b}();k.doDecodeSync=function(){DECODE:while(!0){var b=this.readHeadByte(),c=void 0;if(b>=224)c=b-256;else if(b<192)if(b<128)c=b;else if(b<144){var d=b-128;if(d!==0){this.pushMapState(d);this.complete();continue DECODE}else c={}}else if(b<160){d=b-144;if(d!==0){this.pushArrayState(d);this.complete();continue DECODE}else c=[]}else{d=b-160;c=this.decodeUtf8String(d,0)}else if(b===192)c=null;else if(b===194)c=!1;else if(b===195)c=!0;else if(b===202)c=this.readF32();else if(b===203)c=this.readF64();else if(b===204)c=this.readU8();else if(b===205)c=this.readU16();else if(b===206)c=this.readU32();else if(b===207)c=this.readU64();else if(b===208)c=this.readI8();else if(b===209)c=this.readI16();else if(b===210)c=this.readI32();else if(b===211)c=this.readI64();else if(b===217){d=this.lookU8();c=this.decodeUtf8String(d,1)}else if(b===218){d=this.lookU16();c=this.decodeUtf8String(d,2)}else if(b===219){d=this.lookU32();c=this.decodeUtf8String(d,4)}else if(b===220){d=this.readU16();if(d!==0){this.pushArrayState(d);this.complete();continue DECODE}else c=[]}else if(b===221){d=this.readU32();if(d!==0){this.pushArrayState(d);this.complete();continue DECODE}else c=[]}else if(b===222){d=this.readU16();if(d!==0){this.pushMapState(d);this.complete();continue DECODE}else c={}}else if(b===223){d=this.readU32();if(d!==0){this.pushMapState(d);this.complete();continue DECODE}else c={}}else if(b===196){d=this.lookU8();c=this.decodeBinary(d,1)}else if(b===197){d=this.lookU16();c=this.decodeBinary(d,2)}else if(b===198){d=this.lookU32();c=this.decodeBinary(d,4)}else if(b===212)c=this.decodeExtension(1,0);else if(b===213)c=this.decodeExtension(2,0);else if(b===214)c=this.decodeExtension(4,0);else if(b===215)c=this.decodeExtension(8,0);else if(b===216)c=this.decodeExtension(16,0);else if(b===199){d=this.lookU8();c=this.decodeExtension(d,1)}else if(b===200){d=this.lookU16();c=this.decodeExtension(d,2)}else if(b===201){d=this.lookU32();c=this.decodeExtension(d,4)}else throw new h.DecodeError("Unrecognized type byte: "+a.prettyByte(b));this.complete();d=this.stack;while(d.length>0){b=d[d.length-1];if(b.type===0){b.array[b.position]=c;b.position++;if(b.position===b.size)d.pop(),c=b.array;else continue DECODE}else if(b.type===1){if(!i(c))throw new h.DecodeError("The type of key must be string or number but "+typeof c);if(c==="__proto__")throw new h.DecodeError("The key __proto__ is not allowed");b.key=c;b.type=2;continue DECODE}else{b.map[b.key]=c;b.readCount++;if(b.readCount===b.size)d.pop(),c=b.map;else{b.key=null;b.type=1;continue DECODE}}}return c}};k.readHeadByte=function(){this.headByte===j&&(this.headByte=this.readU8());return this.headByte};k.complete=function(){this.headByte=j};k.readArraySize=function(){var b=this.readHeadByte();switch(b){case 220:return this.readU16();case 221:return this.readU32();default:if(b<160)return b-144;else throw new h.DecodeError("Unrecognized array type byte: "+a.prettyByte(b))}};k.pushMapState=function(a){if(a>this.maxMapLength)throw new h.DecodeError("Max length exceeded: map length ("+a+") > maxMapLengthLength ("+this.maxMapLength+")");this.stack.push({type:1,size:a,key:null,readCount:0,map:{}})};k.pushArrayState=function(a){if(a>this.maxArrayLength)throw new h.DecodeError("Max length exceeded: array length ("+a+") > maxArrayLength ("+this.maxArrayLength+")");this.stack.push({type:0,size:a,array:new Array(a),position:0})};k.decodeUtf8String=function(a,b){var c;if(a>this.maxStrLength)throw new h.DecodeError("Max length exceeded: UTF-8 byte length ("+a+") > maxStrLength ("+this.maxStrLength+")");if(this.bytes.byteLength<this.pos+b+a)throw n;var d=this.pos+b;this.stateIsMapKey()&&((c=this.keyDecoder)===null||c===void 0?void 0:c.canBeCached(a))?c=this.keyDecoder.decode(this.bytes,d,a):a>e.TEXT_DECODER_THRESHOLD?c=e.utf8DecodeTD(this.bytes,d,a):c=e.utf8DecodeJs(this.bytes,d,a);this.pos+=b+a;return c};k.stateIsMapKey=function(){if(this.stack.length>0){var a=this.stack[this.stack.length-1];return a.type===1}return!1};k.decodeBinary=function(a,b){if(a>this.maxBinLength)throw new h.DecodeError("Max length exceeded: bin length ("+a+") > maxBinLength ("+this.maxBinLength+")");if(!this.hasRemaining(a+b))throw n;var c=this.pos+b;c=this.bytes.subarray(c,c+a);this.pos+=b+a;return c};k.decodeExtension=function(a,b){if(a>this.maxExtLength)throw new h.DecodeError("Max length exceeded: ext length ("+a+") > maxExtLength ("+this.maxExtLength+")");var c=this.view.getInt8(this.pos+b);a=this.decodeBinary(a,b+1);return this.extensionCodec.decode(a,c,this.context)};k.lookU8=function(){return this.view.getUint8(this.pos)};k.lookU16=function(){return this.view.getUint16(this.pos)};k.lookU32=function(){return this.view.getUint32(this.pos)};k.readU8=function(){var a=this.view.getUint8(this.pos);this.pos++;return a};k.readI8=function(){var a=this.view.getInt8(this.pos);this.pos++;return a};k.readU16=function(){var a=this.view.getUint16(this.pos);this.pos+=2;return a};k.readI16=function(){var a=this.view.getInt16(this.pos);this.pos+=2;return a};k.readU32=function(){var a=this.view.getUint32(this.pos);this.pos+=4;return a};k.readI32=function(){var a=this.view.getInt32(this.pos);this.pos+=4;return a};k.readU64=function(){var a=d.getUint64(this.view,this.pos);this.pos+=8;return a};k.readI64=function(){var a=d.getInt64(this.view,this.pos);this.pos+=8;return a};k.readF32=function(){var a=this.view.getFloat32(this.pos);this.pos+=4;return a};k.readF64=function(){var a=this.view.getFloat64(this.pos);this.pos+=8;return a};return g}();P.Decoder=g}var Q=!1;function R(){Q||(Q=!0,va());return ua.exports}var S={},wa={exports:S};function xa(){Object.defineProperty(S,"__esModule",{value:!0});S.decodeMulti=S.decode=S.defaultDecodeOptions=void 0;var a=R();S.defaultDecodeOptions={};function b(b,c){c===void 0&&(c=S.defaultDecodeOptions);c=new a.Decoder(c.extensionCodec,c.context,c.maxStrLength,c.maxBinLength,c.maxArrayLength,c.maxMapLength,c.maxExtLength);return c.decode(b)}S.decode=b;function c(b,c){c===void 0&&(c=S.defaultDecodeOptions);c=new a.Decoder(c.extensionCodec,c.context,c.maxStrLength,c.maxBinLength,c.maxArrayLength,c.maxMapLength,c.maxExtLength);return c.decodeMulti(b)}S.decodeMulti=c}var T=!1;function U(){T||(T=!0,xa());return wa.exports}var V={},ya={exports:V};function za(){Object.defineProperty(V,"__esModule",{value:!0});V.ensureAsyncIterable=V.asyncIterableFromStream=V.isAsyncIterable=void 0;function a(a){return a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]!=null}V.isAsyncIterable=a;function b(a){if(a==null)throw new Error("Assertion Failure: value must not be null nor undefined")}function c(a){return d.apply(this,arguments)}function d(){d=babelHelpers.wrapAsyncGenerator(function*(a){a=a.getReader();try{while(!0){var c=(yield babelHelpers.awaitAsyncGenerator(a.read())),d=c.done;c=c.value;if(d)return;b(c);yield c}}finally{a.releaseLock()}});return d.apply(this,arguments)}V.asyncIterableFromStream=c;function e(b){if(a(b))return b;else return c(b)}V.ensureAsyncIterable=e}var W=!1;function Aa(){W||(W=!0,za());return ya.exports}var X={},Ba={exports:X};function Ca(){Object.defineProperty(X,"__esModule",{value:!0});X.decodeStream=X.decodeMultiStream=X.decodeArrayStream=X.decodeAsync=void 0;var a=R(),c=Aa(),d=U();function e(a,b){return f.apply(this,arguments)}function f(){f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,e){e===void 0&&(e=d.defaultDecodeOptions);b=c.ensureAsyncIterable(b);e=new a.Decoder(e.extensionCodec,e.context,e.maxStrLength,e.maxBinLength,e.maxArrayLength,e.maxMapLength,e.maxExtLength);return e.decodeAsync(b)});return f.apply(this,arguments)}X.decodeAsync=e;function g(b,e){e===void 0&&(e=d.defaultDecodeOptions);b=c.ensureAsyncIterable(b);e=new a.Decoder(e.extensionCodec,e.context,e.maxStrLength,e.maxBinLength,e.maxArrayLength,e.maxMapLength,e.maxExtLength);return e.decodeArrayStream(b)}X.decodeArrayStream=g;function h(b,e){e===void 0&&(e=d.defaultDecodeOptions);b=c.ensureAsyncIterable(b);e=new a.Decoder(e.extensionCodec,e.context,e.maxStrLength,e.maxBinLength,e.maxArrayLength,e.maxMapLength,e.maxExtLength);return e.decodeStream(b)}X.decodeMultiStream=h;function i(a,b){b===void 0&&(b=d.defaultDecodeOptions);return h(a,b)}X.decodeStream=i}var Y=!1;function Da(){Y||(Y=!0,Ca());return Ba.exports}var Z={},Ea={exports:Z};function Fa(){Object.defineProperty(Z,"__esModule",{value:!0});Z.decodeTimestampExtension=Z.encodeTimestampExtension=Z.decodeTimestampToTimeSpec=Z.encodeTimeSpecToTimestamp=Z.encodeDateToTimeSpec=Z.EXT_TIMESTAMP=Z.ExtData=Z.ExtensionCodec=Z.Encoder=Z.DataViewIndexOutOfBoundsError=Z.DecodeError=Z.Decoder=Z.decodeStream=Z.decodeMultiStream=Z.decodeArrayStream=Z.decodeAsync=Z.decodeMulti=Z.decode=Z.encode=void 0;var a=na();Object.defineProperty(Z,"encode",{enumerable:!0,get:function(){return a.encode}});var b=U();Object.defineProperty(Z,"decode",{enumerable:!0,get:function(){return b.decode}});Object.defineProperty(Z,"decodeMulti",{enumerable:!0,get:function(){return b.decodeMulti}});var c=Da();Object.defineProperty(Z,"decodeAsync",{enumerable:!0,get:function(){return c.decodeAsync}});Object.defineProperty(Z,"decodeArrayStream",{enumerable:!0,get:function(){return c.decodeArrayStream}});Object.defineProperty(Z,"decodeMultiStream",{enumerable:!0,get:function(){return c.decodeMultiStream}});Object.defineProperty(Z,"decodeStream",{enumerable:!0,get:function(){return c.decodeStream}});var d=R();Object.defineProperty(Z,"Decoder",{enumerable:!0,get:function(){return d.Decoder}});Object.defineProperty(Z,"DataViewIndexOutOfBoundsError",{enumerable:!0,get:function(){return d.DataViewIndexOutOfBoundsError}});var e=w();Object.defineProperty(Z,"DecodeError",{enumerable:!0,get:function(){return e.DecodeError}});var f=I();Object.defineProperty(Z,"Encoder",{enumerable:!0,get:function(){return f.Encoder}});var g=C();Object.defineProperty(Z,"ExtensionCodec",{enumerable:!0,get:function(){return g.ExtensionCodec}});var h=t();Object.defineProperty(Z,"ExtData",{enumerable:!0,get:function(){return h.ExtData}});var i=z();Object.defineProperty(Z,"EXT_TIMESTAMP",{enumerable:!0,get:function(){return i.EXT_TIMESTAMP}});Object.defineProperty(Z,"encodeDateToTimeSpec",{enumerable:!0,get:function(){return i.encodeDateToTimeSpec}});Object.defineProperty(Z,"encodeTimeSpecToTimestamp",{enumerable:!0,get:function(){return i.encodeTimeSpecToTimestamp}});Object.defineProperty(Z,"decodeTimestampToTimeSpec",{enumerable:!0,get:function(){return i.decodeTimestampToTimeSpec}});Object.defineProperty(Z,"encodeTimestampExtension",{enumerable:!0,get:function(){return i.encodeTimestampExtension}});Object.defineProperty(Z,"decodeTimestampExtension",{enumerable:!0,get:function(){return i.decodeTimestampExtension}})}var $=!1;function Ga(){$||($=!0,Fa());return Ea.exports}function a(a){switch(a){case void 0:return Ga()}}e.exports=a}),null);
__d("msgpack-msgpack",["msgpack-msgpack-2.8.0"],(function(a,b,c,d,e,f){e.exports=b("msgpack-msgpack-2.8.0")()}),null);
__d("react-spring-web",["react-spring-web-9.5.2"],(function(a,b,c,d,e,f){e.exports=b("react-spring-web-9.5.2")()}),null);/*FB_PKG_DELIM*/
__d("XRefererFrameControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/common/referer_frame.php",Object.freeze({no_lower:!1}),void 0);b=a;g["default"]=b}),98);
__d("ControlledReferer",["invariant","ConstUriUtils","XRefererFrameControllerRouteBuilder","getRequestConstUri","isInternalFBURI","isWorkplaceDotComURI"],(function(a,b,c,d,e,f,g,h){function i(a,b,e){function f(){var c="";try{c=a.contentWindow.location.pathname}catch(a){return}if(c!=="/intern/common/referer_frame.php"&&c!=="/common/referer_frame.php"&&c!=="/common/referer_frame.php/")return;b()}var g=c("XRefererFrameControllerRouteBuilder").buildUri({cb:1});g=g;c("isInternalFBURI")(c("getRequestConstUri")())&&(g=d("ConstUriUtils").getUri("/intern/common/referer_frame.php"));e==null&&c("isWorkplaceDotComURI")(c("getRequestConstUri")())&&(e="workplace");if(e){var i;g=(i=g)==null?void 0:i.addQueryParam("fb_source",e)}g!=null||h(0,67317);a.onload=f;a.src=g.toString()}function a(a,b,c){i(a,function(){a.contentWindow.document.body.innerHTML=b},c)}g.shouldUseFacebookReferer=i;g.useFacebookRefererHtml=a}),98);
__d("StaticContainer.react",["react"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.shouldComponentUpdate=function(a){return!!a.shouldUpdate};c.render=function(){var a=this.props.children;return a===null||a===!1?null:i.Children.only(a)};return b}(i.Component);g["default"]=a}),98);
__d("ControlledRefererIFrame.react",["ControlledReferer","ControlledRefererIFrameConfig","SecurePostMessage","StaticContainer.react","TrustedTypesNoOpPolicy_DO_NOT_USE","URI","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.mountFrameRef=function(a){this.frame=a};e.updateFrame=function(){var a=this,b=this.frame;if(!b)return;this.props.onBeforeFrameRender&&this.props.onBeforeFrameRender(this.props);d("ControlledReferer").shouldUseFacebookReferer(b,function(){var e=b.contentWindow.document;e.body.innerHTML=c("TrustedTypesNoOpPolicy_DO_NOT_USE").createHTML('\n        <form method="GET" id="theform"></form>\n        '+d("ControlledRefererIFrameConfig").additional_markup+"\n      ");var f=new(h||(h=c("URI")))(a.props.src).qualify(),g=e.getElementById("theform");g.action=f.toString();var i=f.getQueryData();f=function(a){if(Object.prototype.hasOwnProperty.call(i,a)){var b=i[a];if(Array.isArray(b))b.forEach(function(b){var c=e.createElement("input");c.name=a+"[]";c.setAttribute("value",b);c.autocomplete="off";c.type="hidden";g.appendChild(c)});else{b=e.createElement("input");b.name=a;b.setAttribute("value",i[a]);b.autocomplete="off";b.type="hidden";g.appendChild(b)}}};for(var j in i)f(j);f=e.createElement("iframe");f.frameborder=0;f.width=f.height="1";f.onload=function(){return e.getElementById("theform").submit()};e.body.appendChild(f);a.props.onFrameRender&&a.props.onFrameRender(a.props)})};e.componentDidMount=function(){this.updateFrame()};e.componentDidUpdate=function(a){a.src!==this.props.src&&this.updateFrame()};e.UNSAFE_componentWillReceiveProps=function(a){var b=this.frame;b&&(a.width!==this.props.width||a.height!==this.props.height)&&(a.width!=null&&(b.width=""+a.width),a.height!=null&&(b.height=""+a.height))};e.render=function(){var a=this,b=this.props;b.src;b.onFrameRender;b.onBeforeFrameRender;b.useTrustedHtml;b=babelHelpers.objectWithoutPropertiesLoose(b,["src","onFrameRender","onBeforeFrameRender","useTrustedHtml"]);return j.jsx(c("StaticContainer.react"),{children:j.jsx("iframe",babelHelpers["extends"]({},b,{ref:function(b){return a.mountFrameRef(b)}}))})};e.postMessage=function(a,b){this.frame&&c("SecurePostMessage").sendMessageToSpecificOrigin(this.frame.contentWindow,a,b)};return b}(j.PureComponent);g["default"]=a}),98);
__d("DocumentTitle",["Arbiter"],(function(a,b,c,d,e,f,g){var h=1500,i=null,j=!1,k=0,l=[],m=null,n=document.title,o=0;function p(){l.length>0?!j?(q(l[k].title),k=++k%l.length):r():(clearInterval(i),i=null,r())}function q(a){document.title=a,j=!0}function r(){s.set(m||n,!0),j=!1}var s=function(){function a(a){this.$1=a}a.get=function(){return n};a.set=function(a,b){var d=a.toString();document.title=d;!b?(n=d,m=null,c("Arbiter").inform("update_title",a)):m=d};a.blink=function(b){b={title:b.toString()};l.push(b);i===null&&(i=setInterval(p,h));return new a(b)};var b=a.prototype;b.stop=function(){var a=l.indexOf(this.$1);a>=0&&(l.splice(a,1),k>a?k--:k==a&&k==l.length&&(k=0))};a.badge=function(b){var d=a.get();d=b?"("+b+") "+d:d;a.set(d,!0);c("Arbiter").inform("update_title_badge",b,"state");o=b};a.preserveBadgeAndSet=function(b){a.set(b,!1),c("Arbiter").inform("update_title",b),a.badge(o)};return a}();g["default"]=s}),98);
__d("IGDBadgeIconImpressionLoggingWrapper.react",["MessengerWebUXLogger","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(4);a=a.children;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={eventName:"visit_inbox"},b[0]=e):e=b[0];e=c("MessengerWebUXLogger").useImpressionLoggerRef(e);var f;b[1]!==a||b[2]!==e?(f=i.jsx("div",{ref:e,children:a}),b[1]=a,b[2]=e,b[3]=f):f=b[3];return f}g["default"]=a}),98);
__d("IGDSCallFilled24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M4.9 24.002q-.2 0-.4-.008a3.319 3.319 0 0 1-2.161-.92A18.862 18.862 0 0 1 .454 21.02a2.223 2.223 0 0 1 .171-2.893 14.91 14.91 0 0 1 5.829-4.014 2.5 2.5 0 0 1 1.896.186l.96.512a.888.888 0 0 0 .75.044 8.653 8.653 0 0 0 2.872-1.922 8.66 8.66 0 0 0 1.922-2.871.889.889 0 0 0-.044-.75l-.512-.962a2.495 2.495 0 0 1-.186-1.895 14.906 14.906 0 0 1 4.014-5.83 2.22 2.22 0 0 1 2.893-.17 18.89 18.89 0 0 1 2.056 1.884 3.323 3.323 0 0 1 .92 2.16c.206 5.552-3.946 10.564-6.44 13.057-2.432 2.433-7.264 6.446-12.654 6.446Z"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDSLockFilledIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M10 5.667V4c0-2.2-1.8-4-4-4S2 1.8 2 4v1.667C.9 5.7 0 6.6 0 7.7v6.267C0 15.1.9 16 2.033 16h7.934A2.02 2.02 0 0 0 12 13.967V7.7c0-1.1-.9-2-2-2.033Zm-4-4C7.3 1.667 8.333 2.7 8.333 4v1.667H3.667V4C3.667 2.7 4.7 1.667 6 1.667Z",fill:"currentColor"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{aspectRatio:.75,viewBox:"0 0 12 16",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("PolarisAppInstallConstants",["keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({"default":null,instagramlitecarbon:null,openinapp:null});b=["postPage","profilePage","locationPage","feedPage","exploreLandingPage","ActivityFeedPage"];g.APP_BANNER_VARIANTS=a;g.ALLOWLISTED_PAGE_IDS=b}),98);
__d("PolarisIncomingCallActions",[],(function(a,b,c,d,e,f){"use strict";function a(){return{type:"ACK_INCOMING_CALL"}}function b(a,b,c,d,e,f){return{avatarUris:e,callerName:f,hasVideo:c,igThreadId:b,serverInfoData:a,threadName:d,type:"UPDATE_INCOMING_CALL"}}f.ackCall=a;f.updateCall=b}),66);
__d("useBlinkDocumentTitle",["DocumentTitle","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a){var b=d("react-compiler-runtime").c(3),e,f;b[0]!==a?(e=function(){if(a==null)return j;var b=c("DocumentTitle").blink(a);return function(){b.stop()}},f=[a],b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);i(e,f)}function j(){}g["default"]=a}),98);
__d("PolarisIncomingCallBlinkingTitle.react",["fbt","PolarisCallGatingHelpers","react","react-compiler-runtime","useBlinkDocumentTitle"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(2);a=a.callerName;var c;b[0]!==a?(c=d("PolarisCallGatingHelpers").isWebCallingEnabled()&&a!=null?j.jsx(k,{callerName:a}):null,b[0]=a,b[1]=c):c=b[1];return c}function k(a){var b=d("react-compiler-runtime").c(2);a=a.callerName;var e;b[0]!==a?(e=h._(/*BTDS*/"__JHASH__uTskMV1sxoc__JHASH__",[h._param("caller_name",a)]),b[0]=a,b[1]=e):e=b[1];c("useBlinkDocumentTitle")(e);return null}g["default"]=a}),226);
__d("PolarisIncomingCall.react",["fbt","CometPressable.react","I64","IGCoreModal.react","IGDSBox.react","IGDSCallFilled24Icon.react","IGDSLockFilledIcon.react","IGDSTextVariants.react","IGDSVideoChatFilled24Icon.react","IGDSXFilledIcon.react","IGDThreadTTLCUtils","IGWebPreCallContext","IGWebPreCallHooks","PolarisCallGatingHelpers","PolarisCallNavigator","PolarisDirectLogger","PolarisDirectStrings","PolarisIGCoreText","PolarisIncomingCallActions","PolarisIncomingCallBlinkingTitle.react","PolarisReactRedux.react","PolarisUserAvatar.react","ReQL","ReQLSuspense","ZenonCallInviteModelTypes","bx","intlList","promiseDone","react","useIGDIsE2EECallingEnabled","usePolarisMQTT","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));b=k;var m=b.useContext,n=b.useEffect;function a(){var a,b=function(a){if(a&&a.type===d("ZenonCallInviteModelTypes").CallInviteModelType.ringing){var b;b=(b=a.controllerParams.serverInfoData)!=null?b:"";var e=a.requestingVideo;a=(a=a.controllerParams.appMessages)==null?void 0:a.ring_data;var f="",g="",h="",i,j=[],k=[];if(a!=null){a=JSON.parse(a);h=a.display_name;i=a.display_uri;g=a.group_name;f=a.ig_thread_id;j=a.participant_usernames;k.push(i);if(!g){try{j=JSON.parse(j)}catch(a){}g=Array.isArray(j)?c("intlList")([h].concat(j),c("intlList").CONJUNCTIONS.NONE).toString():h}}return{avatarUris:k,callerName:h,hasVideo:e,igThreadId:f,serverInfoData:b,threadName:g}}else return null},e=d("IGWebPreCallHooks").useCallInvite(),g=(a=e==null?void 0:e.isE2eeMandated)!=null?a:!1;a=e==null?void 0:e.context.thread;var k=(i||(i=c("useReStore")))(),o=(j||(j=d("I64"))).of_string((a=a==null?void 0:a.id)!=null?a:"");a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(k.tables.threads).getKeyRange(o)},[k.tables.threads,o],f.id+":125");a=a!=null?d("IGDThreadTTLCUtils").isInstamadilloTTLCCallingEnabled(a):!1;var p=c("useIGDIsE2EECallingEnabled")(o);p=g?!p&&a:!0;var q=d("IGWebPreCallHooks").useAcceptCallCallback(p),r=d("PolarisReactRedux.react").useDispatch(),s=c("usePolarisMQTT")();a=m(c("IGWebPreCallContext"));var t=a?a.callInviteModel:null;a=d("PolarisReactRedux.react").useSelector(function(a){return a.incomingCall});var u=a.acknowledged,v=a.avatarUris,w=a.callerName,x=a.hasVideo,y=a.igThreadId,z=a.serverInfoData;a=a.threadName;b=e?b(e):null;b!=null?(v=b.avatarUris,w=b.callerName,x=b.hasVideo,y=b.igThreadId,z=b.serverInfoData,a=b.threadName,u=!1):d("PolarisCallGatingHelpers").isWebCallingEnabled()&&(u=!0);e=function(){d("PolarisDirectLogger").DirectLogger.logDirectEvent("IncomingCall","join_button_click",{has_video:x,ig_thread_id:y,server_info_data:z}),g?c("promiseDone")(q({trigger:"incoming_call_modal"})):(r(d("PolarisIncomingCallActions").ackCall()),y!=null&&d("PolarisCallNavigator").launchCall(y,Boolean(x),z))};var A=!Boolean(u)&&z!=null&&y!=null&&d("PolarisCallGatingHelpers").isWebCallingEnabled();n(function(){A&&d("PolarisDirectLogger").DirectLogger.logDirectEvent("IncomingCall","incoming_call_impression",{has_video:x,ig_thread_id:y,server_info_data:z})},[x,y,A,z]);b=function(){d("PolarisDirectLogger").DirectLogger.logDirectEvent("IncomingCall","decline_button_click",{has_video:x,ig_thread_id:y,server_info_data:z}),d("PolarisCallGatingHelpers").isWebCallingEnabled()?t==null?void 0:t.decline():(r(d("PolarisIncomingCallActions").ackCall()),z!=null&&s!=null&&c("promiseDone")(s.sendRtcHangupRequest(z)))};u=Boolean(x)?h._(/*BTDS*/"__JHASH__GQ_YG69KS9I__JHASH__"):h._(/*BTDS*/"__JHASH__oOTeWHPkR____JHASH__");u=p?u:h._(/*BTDS*/"__JHASH__gplkkZtPi7i__JHASH__");return A?l.jsxs(c("IGCoreModal.react"),{children:[l.jsx("audio",{autoPlay:!0,loop:!0,src:c("bx").getURL(c("bx")("6022")),type:"audio/m4a"}),l.jsx(c("PolarisIncomingCallBlinkingTitle.react"),{callerName:w}),l.jsxs(c("IGDSBox.react"),{alignItems:"center",height:312,padding:8,position:"relative",width:400,children:[l.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:v&&v.length>0?v[0]:null,size:92}),l.jsx(c("IGDSBox.react"),{marginBottom:2,marginTop:4,maxWidth:400,paddingX:8,position:"relative",children:l.jsx(c("PolarisIGCoreText"),{display:"truncated",Element:"h2",size:"headline2",textAlign:"center",weight:"semibold",zeroMargin:!0,children:a})}),l.jsxs(c("IGDSBox.react"),{direction:"row",justifyContent:"center",marginBottom:8,position:"relative",children:[p?null:l.jsx(c("IGDSBox.react"),{justifyContent:"center",paddingX:2,children:l.jsx(c("IGDSLockFilledIcon.react"),{alt:h._(/*BTDS*/"__JHASH__O5S2wYWhuyi__JHASH__"),color:"ig-secondary-text","data-testid":void 0,size:8})}),l.jsx(d("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",zeroMargin:!0,children:u})]}),l.jsxs(c("IGDSBox.react"),{direction:"row",position:"relative",children:[l.jsx(c("IGDSBox.react"),{marginEnd:6,position:"relative",children:l.jsx(c("CometPressable.react"),{onPress:b,children:l.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 xlid4zk x13tp074 x1qns1p2 xipx5yg x78zum5 xdd8jsf xl56j7k xvni27 x1mkg91h"},{children:l.jsx(c("IGDSXFilledIcon.react"),{alt:d("PolarisDirectStrings").DECLINE_CALL_MODAL_STRING,color:"web-always-white","data-testid":void 0})}))})}),l.jsx(c("CometPressable.react"),{onPress:e,children:l.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 xlid4zk x13tp074 x1qns1p2 xipx5yg x78zum5 xdd8jsf xl56j7k xvni27 x44zu8b"},{children:Boolean(x)?l.jsx(c("IGDSVideoChatFilled24Icon.react"),{alt:d("PolarisDirectStrings").JOIN_CALL_MODAL_STRING,color:"web-always-white"}):l.jsx(c("IGDSCallFilled24Icon.react"),{alt:d("PolarisDirectStrings").JOIN_CALL_MODAL_STRING,color:"web-always-white"})}))})]})]})]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("PolarisLoggedInAppBanner.react",["cx","HeroInteractionIgnoreWithDiv.react","IGDSBox.react","IGDSIconButton.react","IGDSXPanoFilledIcon.react","PolarisAppInstallConstants","PolarisAppInstallStrings","PolarisConfig","PolarisDismissEntry","PolarisGenericStrings","PolarisIGCoreButton.react","PolarisIgLiteCarbonUpsellsUtils","PolarisIsLoggedIn","PolarisLoggedInCtaLogger","PolarisNavigationLayoutContext","PolarisUA","polarisGetAppPlatform","polarisLogAction","react","react-compiler-runtime","usePolarisOpenApp"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useEffect,l=b.useState,m="logged_in_banner";function a(a){var b=d("react-compiler-runtime").c(23),e=l(!1),f=e[0],g=e[1],h=a.pageID,i=a.viewer;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=d("PolarisIgLiteCarbonUpsellsUtils").isIgLiteCarbonUpsellsEligible(),b[0]=e):e=b[0];var n=e;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(a=d("PolarisDismissEntry").isDismissed(d("PolarisDismissEntry").USE_THE_APP_LI_BANNER),b[1]=a):a=b[1];e=l(a);var o=e[0],p=e[1];a=d("PolarisNavigationLayoutContext").usePolarisNavigationLayoutContext();e=a.navigationPosition;b[2]!==o||b[3]!==h||b[4]!==(i==null?void 0:i.isProfessionalAccount)?(a=function(){var a;a=(a=i==null?void 0:i.isProfessionalAccount)!=null?a:!1;return a&&d("polarisGetAppPlatform").isIOS()&&d("PolarisConfig").getCountryCode()==="US"?!0:!d("PolarisIsLoggedIn").isLoggedIn()||!d("PolarisUA").isMobile()||!d("PolarisAppInstallConstants").ALLOWLISTED_PAGE_IDS.includes(h)||o},b[2]=o,b[3]=h,b[4]=i==null?void 0:i.isProfessionalAccount,b[5]=a):a=b[5];i==null?void 0:i.isProfessionalAccount;var q=a,r;b[6]!==q||b[7]!==f||b[8]!==h?(a=function(){!q()&&!f&&(c("polarisLogAction")("appBannerImpression",{platform:d("polarisGetAppPlatform").getAppPlatform(),source:h,type:m}),d("PolarisLoggedInCtaLogger").logLoggedInCtaEvent({containermodule:h,ctaType:"app_banner",ctaVersion:n?"instagramlitecarbon":"use_the_app",eventName:"impression"}),g(!0))},r=[n,q,f,h],b[6]=q,b[7]=f,b[8]=h,b[9]=a,b[10]=r):(a=b[9],r=b[10]);k(a,r);var s=c("usePolarisOpenApp")();b[11]!==s||b[12]!==h?(a=function(a){a.preventDefault(),c("polarisLogAction")("appBannerClick",{platform:d("polarisGetAppPlatform").getAppPlatform(),source:h,type:m}),d("PolarisLoggedInCtaLogger").logLoggedInCtaEvent({containermodule:h,ctaType:"app_banner",ctaVersion:n?"instagramlitecarbon":"use_the_app",eventName:"click"}),s()},b[11]=s,b[12]=h,b[13]=a):a=b[13];r=a;b[14]!==h?(a=function(a){a.preventDefault(),c("polarisLogAction")("appBannerDismiss",{platform:d("polarisGetAppPlatform").getAppPlatform(),source:h,type:m}),d("PolarisLoggedInCtaLogger").logLoggedInCtaEvent({containermodule:h,ctaType:"app_banner",ctaVersion:n?"instagramlitecarbon":"use_the_app",eventName:"dismiss"}),p(!0),d("PolarisDismissEntry").setDismissEntry(d("PolarisDismissEntry").USE_THE_APP_LI_BANNER)},b[14]=h,b[15]=a):a=b[15];a=a;var t;b[16]!==r||b[17]!==a||b[18]!==q||b[19]!==e?(t=q()?null:j.jsx("div",{className:"_acc8"+(e==="bottom"?" _abpk":"")+(e!=="bottom"?" _ag6v":""),children:j.jsxs(c("IGDSBox.react"),{alignItems:"center",justifyContent:"center",paddingY:2,position:"relative",width:"100%",children:[j.jsx(c("IGDSBox.react"),{padding:1,position:"absolute",right:!0,top:!0,children:j.jsx(c("IGDSIconButton.react"),{onClick:a,children:j.jsx(c("IGDSXPanoFilledIcon.react"),{alt:d("PolarisGenericStrings").CLOSE_TEXT,color:"ig-secondary-text",size:12})})}),j.jsx(c("IGDSBox.react"),{paddingX:6,position:"relative",children:j.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:r,children:n?d("PolarisAppInstallStrings").USE_INSTAGRAM_LITE_CARBON_CTA:d("PolarisAppInstallStrings").NEW_CTA_USE_THE_APP})})]})}),b[16]=r,b[17]=a,b[18]=q,b[19]=e,b[20]=t):t=b[20];b[21]!==t?(r=j.jsx(c("HeroInteractionIgnoreWithDiv.react"),{children:t}),b[21]=t,b[22]=r):r=b[22];return r}g["default"]=a}),98);
__d("PolarisNotificationsNavBadge.react",["PolarisActivityStorySelectors","PolarisNotificationsNavItemBadge.react","PolarisReactRedux.react","cr:10762","cr:10763","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var e=d("react-compiler-runtime").c(10),f=a.onBadgeStateChange;a=a.unseenCount;var g=b("cr:10763")(),h=d("PolarisReactRedux.react").useSelector(d("PolarisActivityStorySelectors").showBanner),k=a+g>0;e[0]!==k||e[1]!==f||e[2]!==h?(a=function(){return f(k||h)},g=[f,k,h],e[0]=k,e[1]=f,e[2]=h,e[3]=a,e[4]=g):(a=e[3],g=e[4]);j(a,g);e[5]!==k?(a=k?i.jsx(c("PolarisNotificationsNavItemBadge.react"),{}):null,e[5]=k,e[6]=a):a=e[6];e[7]===Symbol["for"]("react.memo_cache_sentinel")?(g=b("cr:10762")&&i.jsx(b("cr:10762"),{}),e[7]=g):g=e[7];e[8]!==a?(g=i.jsxs(i.Fragment,{children:[a,g]}),e[8]=a,e[9]=g):g=e[9];return g}g["default"]=a}),98);
__d("PolarisPaidAdsPixelContainerDeferredV2.react",["deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");a=c("deferredLoadComponent")(c("requireDeferred")("PolarisPaidAdsPixelsContainerV2.react").__setRef("PolarisPaidAdsPixelContainerDeferredV2.react"));g["default"]=a}),98);
__d("PolarisPaidAdsPixelsContainerV2.react",["CometErrorBoundary.react","ControlledRefererIFrame.react","PolarisWebStorage","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=1e3*60*60*24;var j=b*7,k="pixel_fire_ts";function l(){var a=d("react-compiler-runtime").c(5),b,e,f,g;if(a[0]===Symbol["for"]("react.memo_cache_sentinel")){g=Symbol["for"]("react.early_return_sentinel");bb0:{b=c("PolarisWebStorage").getLocalStorage();if(!b){g=null;break bb0}e=parseInt;f=b.getItem(k)}a[0]=b;a[1]=e;a[2]=f;a[3]=g}else b=a[0],e=a[1],f=a[2],g=a[3];if(g!==Symbol["for"]("react.early_return_sentinel"))return g;g=e(f,10);if(Date.now()-g<j)return null;a[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=i.jsx(c("ControlledRefererIFrame.react"),{hidden:!0,onFrameRender:function(){b.setItem(k,Date.now().toString())},src:"/paid_ads/generete_pixels/"},"pixels_iframe"),a[4]=g):g=a[4];return g}function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(l,{})}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("usePolarisNotificationsSecurityAlertUnseenCountDataDefault.react",[],(function(a,b,c,d,e,f){"use strict";function a(){return 0}f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("DateStrings",["fbt"],(function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q;function a(a){n||(n=[h._(/*BTDS*/"__JHASH__kRDmnexoZ4c__JHASH__"),h._(/*BTDS*/"__JHASH__Bn6mK_CYpOQ__JHASH__"),h._(/*BTDS*/"__JHASH__0CKO3e6zlkG__JHASH__"),h._(/*BTDS*/"__JHASH__knM-pwAZFhd__JHASH__"),h._(/*BTDS*/"__JHASH__9awSVez1lYX__JHASH__"),h._(/*BTDS*/"__JHASH__e-RtDb71wOv__JHASH__"),h._(/*BTDS*/"__JHASH__hC9TTGKI1In__JHASH__")]);return n[a]}function b(a){p||(p=[h._(/*BTDS*/"__JHASH__YUdS_z7d_6d__JHASH__"),h._(/*BTDS*/"__JHASH__Ovx6Ymroe_A__JHASH__"),h._(/*BTDS*/"__JHASH__eFqKUz2_kl3__JHASH__"),h._(/*BTDS*/"__JHASH__E_RiUxD0fWh__JHASH__"),h._(/*BTDS*/"__JHASH__C3_a7H_J7rx__JHASH__"),h._(/*BTDS*/"__JHASH__5CNevM2J02m__JHASH__"),h._(/*BTDS*/"__JHASH__4EW2wfH5WZD__JHASH__")]);return p[a]}function c(a){o||(o=[h._(/*BTDS*/"__JHASH__2PszcrK7vzP__JHASH__"),h._(/*BTDS*/"__JHASH__TlMpxfMswL-__JHASH__"),h._(/*BTDS*/"__JHASH__HgsLhEx6Rq0__JHASH__"),h._(/*BTDS*/"__JHASH__av9KuRGnSoy__JHASH__"),h._(/*BTDS*/"__JHASH__Y5eYWyns-vW__JHASH__"),h._(/*BTDS*/"__JHASH__Pcyy4Au35vm__JHASH__"),h._(/*BTDS*/"__JHASH__RuPRqeVJ1f___JHASH__")]);return o[a]}function d(a){q||(q=[h._(/*BTDS*/"__JHASH__I8rDd8HrSIY__JHASH__"),h._(/*BTDS*/"__JHASH__mJbm9skBmiP__JHASH__"),h._(/*BTDS*/"__JHASH__ZG1m85BJ2mG__JHASH__"),h._(/*BTDS*/"__JHASH__3alVL8FSzF2__JHASH__"),h._(/*BTDS*/"__JHASH__grH3eggt_PS__JHASH__"),h._(/*BTDS*/"__JHASH__o7IIktT8uZl__JHASH__"),h._(/*BTDS*/"__JHASH__OO7gVuw6-67__JHASH__")]);return q[a]}function r(){i=[h._(/*BTDS*/"__JHASH__U3IUNjyAWys__JHASH__"),h._(/*BTDS*/"__JHASH__8KKnx7Y4OWL__JHASH__"),h._(/*BTDS*/"__JHASH__Au0OETL-blc__JHASH__"),h._(/*BTDS*/"__JHASH__Z7N5jsVLWYq__JHASH__"),h._(/*BTDS*/"__JHASH__YbgiKmRzTZL__JHASH__"),h._(/*BTDS*/"__JHASH__WkH27C2YOr9__JHASH__"),h._(/*BTDS*/"__JHASH__c4u4vrQldeW__JHASH__"),h._(/*BTDS*/"__JHASH__tT8qwNVc_bY__JHASH__"),h._(/*BTDS*/"__JHASH__38VZPXukBcq__JHASH__"),h._(/*BTDS*/"__JHASH__oxEkc0tozky__JHASH__"),h._(/*BTDS*/"__JHASH__TydaAthEBOx__JHASH__"),h._(/*BTDS*/"__JHASH__r3FuzNa_oUv__JHASH__")]}function e(a){i||r();return i[a-1]}function f(){i||r();return i.slice()}function s(a){l||(l=[h._(/*BTDS*/"__JHASH__j3lAMkdtm8D__JHASH__"),h._(/*BTDS*/"__JHASH__W3ogesAukPo__JHASH__"),h._(/*BTDS*/"__JHASH__VbTrxXWL9LO__JHASH__"),h._(/*BTDS*/"__JHASH__tXlQvgnA6QB__JHASH__"),h._(/*BTDS*/"__JHASH__Qe2L3rtt4jY__JHASH__"),h._(/*BTDS*/"__JHASH__tzOs87oUqbm__JHASH__"),h._(/*BTDS*/"__JHASH__n0EAUTpeC58__JHASH__"),h._(/*BTDS*/"__JHASH___4QPpdl9jy3__JHASH__"),h._(/*BTDS*/"__JHASH__kTuP_o9kcON__JHASH__"),h._(/*BTDS*/"__JHASH__PfWuUW912mj__JHASH__"),h._(/*BTDS*/"__JHASH__z4eG5BJcKe2__JHASH__"),h._(/*BTDS*/"__JHASH__5oFCWzoMCPo__JHASH__")]);return l[a-1]}function t(a){j||(j=[h._(/*BTDS*/"__JHASH__DsKYj1oLo19__JHASH__"),h._(/*BTDS*/"__JHASH__TCuDpRnz2mT__JHASH__"),h._(/*BTDS*/"__JHASH__khl_0IT7mYX__JHASH__"),h._(/*BTDS*/"__JHASH__3Y3hi7sR1cI__JHASH__"),h._(/*BTDS*/"__JHASH__IHrjywEAvHt__JHASH__"),h._(/*BTDS*/"__JHASH__8kF4Ak1BW3a__JHASH__"),h._(/*BTDS*/"__JHASH__KKfFBFLyAgh__JHASH__"),h._(/*BTDS*/"__JHASH__XOJ0ufAxR5d__JHASH__"),h._(/*BTDS*/"__JHASH__ZnuGT3uobCp__JHASH__"),h._(/*BTDS*/"__JHASH__9OpDbaaGtTr__JHASH__"),h._(/*BTDS*/"__JHASH__-J5NrwJB53G__JHASH__"),h._(/*BTDS*/"__JHASH__HtgyaBTmaos__JHASH__")]);return j[a-1]}function u(a){k||(k=[h._(/*BTDS*/"__JHASH__VoVPp7VE97p__JHASH__"),h._(/*BTDS*/"__JHASH__TiP-2xvGcWh__JHASH__"),h._(/*BTDS*/"__JHASH__ju79mFQ_J1L__JHASH__"),h._(/*BTDS*/"__JHASH__leLBmZcPlvt__JHASH__"),h._(/*BTDS*/"__JHASH__sAWIM7lXq_F__JHASH__"),h._(/*BTDS*/"__JHASH__cbeCOd2W11J__JHASH__"),h._(/*BTDS*/"__JHASH__3U-gTYEZ8gT__JHASH__"),h._(/*BTDS*/"__JHASH___9B2djcyQhj__JHASH__"),h._(/*BTDS*/"__JHASH__fcwpPGGy3C5__JHASH__"),h._(/*BTDS*/"__JHASH__TsO3woeUmUo__JHASH__"),h._(/*BTDS*/"__JHASH__TS8b5DqPYc0__JHASH__"),h._(/*BTDS*/"__JHASH__FyOcyxpoDK6__JHASH__")]);return k[a-1]}function v(a){m||(m=["",h._(/*BTDS*/"__JHASH__kgS-kTTebvA__JHASH__"),h._(/*BTDS*/"__JHASH__PoFxBBtz8zw__JHASH__"),h._(/*BTDS*/"__JHASH__YBu_d81rLYN__JHASH__"),h._(/*BTDS*/"__JHASH___dd9pSVEWhQ__JHASH__"),h._(/*BTDS*/"__JHASH__utwmpovoP9t__JHASH__"),h._(/*BTDS*/"__JHASH__Qg6aLKsTxP6__JHASH__"),h._(/*BTDS*/"__JHASH__3NvZ16eqNhs__JHASH__"),h._(/*BTDS*/"__JHASH__OCFkSiFBu4g__JHASH__"),h._(/*BTDS*/"__JHASH__ntqZQ2awzy6__JHASH__"),h._(/*BTDS*/"__JHASH__lZeKEl9HM0Y__JHASH__"),h._(/*BTDS*/"__JHASH__JXCL249ubYt__JHASH__"),h._(/*BTDS*/"__JHASH__s8NeUaTiQSK__JHASH__"),h._(/*BTDS*/"__JHASH__M9rR63ZDVJg__JHASH__"),h._(/*BTDS*/"__JHASH__Mack7POOKmJ__JHASH__"),h._(/*BTDS*/"__JHASH__lVy7FkMjYVB__JHASH__"),h._(/*BTDS*/"__JHASH__ghJcI27I4P1__JHASH__"),h._(/*BTDS*/"__JHASH__6szdczmyHdq__JHASH__"),h._(/*BTDS*/"__JHASH__LDAc2xxYdM4__JHASH__"),h._(/*BTDS*/"__JHASH__wsIr3m2BjUW__JHASH__"),h._(/*BTDS*/"__JHASH___9rIVmXL7rL__JHASH__"),h._(/*BTDS*/"__JHASH__MnQZ282iK_0__JHASH__"),h._(/*BTDS*/"__JHASH__L33d1oEPeCr__JHASH__"),h._(/*BTDS*/"__JHASH__hjxQNJl9gEN__JHASH__"),h._(/*BTDS*/"__JHASH__BcmYmPTnObY__JHASH__"),h._(/*BTDS*/"__JHASH__ODyQeBDQBIs__JHASH__"),h._(/*BTDS*/"__JHASH__RskCzcAM8LN__JHASH__"),h._(/*BTDS*/"__JHASH__5WsyHDqOUBa__JHASH__"),h._(/*BTDS*/"__JHASH__VCG-VjG5RBC__JHASH__"),h._(/*BTDS*/"__JHASH__DsafOmqGRqB__JHASH__"),h._(/*BTDS*/"__JHASH__rh5lCQfsKaN__JHASH__"),h._(/*BTDS*/"__JHASH__Yxv-oP9L52u__JHASH__")]);return m[a]}function w(a){switch(a){case 1:return h._(/*BTDS*/"__JHASH__vgDiYSO4D18__JHASH__");case 2:return h._(/*BTDS*/"__JHASH__yIho--MGzhd__JHASH__");case 3:return h._(/*BTDS*/"__JHASH__Mr-vl7ybhSv__JHASH__");case 4:return h._(/*BTDS*/"__JHASH__BZIPNdku1Iy__JHASH__");case 5:return h._(/*BTDS*/"__JHASH__m-6hvKNWaTG__JHASH__");case 6:return h._(/*BTDS*/"__JHASH__wWqjYlrkNBH__JHASH__");case 7:return h._(/*BTDS*/"__JHASH__guZWXE222BT__JHASH__");case 8:return h._(/*BTDS*/"__JHASH__kWv6eHETdUi__JHASH__");case 9:return h._(/*BTDS*/"__JHASH__z7G_mkSQ-Vp__JHASH__");case 10:return h._(/*BTDS*/"__JHASH__7rXPmxBp1HA__JHASH__");case 11:return h._(/*BTDS*/"__JHASH__8g5Bsbx1ntS__JHASH__");case 12:return h._(/*BTDS*/"__JHASH__nFdyXihWX4G__JHASH__");case 13:return h._(/*BTDS*/"__JHASH__O9-p7jWhZMi__JHASH__");case 14:return h._(/*BTDS*/"__JHASH__juGaZXguzbw__JHASH__");case 15:return h._(/*BTDS*/"__JHASH__t-6cIQHx7zC__JHASH__");case 16:return h._(/*BTDS*/"__JHASH__wqchbLBpuzR__JHASH__");case 17:return h._(/*BTDS*/"__JHASH__Z-bLignwyiH__JHASH__");case 18:return h._(/*BTDS*/"__JHASH__ZPrynDoTudj__JHASH__");case 19:return h._(/*BTDS*/"__JHASH__9nPymx7YDyb__JHASH__");case 20:return h._(/*BTDS*/"__JHASH___ZrW3bFPgTr__JHASH__");case 21:return h._(/*BTDS*/"__JHASH__XPYxgF4SXkG__JHASH__");case 22:return h._(/*BTDS*/"__JHASH__siaQD07Sf09__JHASH__");case 23:return h._(/*BTDS*/"__JHASH__uymTAdRpc45__JHASH__");case 24:return h._(/*BTDS*/"__JHASH__5uz8UT0C04G__JHASH__");case 25:return h._(/*BTDS*/"__JHASH__g4Zn_nnZ0uM__JHASH__");case 26:return h._(/*BTDS*/"__JHASH__JfIlYLuuxft__JHASH__");case 27:return h._(/*BTDS*/"__JHASH__6c7RsCoaOQ6__JHASH__");case 28:return h._(/*BTDS*/"__JHASH__lPaPgjA3eSI__JHASH__");case 29:return h._(/*BTDS*/"__JHASH__1wsyMnSESSk__JHASH__");case 30:return h._(/*BTDS*/"__JHASH__Y53KSGgC1Fh__JHASH__");case 31:return h._(/*BTDS*/"__JHASH__w0e0M9zDCki__JHASH__");default:throw new Error("Invalid day of month.")}}function x(){return h._(/*BTDS*/"__JHASH__P452d9KfMZB__JHASH__")}function y(){return h._(/*BTDS*/"__JHASH__14B8uRJNqzB__JHASH__")}function z(){return h._(/*BTDS*/"__JHASH__ZbRG7ZxcL_s__JHASH__")}function A(){return h._(/*BTDS*/"__JHASH__Yvba8YT7D76__JHASH__")}function B(){return h._(/*BTDS*/"__JHASH__mY3ExKoiSbu__JHASH__")}function C(){return h._(/*BTDS*/"__JHASH__6X7o_ijb67M__JHASH__")}function D(){return h._(/*BTDS*/"__JHASH__bhyhew9ts33__JHASH__")}function E(){return h._(/*BTDS*/"__JHASH__fTaCK1AHc1___JHASH__")}function F(){return h._(/*BTDS*/"__JHASH__DRLxNWH7L4s__JHASH__")}function G(){return h._(/*BTDS*/"__JHASH__orXzp-0tokx__JHASH__")}function H(a){return a<12?h._(/*BTDS*/"__JHASH__ufsASNxZ34K__JHASH__"):h._(/*BTDS*/"__JHASH__Tnd5tvqN3Qj__JHASH__")}function I(a){return a<12?h._(/*BTDS*/"__JHASH__wca5cRZ0pth__JHASH__"):h._(/*BTDS*/"__JHASH__-AlZvLqfvQd__JHASH__")}g.getWeekdayName=a;g.getUppercaseWeekdayName=b;g.getWeekdayNameShort=c;g.getUppercaseWeekdayNameShort=d;g._initializeMonthNames=r;g.getMonthName=e;g.getMonthNames=f;g.getUppercaseMonthName=s;g.getMonthNameShort=t;g.getUppercaseMonthNameShort=u;g.getOrdinalSuffix=v;g.getDayOfMonth=w;g.getDayLabel=x;g.getMonthLabel=y;g.getYearLabel=z;g.getHourLabel=A;g.getMinuteLabel=B;g.getDayPlaceholder=C;g.getMonthPlaceholder=D;g.getYearPlaceholder=E;g.getHourPlaceholder=F;g.getMinutePlaceholder=G;g.get12HourClockSuffix=H;g.getUppercase12HourClockSuffix=I}),226);
__d("IntlDateFormatsCLDRWidthEnum",[],(function(a,b,c,d,e,f){a=Object.freeze({FULL:"full",LONG:"long",MEDIUM:"medium",SHORT:"short"});f["default"]=a}),66);
__d("RegionDatetimePatterns",[],(function(a,b,c,d,e,f){a=Object.freeze({DATE_SHORT:"date_short",DATETIME_SHORT_SHORT:"dateTime_short_short",TIME_SHORT:"time_short",TIME_MEDIUM:"time_medium",J:"j"});f["default"]=a}),66);
__d("getCLDRLocalizedFormat",["CLDRDateFormatConfig","FBLogger","IntlDateFormatsCLDRWidthEnum","RegionDatetimePatterns","flipObject","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=b("CLDRDateFormatConfig").CLDRConfigeratorFormats,h=b("CLDRDateFormatConfig").CLDRRegionalConfigeratorFormats,i=b("flipObject")(b("RegionDatetimePatterns"));function a(a){if(a==null)throw b("unrecoverableViolation")('Format: "'+a+'", not supported by configurator.',"internationalization");var c,d,e=a.split("_"),f=e[0];e=e.slice(1);var l=f+"Formats";a in i?d=h:d=g;switch(l){case"dateFormats":case"timeFormats":var m=j(e[0]);if(m==null)throw b("unrecoverableViolation")('Format: "'+a+'", category: "'+l+'", with unsupported width: "undefined"',"internationalization");c=d[l][m];if(c==null)throw b("unrecoverableViolation")('Format: "'+a+'", category: "'+l+'", '+('width: "'+m+'", with unsupported localization'),"internationalization");break;case"dateTimeFormats":m=j(e[0]);e=j(e[1]);if(m==null||e==null)throw b("unrecoverableViolation")('Format: "'+a+'", category: "'+l+'", with unsupported width: dateFormatKey="undefined" timeFormatKey="undefined"',"internationalization");c=d[l][m];var n=d.dateFormats[m],o=d.timeFormats[e];if(c==null)throw b("unrecoverableViolation")('Format: "'+a+'", category: "'+l+'", '+('date width: "'+m+'", and time width: ')+('"'+e+'", with unsupported localization'),"internationalization");c=c.replace("{0}",o).replace("{1}",n);break;default:l="availableFormats";m=f;m.includes("j")&&(m=k(m,d.timeFormats));c=d[l][m];if(c==null)throw b("unrecoverableViolation")('Format: "'+a+'", with key: "'+m+'", not supported by CLDR',"internationalization")}return c}function j(a){if(a==null)throw b("unrecoverableViolation")("Expected CLDR width key to not be null","internationalization");return b("IntlDateFormatsCLDRWidthEnum")[a.toUpperCase()]}function k(a,c){var d;c=c["short"];c==null?(b("FBLogger")("formatDate").blameToPreviousFile().warn('CLDR `timeFormat`, width `short` required for 24 hour localization not found for availableKey: "%s"',a),d="h"):d=c.includes("H")?"H":"h";return a.replace("j",d)}e.exports=a}),null);
__d("intlGetDateNumerics",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b=b.utc===!0;b?b={dateDay:a.getUTCDate(),dateDayOfWeek:a.getUTCDay(),dateMonth:a.getUTCMonth(),dateYear:a.getUTCFullYear(),dateHours:a.getUTCHours(),dateMinutes:a.getUTCMinutes(),dateSeconds:a.getUTCSeconds(),dateMilliseconds:a.getUTCMilliseconds()}:b={dateDay:a.getDate(),dateDayOfWeek:a.getDay(),dateMonth:a.getMonth(),dateYear:a.getFullYear(),dateHours:a.getHours(),dateMinutes:a.getMinutes(),dateSeconds:a.getSeconds(),dateMilliseconds:a.getMilliseconds()};return b}f["default"]=a}),66);
__d("intlRenderJSDateSymbol",["DateStrings","padNumber","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f,g){g===void 0&&(g=0);e=e.skipSuffixLocalization===!0;g=g;var h="";switch(b){case"\\":g++;if(f==null)throw c("unrecoverableViolation")("Only deprecated calls to `intlRenderJSDateSymbol()` use `localizedJSFormat`.","internationalization");h=f.charAt(g);break;case"d":h=c("padNumber")(a.dateDay,2);break;case"j":h=a.dateDay;break;case"S":h=d("DateStrings").getOrdinalSuffix(a.dateDay);break;case"D":h=d("DateStrings").getWeekdayNameShort(a.dateDayOfWeek);break;case"l":h=d("DateStrings").getWeekdayName(a.dateDayOfWeek);break;case"F":case"f":h=d("DateStrings").getMonthName(a.dateMonth+1);break;case"M":h=d("DateStrings").getMonthNameShort(a.dateMonth+1);break;case"m":h=c("padNumber")(a.dateMonth+1,2);break;case"n":h=a.dateMonth+1;break;case"Y":h=a.dateYear;break;case"y":h=(""+a.dateYear).slice(2);break;case"a":e?h=a.dateHours<12?"am":"pm":h=d("DateStrings").get12HourClockSuffix(a.dateHours);break;case"A":e?h=a.dateHours<12?"AM":"PM":h=d("DateStrings").getUppercase12HourClockSuffix(a.dateHours);break;case"g":a.dateHours===0||a.dateHours===12?h="12":h=a.dateHours%12;break;case"G":h=a.dateHours;break;case"h":a.dateHours===0||a.dateHours===12?h="12":h=c("padNumber")(a.dateHours%12,2);break;case"H":h=c("padNumber")(a.dateHours,2);break;case"i":h=c("padNumber")(a.dateMinutes,2);break;case"s":h=c("padNumber")(a.dateSeconds,2);break;case"X":h=c("padNumber")(a.dateMilliseconds,3);break;default:h=b}return{idx:g,rendered:String(h)}}g["default"]=a}),98);
__d("intlRenderCLDRDate",["CLDRDateFormatConfig","intlRenderJSDateSymbol","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=/\w+/;function a(a,c,d){var e=b("CLDRDateFormatConfig").intlDateSpecialChars,f="",g="",i=!1,j=[],k;a=a.split(e.cldrDelimiter+e.singleQuote).join(e.singleQuoteHolder);for(var l=0,m=a.length;l<m;l++){var n=a.charAt(l);!i?n===e.cldrDelimiter?i=!0:f.length===0||f[0]===n?f+=n:n===e.singleQuoteHolder?f+=e.singleQuote:(k=h(f,d,c),j.push(k.rendered),f=n):(f.length!==0&&(k=h(f,d,c),j.push(k.rendered),f=""),n===e.cldrDelimiter?(i=!1,j.push(g),g=""):n===e.singleQuoteHolder?g+=e.singleQuote:g+=n)}if(g.length!==0)throw b("unrecoverableViolation")('Format: "'+a+'" must contain closing str literal delimiter',"internationalization");f.length!==0&&(k=h(f,d,c),j.push(k.rendered));return j.join("")}function h(a,c,d){a=i(a);return b("intlRenderJSDateSymbol")(c,a,d)}function i(a){if(a in b("CLDRDateFormatConfig").CLDRToPHPSymbolConversion)return b("CLDRDateFormatConfig").CLDRToPHPSymbolConversion[a];if(g.test(a))throw b("unrecoverableViolation")('Unsupported CLDR symbol: "'+a+'". If string literal, wrap in delimiters',"internationalization");return a}e.exports=a}),null);
__d("formatDate",["CLDRDateFormatConfig","DateFormatConfig","FBLogger","IsInternSite","getCLDRLocalizedFormat","intlGetDateNumerics","intlRenderCLDRDate","intlRenderJSDateSymbol","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=Object.freeze({today:null,yesterday:null,thisWeek:null,thisMonth:null,thisYear:null,withinDay:null,withinWeek:null,withinMonth:null,withinYear:null,older:null,future:null,allOtherTimes:null});function h(a,b,d,e){a=a;d=d||{skipSuffixLocalization:!1,skipPatternLocalization:!1,utc:!1,formatInternal:!1,throwCLDRError:!1};if(b==null||b===""||a==null||!(a||a===0))return"";typeof a==="string"&&(isNaN(Number(a))&&c("FBLogger")("i18n-formatDate").event("date_string_must_be_timestamp").blameToPreviousFile().mustfix("The date passed to formatDate is a string, but not a timestamp. formatDate expects strings to be a string representation of a Unix "+('timestamp but was passed "'+a+'"')),a=parseInt(a,10));typeof a==="number"&&(a=new Date(a*1e3));if(!(a instanceof Date))throw c("unrecoverableViolation")("The date passed to formatDate must be either a unix timestamp or JavaScript date object.","internationalization");if(isNaN(a.getTime()))throw c("unrecoverableViolation")("Invalid date passed to formatDate","internationalization");a.getTime()>=1e15&&c("FBLogger")("i18n-formatDate").event("date_too_far_in_future").blameToPreviousFile().info("The date passed to formatDate is too far in the future. Did you mix up milliseconds/seconds?");b=k(a,b);a=c("intlGetDateNumerics")(a,d);return i(b,a,d,e)}h.DEFAULT_FORMAT="M j, Y g:i A";h.periodNames=Object.freeze(Object.keys(a));function i(a,b,d,e){var f=a,g=!!d.skipPatternLocalization,h=d.formatInternal===!0;if(!g&&(h||!c("IsInternSite").is_intern_site))if(a in c("CLDRDateFormatConfig").supportedPHPFormatsKeys)try{g=c("CLDRDateFormatConfig").supportedPHPFormatsKeys[a];h=c("getCLDRLocalizedFormat")(g);return c("intlRenderCLDRDate")(h,d,b)}catch(a){c("FBLogger")("i18n-formatDate").event("CLDR_date_format_render_error").blameToPreviousFile().catching(a).mustfix("CLDR date format render error");if(d.throwCLDRError===!0)throw a}else if(c("DateFormatConfig").formats[a])f=c("DateFormatConfig").formats[a];else if(!c("IsInternSite").is_intern_site)if(a.length!==1)throw c("unrecoverableViolation")("Trying to localize an unsupported date format: `"+a+"`","internationalization");return j(f,d,b,e)}function j(a,b,d,e){var f=[];for(var g=0;g<a.length;g++){var h=void 0;e===!0&&a.charAt(g)==="a"?(h="A",f.push(" ")):h=a.charAt(g);h=c("intlRenderJSDateSymbol")(d,h,b,a,g);f.push(h.rendered);g=h.idx}return f.join("")}function k(a,b){var d=h.DEFAULT_FORMAT;if(typeof b==="string")return b;else if(typeof b==="object"){var e=a.getTime();for(var f of l()){var g=b[f.name];if(g!=null&&f.start<=e&&e<f.end)return g}c("FBLogger")("i18n-formatDate").event("matching_period_format_not_found").blameToPreviousFile().warn('Matching period not found for date "%s", using default format "%s". Current timestamp: "%s"',e,d,Date.now());return d}else{c("FBLogger")("i18n-formatDate").event("invalid_format_argument").blameToPreviousFile().warn('Called with invalid format "%s" (type: %s) for date "%s", using default: %s',b,typeof b,a.getTime(),d);return d}}function l(){var a=new Date(),b=a.getTime(),d=a.getFullYear(),e=a.getMonth(),f=new Date(d,a.getMonth()+1,0).getDate(),g=new Date(d,1,29).getMonth()===1?366:365,h=1e3*60*60*24,i=new Date(a.setHours(0,0,0,0)),j=new Date(d,e,i.getDate()+1);a=a.getDate()-(a.getDay()-c("DateFormatConfig").weekStart+6)%7;var k=new Date(b).setDate(a);a=new Date(b).setDate(a+7);var l=new Date(d,e,1);e=new Date(d,e,f+1);var m=new Date(d,0,1);d=new Date(d+1,0,1);return[{name:"today",start:i.getTime(),end:j.getTime()},{name:"withinDay",start:b-h,end:b+h},{name:"yesterday",start:i.getTime()-h,end:i.getTime()-1},{name:"thisWeek",start:k,end:a},{name:"withinWeek",start:b-h*7,end:b+h*7},{name:"thisMonth",start:l.getTime(),end:e.getTime()},{name:"withinMonth",start:b-h*f,end:b+h*f},{name:"thisYear",start:m.getTime(),end:d.getTime()},{name:"withinYear",start:b-h*g,end:b+h*g},{name:"older",start:-Infinity,end:b},{name:"future",start:b,end:+Infinity},{name:"allOtherTimes",start:-Infinity,end:+Infinity}]}b=h;g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("BTManifestName",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({MAIN:"main",LONGTAIL:"longtail"});c=a;f["default"]=c}),66);
__d("BtLongtailHashFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5779");b=d("FalcoLoggerInternal").create("bt_longtail_hash",a);e=b;g["default"]=e}),98);
__d("CometBTManifestLoader",["BootloaderEvents","BtLongtailHashFalcoEvent","ClientConsistencyEventEmitter","FBLogger","ODS","Promise","SiteData","TrustedTypes","XHRRequest","asyncToGeneratorRuntime","err","justknobx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Set();function k(a,b,c,d){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,d,e,f){var g=(yield new(i||(i=b("Promise")))(function(b,g){new(c("XHRRequest"))(a+"/btmanifest/"+e+"/"+d+"/"+f).setMethod("GET").setResponseHandler(function(a){return b(a.toString())}).setErrorHandler(function(a){return g(a)}).send()}));if(typeof g!=="string")throw c("FBLogger")("binary_transparency","bt_invalid_manifest_response").mustfixThrow("Invalid response from BT manifest endpoint");return g});return l.apply(this,arguments)}function m(a,b){(h||(h=d("ODS"))).bumpEntityKey(454,"obc.www.all","bt.comet_manifest_loader."+Number(d("SiteData").compose_bootloads)+"."+d("SiteData").pkg_cohort+"."+a+"."+b)}function n(a,b,d){var e;if(d instanceof Error)e=d;else if(typeof d==="object"){var f=JSON.stringify(d);e=c("err")("(XHRRequest): %s",f.slice(0,300)+(f.length>300?"...":""))}else e=c("err")(d);c("FBLogger")("binary_transparency","bt_download_manifest_error").catching(e).mustfix('Unable to download and inject BT manifest "%s" for version: %s',b,a)}var o=c("TrustedTypes").createPolicy("bt-manifest",{createScript:function(a){return a}});function p(a,b){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!d("SiteData").manifest_origin||d("SiteData").manifest_version_prefix==null||d("SiteData").manifest_base_uri==null)return;var e=a+"_"+b;a=""+d("SiteData").manifest_version_prefix+a;if(j.has(e))return;m(b,"start");j.add(e);try{var f=document.createElement("script"),g=(yield k(d("SiteData").manifest_base_uri,d("SiteData").manifest_origin,a,b));c("justknobx")._("3786")?f.innerText=o.createScript(g):f.innerText=g;f.type="application/json";f.setAttribute("name","binary-transparency-manifest");f.dataset.manifestRev=a;f.dataset.manifestType=b;(g=document.head)==null?void 0:g.appendChild(f);m(b,"complete")}catch(c){m(b,"failed"),n(a,b,c),j["delete"](e)}});return q.apply(this,arguments)}function a(){c("promiseDone")(p(d("SiteData").client_revision,"main")),d("BootloaderEvents").onResourceInLongTailBTManifest(function(a){c("promiseDone")(p(d("SiteData").client_revision,"longtail")),a.hashes.forEach(function(b){c("BtLongtailHashFalcoEvent").log(function(){return{client_revision:String(d("SiteData").client_revision),compose_bootloads:d("SiteData").compose_bootloads,ef_page:d("SiteData").ef_page||"",hash:b,pkg_cohort:d("SiteData").pkg_cohort,reference:a.source,rls_id:d("SiteData").hsi}})})}),c("ClientConsistencyEventEmitter").addListener("newRevision",function(a){c("promiseDone")(p(a,"main")),c("promiseDone")(p(a,"longtail"))})}g.init=a}),98);
__d("IgFrCookieUpdaterFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5694");b=d("FalcoLoggerInternal").create("ig_fr_cookie_updater",a);e=b;g["default"]=e}),98);
__d("PolarisAPIGetFrCookieQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="10068146476570597"}),null);
__d("PolarisAPIGetFrCookieQuery.graphql",["PolarisAPIGetFrCookieQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"_request_data"},{defaultValue:null,kind:"LocalArgument",name:"payload"}],c=[{alias:null,args:[{kind:"Variable",name:"_request_data",variableName:"_request_data"},{kind:"Variable",name:"payload",variableName:"payload"}],concreteType:"XDTGetEncryptedCredentialsResponse",kind:"LinkedField",name:"xdt_api__v1__web__accounts__get_encrypted_credentials",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fr",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PolarisAPIGetFrCookieQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PolarisAPIGetFrCookieQuery",selections:c},params:{id:b("PolarisAPIGetFrCookieQuery_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_api__v1__web__accounts__get_encrypted_credentials"]},name:"PolarisAPIGetFrCookieQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PolarisAPIGetFrCookie",["CometRelay","PolarisAPIGetFrCookieQuery.graphql","PolarisInstapi","err","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){return c("justknobx")._("999")?d("CometRelay").fetchQuery(e,h!==void 0?h:h=b("PolarisAPIGetFrCookieQuery.graphql"),{_request_data:{},payload:a}).toPromise().then(function(a){if(a==null)throw c("err")("Failed to get Fr cookie.");return{fr:a.xdt_api__v1__web__accounts__get_encrypted_credentials.fr}}):d("PolarisInstapi").apiPost("/api/v1/web/accounts/get_encrypted_credentials/",{body:{payload:a}}).then(function(a){return a.data})}g.getFrCookie=a}),98);
__d("buildIframeOriginUrl",["URI"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return a}g["default"]=a}),98);
__d("PolarisFacebookCookieSyncConstants",["URI","buildIframeOriginUrl"],(function(a,b,c,d,e,f,g){"use strict";var h;a={error:"ig_iframe_error",ig_sync:"ig_iframe_ig_sync",ig_sync_error:"ig_iframe_ig_sync_error",ig_sync_success:"ig_iframe_ig_sync_success",ready:"ig_iframe_ready",success:"ig_iframe_success",sync:"ig_iframe_fb_sync"};b=c("buildIframeOriginUrl")("https://www.facebook.com");d=new(h||(h=c("URI")))(b).getDomain();e="fr";g.IFRAME_MESSAGES=a;g.IFRAME_ORIGIN=b;g.IFRAME_DOMAIN=d;g.FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY=e}),98);
__d("SecureMessageListener",["SecurePostMessage","URI"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){var b=this;this.$3=null;this.$4=!1;this.$1=a;this.$5=function(a){b.run(a)}}var b=a.prototype;b.setEventHandler=function(a){this.$2=a;return this};b.setSupportedOrigins=function(a){this.$3=a;return this};b.skipOriginCheck_UNSAFE=function(){this.$4=!0;return this};b.beginListening=function(){this.$1.addEventListener("message",this.$5);return this};b.stopListening=function(){try{this.$1.removeEventListener("message",this.$5)}catch(a){if(!(a instanceof TypeError))throw a}return this};b.run=function(a){if(this.$3==null||this.$3.length===0){if(!this.$4&&a.origin!==this.$1.location.origin)return}else if(!this.isSupportedOrigin(this.$3,a.origin))return;if(this.$2){var b=function(b){d("SecurePostMessage").sendMessageToSpecificOrigin(a.source,b,a.origin)};this.$2(a,b)}};b.isSupportedOrigin=function(a,b){if(!new RegExp("^https://").test(b))return!1;var d=new(h||(h=c("URI")))(b);return a.some(function(a){return d.isSubdomainOfDomain(a)})};return a}();g["default"]=a}),98);
__d("XPolarisFacebookSyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/sync/instagram/",{})}),null);
__d("PolarisFacebookToInstagramCookieSync.react",["FBLogger","InstagramODS","PolarisFacebookCookieSyncConstants","SecureMessageListener","SecurePostMessage","XAsyncRequest","XPolarisFacebookSyncController","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a){var b=d("react-compiler-runtime").c(4),e=a.frameRef,f=a.onCleanUp,g;b[0]!==e||b[1]!==f?(a=function(){var a=function(){c("InstagramODS").incr("web.cookie_sync.oo_cookie.start_fb_sync");var a=e.current;(a==null?void 0:a.contentWindow)!=null&&d("SecurePostMessage").sendMessageToSpecificOrigin(a.contentWindow,{eventName:d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.ig_sync},d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN)},b=function(b){if(b.origin!==d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN)return;var e=b.data.eventName;bb13:switch(e){case d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.ready:a();break bb13;case d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.ig_sync_success:c("InstagramODS").incr("web.cookie_sync.oo_cookie.retrieve_success");e=c("XPolarisFacebookSyncController").getURIBuilder().getURI();new(c("XAsyncRequest"))().setURI(e).setMethod("POST").setData({encrypted_data:(e=b.data.data)==null?void 0:e.data}).setHandler(k).setErrorHandler(j).send();f();break bb13;case d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.ig_sync_error:c("InstagramODS").incr("web.cookie_sync.oo_cookie.retrieve_error");b=(e=b.data.errorDescription)!=null?e:"Exception thrown when syncing cookie to sync ig cookie";c("FBLogger")("ig_web").mustfix(b);f()}},g=new(c("SecureMessageListener"))(window).setEventHandler(b).setSupportedOrigins([d("PolarisFacebookCookieSyncConstants").IFRAME_DOMAIN]).beginListening();return function(){g.stopListening()}},g=[e,f],b[0]=e,b[1]=f,b[2]=a,b[3]=g):(a=b[2],g=b[3]);i(a,g);return null}function j(a){c("InstagramODS").incr("web.cookie_sync.oo_cookie.sync_fail");a=(a=a.errorDescription)!=null?a:"Error when syncing ig cookies";c("FBLogger")("ig_web").mustfix(a)}function k(a){c("InstagramODS").incr("web.cookie_sync.oo_cookie.sync_success")}g["default"]=a}),98);
__d("PolarisInstagramToFacebookCookieSync.react",["CometRelay","FBLogger","IgFrCookieUpdaterFalcoEvent","InstagramODS","PolarisAPIGetFrCookie","PolarisAdsGatingHelpers","PolarisConfig","PolarisDOMListener.react","PolarisFacebookCookieSyncConstants","PolarisWebStorage","SecurePostMessage","browserHistory_DO_NOT_USE","gkx","react","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useRef,l=Number(new Date().getTime());function m(a){var b=new Date().getTime()-l;a.total_latency=b.toString();a.country=d("PolarisConfig").getCountryCode();c("IgFrCookieUpdaterFalcoEvent").log(function(){return a})}function a(a){var b=a.frameRef,e=a.frData,f=a.onCleanUp;a=c("gkx")("25372");var g=c("gkx")("3478"),h=a&&g;g=(a=c("usePolarisViewer")())==null?void 0:a.id;a=d("browserHistory_DO_NOT_USE").getPath(d("browserHistory_DO_NOT_USE").browserHistory);var l=d("CometRelay").useRelayEnvironment(),n=d("PolarisAdsGatingHelpers").useEUFRCookieODSLogging();a=k({browser_history_path:a,iframe_origin:d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN,ig_user_id:g,is_blacklisted:!1,is_control_group:!1,is_local_storage_accessible:!1,local_storage_data:e,local_storage_same_as_api:!0,local_storage_updated:!1,show_iframe:!1});var o=a.current;j(function(){h||(o.is_blacklisted=!0,m(o),f())},[]);g=function(a){var b=a.data.eventName;o.iframe_message_origin=a.origin;if(a.origin!==d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN){b in d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES&&(o.iframe_message_origin_mismatch=!0,m(o));return}switch(b){case d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.ready:c("InstagramODS").incr("web.frcookie.iframe.ready");n&&c("InstagramODS").incr("web.eu.frcookie.iframe.ready");o.iframe_message_ready=!0;p();break;case d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.success:c("InstagramODS").incr("web.frcookie.iframe.success");n&&c("InstagramODS").incr("web.eu.frcookie.iframe.success");o.iframe_message_success=!0;m(o);f();break;case d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.error:c("InstagramODS").incr("web.frcookie.iframe.error");n&&c("InstagramODS").incr("web.eu.frcookie.iframe.error");q();o.iframe_message_error=!0;m(o);break}};var p=function(){o.iframe_non_null=!1;o.iframe_content_window_non_null=!1;var a=b.current;if(a==null)return;e==null&&(c("InstagramODS").incr("web.frcookie.local_storage.empty"),n&&c("InstagramODS").incr("web.eu.frcookie.local_storage.empty"));d("PolarisAPIGetFrCookie").getFrCookie(e,l).then(function(b){o.api_data=b.fr;if(b.fr===e){m(o);f();return}o.local_storage_same_as_api=!1;var g=c("PolarisWebStorage").getLocalStorage();if(g==null){m(o);f();return}o.is_local_storage_accessible=!0;if(b.fr===""){g.removeItem(d("PolarisFacebookCookieSyncConstants").FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY);c("InstagramODS").incr("web.frcookie.local_storage.remove");n&&c("InstagramODS").incr("web.eu.frcookie.local_storage.remove");m(o);f();return}g.setItem(d("PolarisFacebookCookieSyncConstants").FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY,b.fr);o.show_iframe=!0;o.local_storage_updated=!0;o.iframe_payload=b.fr;o.iframe_non_null=!0;a.contentWindow!=null&&(o.iframe_content_window_non_null=!0,d("SecurePostMessage").sendMessageToSpecificOrigin(a.contentWindow,{data:b.fr,eventName:d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.sync},d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN));c("InstagramODS").incr("web.frcookie.local_storage.update");n&&c("InstagramODS").incr("web.eu.frcookie.local_storage.update")})["catch"](function(a){c("InstagramODS").incr("web.frcookie.get.error"),n&&c("InstagramODS").incr("web.eu.frcookie.get.error"),o.exception=a.toString(),m(o),c("FBLogger")("ig_web").catching(a).mustfix("Exception thrown when getting frCookie"),q()})},q=function(){var a=c("PolarisWebStorage").getLocalStorage();c("PolarisWebStorage").isLocalStorageSupported()&&a!=null&&a.removeItem(d("PolarisFacebookCookieSyncConstants").FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY);f()};return h&&i.jsx(c("PolarisDOMListener.react"),{event:"message",handler:g,target:window})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFacebookCookieSyncImpl.react",["IgFrCookieUpdaterFalcoEvent","JSScheduler","PolarisDOMListener.react","PolarisFacebookCookieSyncConstants","PolarisFacebookToInstagramCookieSync.react","PolarisInstagramToFacebookCookieSync.react","PolarisReactRedux.react","PolarisUA","PolarisWebStorage","RunComet","browserHistory_DO_NOT_USE","react","react-compiler-runtime","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef,m=b.useState,n=d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN+"/instagram/login_sync/",o=["terms","challenge"],p=3,q=Number(new Date().getTime());function r(a){var b=new Date().getTime()-q;a.total_latency=b.toString();c("IgFrCookieUpdaterFalcoEvent").log(function(){return a})}var s=function(){if(!d("PolarisUA").isIGWebview()&&c("PolarisWebStorage").isLocalStorageSupported()){var a=c("PolarisWebStorage").getLocalStorage();if(a!=null)return a.getItem(d("PolarisFacebookCookieSyncConstants").FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY)}return null};function t(a){var b;a=a.frData;var e=l(null);b=(b=c("usePolarisViewer")())==null?void 0:b.id;b=l({browser_history_path:d("browserHistory_DO_NOT_USE").getPath(d("browserHistory_DO_NOT_USE").browserHistory),iframe_origin:d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN,ig_user_id:b,is_blacklisted:!1,is_control_group:!1,is_local_storage_accessible:!1,local_storage_data:a,local_storage_same_as_api:!0,local_storage_updated:!1,show_iframe:!1});var f=b.current;b=function(){f.iframe_unload=!0};var g=m(!1),i=g[0],o=g[1];k(function(){var a=null,b=null,e=d("RunComet").onAfterLoad(function(){a=(h||(h=c("JSScheduler"))).scheduleLoggingPriCallback(function(){b=window.setTimeout(function(){o(!0)},p*1e3)})});return function(){b&&window.clearTimeout(b),a&&(h||(h=c("JSScheduler"))).cancelCallback(a),e&&e.remove()}},[]);g=m(!1);var q=g[0],s=g[1];g=m(!1);var t=g[0],u=g[1];g=q&&t;return!i?null:j.jsxs(j.Fragment,{children:[j.jsx("div",{hidden:!0,children:j.jsx("iframe",{onError:function(){f.iframe_on_error=!0,r(f)},onLoad:function(){f.iframe_on_load=!0},ref:e,src:n,style:{border:"none",display:"none",height:0,width:0},title:"fr"})}),g?null:j.jsxs(j.Fragment,{children:[j.jsx(c("PolarisInstagramToFacebookCookieSync.react"),{frameRef:e,frData:a,onCleanUp:function(){return s(!0)}}),j.jsx(c("PolarisFacebookToInstagramCookieSync.react"),{frameRef:e,onCleanUp:function(){return u(!0)}}),j.jsx(c("PolarisDOMListener.react"),{event:"beforeunload",handler:b,target:window})]})]})}t.displayName=t.name+" [from "+f.id+"]";function a(){var a,b=d("react-compiler-runtime").c(3),e=d("PolarisReactRedux.react").useSelector(u);a=(a=c("usePolarisViewer")())==null?void 0:a.id;if(e)return null;if(b[0]!==a){e=Symbol["for"]("react.early_return_sentinel");bb0:{var f=d("browserHistory_DO_NOT_USE").getPath(d("browserHistory_DO_NOT_USE").browserHistory);if(o.some(function(a){return f.includes(a)})){r({browser_history_path:f,iframe_origin:d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN,ig_user_id:a,is_blacklisted:!0,is_control_group:!1,is_local_storage_accessible:!1,local_storage_same_as_api:!0,local_storage_updated:!1,show_iframe:!1});e=null;break bb0}}b[0]=a;b[1]=e}else e=b[1];if(e!==Symbol["for"]("react.early_return_sentinel"))return e;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(t,{frData:s()}),b[2]=a):a=b[2];return a}function u(a){return!!(a==null?void 0:(a=a.cookieModal)==null?void 0:a.visible)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSContactUserBlockAction",[],(function(a,b,c,d,e,f){a=Object.freeze({MN_UNBLOCK:0,MN_BLOCK:1,FB_UNBLOCK:2,FB_BLOCK:3});f["default"]=a}),66);
__d("MAWBlockUtils",["I64","LSContactUserBlockAction","LSIntEnum","LSThreadBitOffset","ReQL","asyncToGeneratorRuntime","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).useCallback,m=[0,31,35,55,56,58,24,25,19,85],n=[0,31,35,55,56,58,24,25,19,85,8,22],o=[35,19,85,56,24,25];function a(){var a=(h||(h=c("useReStore")))();return l(function(e,g){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(e)));if(b==null)return;var h=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b.threadKey).filter(function(a){return(i||(i=d("I64"))).equal(a.threadType,(j||(j=d("LSIntEnum"))).ofNumber(15))})));if(h==null)return;b=(i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactUserBlockAction").MN_BLOCK))?d("LSThreadBitOffset").clear(m,h.capabilities,h.capabilities2,h.capabilities3,h.capabilities4,h.capabilities5):(i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactUserBlockAction").FB_BLOCK))?d("LSThreadBitOffset").clear(n,h.capabilities,h.capabilities2,h.capabilities3,h.capabilities4,h.capabilities5):d("LSThreadBitOffset").set(o,h.capabilities,h.capabilities2,h.capabilities3,h.capabilities4,h.capabilities5);var k=b[0],l=b[1];yield a.runInTransaction(function(a){var b=babelHelpers["extends"]({},h,{capabilities:k,capabilities2:l});return a.threads.put(b)},"readwrite",void 0,void 0,f.id+":137")})())},[a])}g.clearedMnBlockCapabilities=m;g.clearedFbBlockCapabilities=n;g.useChangeThreadBlockCapabilities=a}),98);
__d("MAWMessageRequestUtil",["I64","LSContactBitOffset","LSContactViewerRelationship","LSIntEnum","LSMessagingThreadTypeUtil","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,e){if(a==="pending"||a==="other")return!0;var f=d("LSContactBitOffset").hasWithDefault(64,e,!0);return a==="inbox"&&(h||(h=d("I64"))).equal(e.contactViewerRelationship,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").NOT_CONTACT))&&!f?b:!1}function k(a){return a==="pending"||a==="other"}function a(a){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?k(a.folderName):!1}function l(a,b){return b!=null?j(a.folderName,c("gkx")("13333")?(h||(h=d("I64"))).gt(a.lastActivityTimestampMs,(h||(h=d("I64"))).zero):!(h||(h=d("I64"))).equal(a.lastActivityTimestampMs,(h||(h=d("I64"))).zero),b[1]):!1}function b(a,b){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?l(a,b):!1}function e(a){return d("LSMessagingThreadTypeUtil").isGroup(a.threadType)?k(a.folderName):!1}f=[8,18,19,34,24,25,122];var m=[21,48];g.isMessageRequestV2=j;g.isOneOnOneMessageRequest=a;g.isOneOnOneMessageRequestV2=b;g.isGroupMessageRequest=e;g.disabledThreadCapabilitiesForIncomingRequest=f;g.enabledThreadCapabilitiesForIncomingRequest=m}),98);
__d("clearedMAWMnRestrictCapabilities",[],(function(a,b,c,d,e,f){"use strict";a=[0,31,35,55,56,58,24,25,35,19];b=a;f["default"]=b}),66);
__d("MAWUpdateLSThreadCapabilities",["fbt","I64","LSBitOffset","LSContactBitOffset","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWBlockUtils","MAWCurrentUser","MAWMessageRequestUtil","Promise","ReQL","asyncToGeneratorRuntime","clearedMAWMnRestrictCapabilities","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=d("MAWCurrentUser").getID(),m=(k||(k=d("I64"))).of_string(l);function a(a,e){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(e)).then(function(c){if(c==null)return(i||(i=b("Promise"))).resolve();var e=d("LSBitOffset").set((j||(j=d("LSIntEnum"))).ofNumber(27),c.capabilities);c=babelHelpers["extends"]({},c,{capabilities:e});return a.threads.put(c)}).then(c("emptyFunction"))}function e(a,e){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(e)).then(function(c){if(c==null)return(i||(i=b("Promise"))).resolve();var e=d("LSBitOffset").clear((j||(j=d("LSIntEnum"))).ofNumber(27),c.capabilities);c=babelHelpers["extends"]({},c,{capabilities:e});return a.threads.put(c)}).then(c("emptyFunction"))}function f(a,e){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(e)).then(function(c){if(c==null)return(i||(i=b("Promise"))).resolve([void 0,void 0]);var f=d("ReQL").firstAsync(d("LSMessagingThreadTypeUtil").isOneToOne(c.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.participants).getKeyRange(e),d("ReQL").fromTableAscending(a.contacts)).filter(function(a){a=a[1];return!(k||(k=d("I64"))).equal(a.id,m)}).map(function(a){a=a[1];return a}):d("ReQL").empty());return(i||(i=b("Promise"))).all([i.resolve(c),f])}).then(function(e){var f=e[0];if(f==null)return(i||(i=b("Promise"))).resolve();e=e[1];if(e==null)return(i||(i=b("Promise"))).resolve();var g=(k||(k=d("I64"))).equal(e.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").MESSAGE_BLOCKED)),h=k.equal(e.blockedByViewerStatus,j.ofNumber(c("LSContactBlockedByViewerStatus").FULLY_BLOCKED));e=d("LSContactBitOffset").has(66,e);h=h?d("LSThreadBitOffset").clear(d("MAWBlockUtils").clearedFbBlockCapabilities,f.capabilities,f.capabilities2,f.capabilities3,f.capabilities4,f.capabilities5):g?d("LSThreadBitOffset").clear(d("MAWBlockUtils").clearedMnBlockCapabilities,f.capabilities,f.capabilities2,f.capabilities3,f.capabilities4,f.capabilities5):e?d("LSThreadBitOffset").clear(c("clearedMAWMnRestrictCapabilities"),f.capabilities,f.capabilities2,f.capabilities3,f.capabilities4,f.capabilities5):[f.capabilities,f.capabilities2,f.capabilities3,f.capabilities4,f.capabilities5];g=h[0];e=h[1];var l=h[2],m=h[3];h=h[4];return a.threads.put(babelHelpers["extends"]({},f,{capabilities:g,capabilities2:e,capabilities3:l,capabilities4:m,capabilities5:h})).then(c("emptyFunction"))})}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){a=a.threads;c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a).getKeyRange(c)));if(c==null)return(i||(i=b("Promise"))).resolve();var e=d("LSThreadBitOffset").set.apply(d("LSThreadBitOffset"),[d("MAWMessageRequestUtil").disabledThreadCapabilitiesForIncomingRequest].concat(d("LSThreadBitOffset").clear(d("MAWMessageRequestUtil").enabledThreadCapabilitiesForIncomingRequest,c.capabilities,c.capabilities2,c.capabilities3,c.capabilities4,c.capabilities5))),f=e[0],g=e[1],h=e[2],j=e[3];e=e[4];yield a.put(babelHelpers["extends"]({},c,{additionalThreadContext:void 0,capabilities:f,capabilities2:g,capabilities3:h,capabilities4:j,capabilities5:e}))});return o.apply(this,arguments)}function p(a,b,c){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(b)));if(b==null)return;c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.contacts,["name"]).getKeyRange(c)));if(c==null)return;c=h._(/*BTDS*/"__JHASH__uQTwTbCP0iW__JHASH__",[h._param("Inviter Name",c.name)]).toString();var e=d("LSThreadBitOffset").set([105],b.capabilities,b.capabilities2,b.capabilities3,b.capabilities4,b.capabilities5),f=e[0],g=e[1],i=e[2],j=e[3];e=e[4];yield a.threads.put(babelHelpers["extends"]({},b,{capabilities:f,capabilities2:g,capabilities3:i,capabilities4:j,capabilities5:e,snippet:c}))});return q.apply(this,arguments)}function r(a,b){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(c)));if(e==null)return;c=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.group_invites).getKeyRange(c)));var f=d("LSThreadBitOffset").clear([105],e.capabilities,e.capabilities2,e.capabilities3,e.capabilities4,e.capabilities5),g=f[0],h=f[1],i=f[2],j=f[3];f=f[4];yield a.threads.put(babelHelpers["extends"]({},e,{capabilities:g,capabilities2:h,capabilities3:i,capabilities4:j,capabilities5:f,snippet:void 0}));yield c.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield a.group_invites["delete"](b.threadKey,b.inviterId,b.inviteeId)});return function(a){return c.apply(this,arguments)}}())});return s.apply(this,arguments)}g.enableAddMembersTxn=a;g.disableAddMembersTxn=e;g.disableBlockerCapabilitiesTxn=f;g.updateNonMessageRequestThreadTxn=n;g.setGroupInviteTxn=p;g.clearGroupInviteTxn=r}),226);
__d("ReQLTable",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return g.apply(this,arguments)}function g(){g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var d=(yield a.get.apply(a,b));c=c(d);yield a.upsert(b,c)});return g.apply(this,arguments)}f.update=a}),66);
__d("uniqueArray",[],(function(a,b,c,d,e,f){"use strict";function g(a){return a}function a(a,b){var c=(b=b)!=null?b:g,d=[],e=new Set();a.forEach(function(a){var b=c(a);if(e.has(b))return;e.add(b);d.push(a)});return d}f["default"]=a}),66);
__d("MAWBridgeParticipantsUpdatedHandler",["fbt","I64","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSGroupParticipantJoinState","LSIntEnum","LSVerifyContactRowExistsStoredProcedure","MAWCurrentUser","MAWJids","MAWMiActMappingTableAPI","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWTimeUtils","MAWUpdateLSThreadCapabilities","Promise","ReQLTable","asyncToGeneratorRuntime","gkx","uniqueArray","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=d("MAWCurrentUser").getID(),m=(k||(k=d("I64"))).of_string(l);function a(a,b){b=b.map(function(a){var b=a.chatJid,c=a.type;a=a.userJid;return babelHelpers["extends"]({chatJid:b},A(c),{userJid:a})});return n(a,b)}function e(a,b){if(!c("gkx")("13628"))return y(a,b);b=b.participants.map(function(a){a.deliveredWatermarkTs;var b=a.fbid;a.lastReadActionTs;a.readWatermarkTs;var c=a.threadJid;a=babelHelpers.objectWithoutPropertiesLoose(a,["deliveredWatermarkTs","fbid","lastReadActionTs","readWatermarkTs","threadJid"]);return babelHelpers["extends"]({chatJid:c,userJid:d("MAWJids").toUserJid(b)},a)});return n(a,b)}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){c=(yield s(a,c));yield (i||(i=b("Promise"))).all(c.map(function(c){var e=c.mawParticipant,f=c.threadKey,g=d("MAWJids").convertChatJidToIntJid(e.userJid);return[a.participants.get(f,g).then(function(c){var d=w(c,e,f);return c!=null?a.participants.put(d):(i||(i=b("Promise"))).all([a.participants.add(d),q(a,g)])}),u(a,g,f,e.isAdmin)]}).flat(Infinity))});return o.apply(this,arguments)}function p(a,b){return(k||(k=d("I64"))).equal(a,(k||(k=d("I64"))).zero)?b:a}function q(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){yield c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),blockedByViewerStatus:j.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:j.ofNumber(c("LSContactIdType").FBID),contactType:j.ofNumber(c("LSContactType").USER),contactViewerRelationship:j.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:j.ofNumber(c("LSContactGender").UNKNOWN),id:b,isBlocked:!1,isMemorialized:!1,isSelf:l===(k||(k=d("I64"))).to_string(b),workForeignEntityType:j.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)})});return r.apply(this,arguments)}function s(a,b){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=c("uniqueArray")(e.map(function(a){return a.chatJid})),g=new Map();yield (i||(i=b("Promise"))).all(f.map(function(b){return d("MAWMiActMappingTableAPI").getThreadKeyForChatJid(a,b).then(function(a){return a!=null&&g.set(b,a)})}));return e.map(function(a){var b=g.get(a.chatJid);return b==null?null:{mawParticipant:a,threadKey:b}}).filter(Boolean)});return t.apply(this,arguments)}function u(a,b,c,d){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){yield d("MAWUpdateLSThreadCapabilities").disableBlockerCapabilitiesTxn(a,c),(k||(k=d("I64"))).equal(m,b)&&(e?yield d("MAWUpdateLSThreadCapabilities").enableAddMembersTxn(a,c):yield d("MAWUpdateLSThreadCapabilities").disableAddMembersTxn(a,c))});return v.apply(this,arguments)}function w(a,b,c){return a==null?babelHelpers["extends"]({},x(b),{authorityLevel:(k||(k=d("I64"))).zero,contactId:d("MAWJids").convertChatJidToIntJid(b.userJid),deliveredWatermarkTimestampMs:k.zero,isSuperAdmin:b.isSuperAdmin,nickname:void 0,normalizedSearchTerms:void 0,participantCapabilities:void 0,readActionTimestampMs:k.zero,readWatermarkTimestampMs:k.zero,threadKey:c,threadRoles:k.zero}):babelHelpers["extends"]({},a,x(b))}function x(a){return{groupParticipantJoinState:a.isInvited?(j||(j=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").INVITED):(j||(j=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").MEMBER),isAdmin:a.isAdmin,isModerator:!1,subscribeSource:a.isSuperAdmin?h._(/*BTDS*/"__JHASH__-gVxfbL98KU__JHASH__").toString():void 0}}function y(a,b){return z.apply(this,arguments)}function z(){z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){e=e.participants.filter(function(a){a=!a.fbid.startsWith("shadow_");a||c("vulture")("Yo_bP2RGeN3xZlA5MJbxDlcF808=");return a});yield (i||(i=b("Promise"))).all(e.map(function(e){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,e.threadJid,"MAWBridgeParticipantsUpdatedHandler",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var f=(k||(k=d("I64"))).of_string(e.fbid),g=[e.readWatermarkTs,e.deliveredWatermarkTs,e.lastReadActionTs].map(d("MAWTimeUtils").toTimestamp),i=g[0],l=g[1],m=g[2],n={groupParticipantJoinState:e.isInvited?(j||(j=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").INVITED):(j||(j=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").MEMBER),isAdmin:e.isAdmin,isModerator:!1,subscribeSource:e.isSuperAdmin?h._(/*BTDS*/"__JHASH__-gVxfbL98KU__JHASH__").toString():void 0};g=!1;var o=!1;yield d("ReQLTable").update(a.participants,[b,f],function(a){o=!0;if(a!=null){var c={deliveredWatermarkTimestampMs:p(l,a.deliveredWatermarkTimestampMs),readActionTimestampMs:p(m,a.readActionTimestampMs),readWatermarkTimestampMs:p(i,a.readWatermarkTimestampMs)};return babelHelpers["extends"]({},a,c,n)}else{g=!0;return babelHelpers["extends"]({},n,{authorityLevel:(k||(k=d("I64"))).zero,contactId:f,deliveredWatermarkTimestampMs:l,isSuperAdmin:e.isSuperAdmin,nickname:void 0,normalizedSearchTerms:void 0,participantCapabilities:void 0,readActionTimestampMs:k.zero,readWatermarkTimestampMs:i,threadKey:b})}});o&&(yield u(a,f,b,e.isAdmin));g&&(yield q(a,f))});return function(b,c){return a.apply(this,arguments)}}())}))});return z.apply(this,arguments)}function A(a){return{isAdmin:a==="superadmin"||a==="admin",isInvited:a==="invitedParticipant",isSuperAdmin:a==="superadmin"}}g.callFromMainThread=a;g.call=e;g.mawToLsParticipantTypeConversion=A}),226);/*FB_PKG_DELIM*/
__d("PolarisAFADDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{}},root:c("JSResourceForInteraction")("PolarisAFADDialog.react").__setRef("PolarisAFADDialog.entrypoint")};g["default"]=a}),98);
__d("PolarisGAMEWriteTimeBlockDialogQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9499617550163621"}),null);
__d("PolarisGAMEWriteTimeBlockDialogQuery$Parameters",["PolarisGAMEWriteTimeBlockDialogQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("PolarisGAMEWriteTimeBlockDialogQuery_instagramRelayOperation"),metadata:{},name:"PolarisGAMEWriteTimeBlockDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("PolarisGAMEWriteTimeBlockDialog.entrypoint",["JSResourceForInteraction","PolarisGAMEWriteTimeBlockDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{PolarisGAMEWriteTimeBlockDialogQuery:{parameters:c("PolarisGAMEWriteTimeBlockDialogQuery$Parameters"),variables:{enforcement_transparency_instance_identifier:a.routeParams.enforcement_transparency_instance_identifier}}}}},root:c("JSResourceForInteraction")("PolarisGAMEWriteTimeBlockDialog.react").__setRef("PolarisGAMEWriteTimeBlockDialog.entrypoint")};g["default"]=a}),98);
__d("SentryBlockGAMEEnforcementDialog.react",["IGDSDialogLegacy.react","IGWebBloksApp","PolarisNavigationUtils","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(12),e=a.modal;a=a.onClose;var f=j,g=e==null?void 0:e.action,h=e==null?void 0:e.feedback_appeal_label,k=e==null?void 0:e.message,l=e==null?void 0:e.title;e=e==null?void 0:e.restriction_enrollment_data;var m;b[0]!==g||b[1]!==h||b[2]!==k||b[3]!==l||b[4]!==e?(m={feedback_action:g,feedback_appeal_label:h,feedback_message:k,feedback_title:l,restriction_enrollment_data:e},b[0]=g,b[1]=h,b[2]=k,b[3]=l,b[4]=e,b[5]=m):m=b[5];g=m;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(h={"bk.action.navigation.OpenUrl":f,"bk.action.navigation.OpenUrlV2":f,"ig.action.navigation.OpenUrl":f,"ig.action.navigation.OpenUrlSupportsDfa":f},b[6]=h):h=b[6];b[7]!==g?(k=i.jsx(c("IGWebBloksApp"),{actionOverrides:h,appId:"com.bloks.www.instagram.igwb.exp.enforcement.dialog",params:g}),b[7]=g,b[8]=k):k=b[8];b[9]!==a||b[10]!==k?(l=i.jsx(c("IGDSDialogLegacy.react"),{onClose:a,children:k}),b[9]=a,b[10]=k,b[11]=l):l=b[11];return l}function j(a,b){return d("PolarisNavigationUtils").openURLWithFullPageReload(b)}g["default"]=a}),98);
__d("PolarisSentryFeedbackDialog.react",["IGWebBloksApp","PolarisAFADDialog.entrypoint","PolarisConfirmDialog.react","PolarisGAMEWriteTimeBlockDialog.entrypoint","PolarisGenericStrings","PolarisNavigationStrings","PolarisReactRedux.react","PolarisSentryFeedbackActions","PolarisSentryFeedbackDispatcher","SentryBlockGAMEEnforcementDialog.react","WebBloksCallback","react","react-compiler-runtime","useIGDSEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h,k=j.useEffect,l=j.useRef,m=j.useState,n=["open_bio_takedown_restriction","open_account_status_home_screen","open_account_status_game_experience_detail_page"],o=function(a){a.modal&&a.modal.url&&a.modal.action&&(a.modal.action==="report_problem"?a.onReport(a.modal.url):a.modal.action==="open_request_form"&&a.onOpenForm(a.modal.url))};function p(a){var b=d("react-compiler-runtime").c(22),e=a.modal,f=a.onConfirm,g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g={onClose:s,routeParams:{},routeProps:{}},b[0]=g):g=b[0];g=c("useIGDSEntryPointDialog")(c("PolarisAFADDialog.entrypoint"),g,void 0);g=g[0];if(!e)return null;if(e.action==="open_login_challenges"){if(b[1]!==e||b[2]!==g){var h=v(e),j=new Map();h=g({webBloksParams:h,webBloksProps:j},r,void 0,!0);b[1]=e;b[2]=g;b[3]=h}else h=b[3];return h}if(n.includes(e.action)){b[4]!==e.action||b[5]!==e.feedback_appeal_label||b[6]!==e.message||b[7]!==e.restriction_enrollment_data||b[8]!==e.title?(j={feedback_action:e.action,feedback_appeal_label:e.feedback_appeal_label,feedback_message:e.message,feedback_title:e.title,restriction_enrollment_data:e.restriction_enrollment_data},b[4]=e.action,b[5]=e.feedback_appeal_label,b[6]=e.message,b[7]=e.restriction_enrollment_data,b[8]=e.title,b[9]=j):j=b[9];g=j;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(h=new Map([["onClickWebCallback",new(d("WebBloksCallback").WebBloksCallback)(null,null,null,q)]]),b[10]=h):h=b[10];j=h;switch(e.action){case"open_bio_takedown_restriction":b[11]!==g?(h=i.jsx(c("IGWebBloksApp"),{appId:"com.bloks.www.instagram.igwb.exp.enforcement.dialog",params:g,props:j}),b[11]=g,b[12]=h):h=b[12];return h;case"open_account_status_home_screen":case"open_account_status_game_experience_detail_page":b[13]!==e?(j=i.jsx(c("SentryBlockGAMEEnforcementDialog.react"),{modal:e}),b[13]=e,b[14]=j):j=b[14];return j}}b[15]!==a?(g=function(){return o(a)},b[15]=a,b[16]=g):g=b[16];b[17]!==e.message||b[18]!==e.title||b[19]!==f||b[20]!==g?(h=i.jsx(c("PolarisConfirmDialog.react"),{body:e.message,cancelLabel:d("PolarisGenericStrings").OK_TEXT,confirmLabel:d("PolarisNavigationStrings").REPORT_PROBLEM_TEXT,onClose:f,onConfirm:g,title:e.title}),b[17]=e.message,b[18]=e.title,b[19]=f,b[20]=g,b[21]=h):h=b[21];return h}function q(){return window.location.reload()}function r(){var a=c("PolarisSentryFeedbackDispatcher").getInstance();a.allowDispatch();a.dismissSentryFeedback()}function s(){}function t(a){var b=d("react-compiler-runtime").c(10),e=m(!1),f=e[0],g=e[1],h=l(!1);b[0]!==a.enforcement_transparency_instance_identifier?(e={enforcement_transparency_instance_identifier:a.enforcement_transparency_instance_identifier},b[0]=a.enforcement_transparency_instance_identifier,b[1]=e):e=b[1];var j;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(j={},b[2]=j):j=b[2];b[3]!==e?(j={routeParams:e,routeProps:j},b[3]=e,b[4]=j):j=b[4];e=c("useIGDSEntryPointDialog")(c("PolarisGAMEWriteTimeBlockDialog.entrypoint"),j,"button",u);var n=e[0];b[5]!==n?(j=function(){h.current||(h.current=!0,n({onFallbackNeeded:function(){g(!0)}},function(){h.current=!1}))},e=[n],b[5]=n,b[6]=j,b[7]=e):(j=b[6],e=b[7]);k(j,e);if(f){b[8]!==a.rootProps?(j=i.jsx(p,babelHelpers["extends"]({},a.rootProps)),b[8]=a.rootProps,b[9]=j):j=b[9];return j}return null}function u(){return i.jsx("div",{})}u.displayName=u.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(5),c=a.modal;c=c==null?void 0:c.enforcement_transparency_instance_identifier;if(c!=null){var e;b[0]!==c||b[1]!==a?(e=i.jsx(t,{enforcement_transparency_instance_identifier:c,rootProps:a}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}b[3]!==a?(c=i.jsx(p,babelHelpers["extends"]({},a)),b[3]=a,b[4]=c):c=b[4];return c}function b(a){return{modal:a.sentryFeedback.modal}}function v(a){return{feedback_action:a.action,feedback_appeal_label:a.feedback_appeal_label,feedback_message:a.message,feedback_title:a.title,restriction_enrollment_data:a.restriction_enrollment_data}}function e(a){return{onConfirm:function(){return a(d("PolarisSentryFeedbackActions").dismissSentryFeedback())},onOpenForm:function(b){return a(d("PolarisSentryFeedbackActions").openForm(b))},onReport:function(b){return a(d("PolarisSentryFeedbackActions").reportProblem(b))}}}j=d("PolarisReactRedux.react").connect(b,e)(a);g["default"]=j}),98);/*FB_PKG_DELIM*/
__d("XPlatReactVoprf.shared",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.message=b;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.VoprfWasmError=a}),66);
__d("mapVoprfWasmError",["XPlatReactVoprf.shared"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case-1:return new h();case 1:return new i();case 2:return new j();case 3:return new k();case 4:return new l();default:return new m()}}var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Unknown error encountered by VOPRF WASM");a=b.call(this,a)||this;a.name="VoprfUnknownError";return a}return a}((b=d("XPlatReactVoprf.shared")).VoprfWasmError),i=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Incorrect buffer length encountered by VOPRF WASM");a=b.call(this,a)||this;a.name="VoprfBufferLengthError";return a}return a}(b.VoprfWasmError),j=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Error while performing curve operation by VOPRF WASM");a=b.call(this,a)||this;a.name="VoprfCurveOperationError";return a}return a}(b.VoprfWasmError),k=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Error while performing hash operation by VOPRF WASM");a=b.call(this,a)||this;a.name="VoprfHashOperationError";return a}return a}(b.VoprfWasmError),l=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Error while performing proof operation by VOPRF WASM");a=b.call(this,a)||this;a.name="VoprfProofError";return a}return a}(b.VoprfWasmError),m=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Unknown error code received from WASM binary");a=b.call(this,a)||this;a.name="UnknownErrorCode";return a}return a}(b.VoprfWasmError);g.mapVoprfWasmError=a;g.VoprfUnknownError=h;g.VoprfBufferLengthError=i;g.VoprfCurveOperationError=j;g.VoprfHashOperationError=k;g.VoprfProofError=l;g.UnknownErrorCode=m}),98);
__d("LSVoprfWasmBuilder",["FBLogger","Promise","asyncToGeneratorRuntime","err","mapVoprfWasmError"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return function(d){var e=d.locateFile!=null?{locateFile:d.locateFile}:{instantiateWasm:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{var e=(yield d.getWasmModule());e=(yield WebAssembly.instantiate(e,a));b(e);return{}}catch(a){c("FBLogger")("LSVoprfWasmBuilder").mustfix("instantiateWasm failed with error: %s",a.toString());return!1}});function e(b,c){return a.apply(this,arguments)}return e}()};return i(e,a)}}function i(a,e){return new(h||(h=b("Promise")))(function(b,f){e(a).then(function(a){var e=a._sodiumInit();e!==0&&f(c("err")("Failed to initialize Sodium!"));b({createCurveRistretto:function(){var b;try{b=a._curve_create();a._curve_init_ristretto(b);return b}catch(c){b!=null&&a._curve_free(b);throw c}},freeCurve:function(b){a._curve_free(b)},createVoprfExpTwohashdh:function(b){var c;try{c=a._voprf_create();a._voprf_init_exp_twohashdh(c,b);return c}catch(b){c!=null&&a._voprf_free(c);throw b}},freeVoprf:function(b){a._voprf_free(b)},getCurveBytes:function(b){return a._get_curve_element_bytes(b.curvePtr)},getCurveScalarBytes:function(b){return a._get_curve_scalar_bytes(b.curvePtr)},blind:function(b,c){var e,f,g;try{var h=a._get_curve_element_bytes(b.curvePtr),i=a._get_curve_scalar_bytes(b.curvePtr);e=a._malloc(h);f=a._malloc(i);g=k(a,c);b=a._blind(b.voprfPtr,e,h,f,i,g,c.length);if(b!==0)throw d("mapVoprfWasmError").mapVoprfWasmError(b);c=j(a,e,h);b=j(a,f,i);return{blindedElement:c,blindingFactor:b}}finally{[e,f,g].forEach(function(b){b!=null&&a._free(b)})}},verifiableUnblind:function(b,c,e,f,g,h,i,l){var m,n,o,p,q,r,s;try{m=c?k(a,c):null;n=e?k(a,e):null;o=k(a,h);p=k(a,f);q=k(a,g);r=k(a,i);var t=a._get_curve_element_bytes(b.curvePtr);s=a._malloc(t);b=a._verifiable_unblind(b.voprfPtr,s,t,m,c?c.length:0,n,e?e.length:0,p,f.length,q,g.length,o,h.length,r,i.length,+l);if(b!==0)throw d("mapVoprfWasmError").mapVoprfWasmError(b);c=j(a,s,t);return{unblindedElement:c}}finally{[m,n,o,p,q,r,s].forEach(function(b){b!=null&&a._free(b)})}},clientFinalize:function(b,c,e){var f,g,h;try{f=k(a,c);g=k(a,e);var i=a._get_voprf_final_evaluation_bytes(b.voprfPtr);h=a._malloc(i);b=a._voprf_client_finalize(b.voprfPtr,h,i,f,c.length,g,e.length);if(b!==0)throw d("mapVoprfWasmError").mapVoprfWasmError(b);c=j(a,h,i);return{finalEvaluation:c}}finally{[f,g,h].forEach(function(b){b!=null&&a._free(b)})}},setup:function(b){var c,e;try{var f=a._get_curve_scalar_bytes(b.curvePtr),g=a._get_curve_element_bytes(b.curvePtr);c=a._malloc(f);e=a._malloc(g);b=a._voprf_setup(b.voprfPtr,e,g,c,f);if(b!==0)throw d("mapVoprfWasmError").mapVoprfWasmError(b);b=j(a,e,g);g=j(a,c,f);return{sk:b,pk:g}}finally{[c,e].forEach(function(b){b!=null&&a._free(b)})}},evaluate:function(b,c,e,f){var g,h,i,l,m;try{var n=a._get_curve_element_bytes(b.curvePtr);g=a._malloc(n);var o=f?a._get_curve_scalar_bytes(b.curvePtr):0;h=o>0?a._malloc(o):null;var p=f?a._get_curve_scalar_bytes(b.curvePtr):0;i=p>0?a._malloc(p):null;l=k(a,e);m=k(a,c);b=a._voprf_evaluate(b.voprfPtr,g,n,h,o,i,p,m,c.length,l,e.length,+f);if(b!==0)throw d("mapVoprfWasmError").mapVoprfWasmError(b);c=h!==null?j(a,h,o):null;e=i!==null?j(a,i,p):null;f=j(a,g,n);return{proofC:c,proofS:e,evaluatedElement:f}}finally{[g,h,i,l,m].forEach(function(b){b!=null&&a._free(b)})}},serverFinalize:function(b,c,e){var f,g,h;try{f=k(a,c);g=k(a,e);var i=a._get_voprf_final_evaluation_bytes(b.voprfPtr);h=a._malloc(i);b=a._voprf_server_finalize(b.voprfPtr,h,i,f,c.length,g,e.length);if(b!==0)throw d("mapVoprfWasmError").mapVoprfWasmError(b);c=j(a,h,i);return{finalEvaluation:c}}finally{[f,g,h].forEach(function(b){b!=null&&a._free(b)})}},wasmMemory:(e=a.wasmMemory)!=null?e:void 0})})["catch"](function(a){throw c("err")("Failed to initialize wasm module, "+a)})})}function j(a,b,c){var d=new Uint8Array(c);for(var e=0;e<c;++e)d[e]=a.getValue(e+b,"i8");return d}function k(a,b){var c=b.length;c=a._malloc(c);a.writeArrayToMemory(b,c);return c}g["default"]=a}),98);
__d("LSVoprfWasm",["LSVoprfWasmBuilder","bx","ls_voprf_utils_v2"],(function(a,b,c,d,e,f,g){"use strict";var h=c("bx").getURL(c("bx")("30933"));a=function(){return h};b=c("LSVoprfWasmBuilder")(c("ls_voprf_utils_v2"));g.locateFile=a;g.LSVoprfWasm=b}),98);/*FB_PKG_DELIM*/
__d("PolarisFeedActionLoadFeedPageExtras",["CometRelay","FBLogger","PolarisFeedLogger","PolarisFeedVariants","PolarisInstajax","PolarisLoggerUtils","PolarisQueryParams","PolarisRelayEnvironment","PolarisStoriesV3Gating","PolarisStoryAPIActions","PolarisUA","Promise","QuickPerformanceLogger","ReelTrayRefreshFalcoEvent","asyncToGeneratorRuntime","nullthrows","polarisGetXDTMaterialTray","polarisLogAction","polarisStorySelectors","polarisUserSelectors","prefetchPolarisStoriesV3Ads","qpl","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){var e=d("polarisStorySelectors").getStoriesContent(a),f=e.feedTray,g=e.traySession;e=c("nullthrows")(d("polarisUserSelectors").getViewer__DEPRECATED(a));var h=c("nullthrows")(d("polarisStorySelectors").getSeenCountInStoryTray(a)),i=c("nullthrows")(f).count()-h,j=d("polarisStorySelectors").currentFeedIsHome(a)&&c("nullthrows")(d("polarisStorySelectors").userHasReel(a,e.id));c("ReelTrayRefreshFalcoEvent").log(function(){return{has_my_reel:j?"1":"0",new_reel_count:String(i),tray_refresh_time:Number(d("PolarisLoggerUtils").msToLogSeconds(Date.now()-b)),tray_refresh_type:"network",tray_session_id:g,viewed_reel_count:String(h),was_successful:!0}})}function k(){var a=d("PolarisQueryParams").parseQueryParams();a=a.variant;return(a=c("PolarisFeedVariants").cast(String(a)))!=null?a:"home"}function a(){return function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){a({type:"FEED_PAGE_EXTRAS_LOADING"});var f=Date.now(),g=k();c("polarisLogAction")("loadFeedPageExtrasAttempt");(i||(i=c("QuickPerformanceLogger"))).markerPoint(c("qpl")._(27459585,"2172"),"stories_network_request");var l=new(h||(h=b("Promise")))(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,e){try{c("polarisLogAction")("fetchStoriesDataAttempt");var f=(yield d("PolarisStoryAPIActions").loadStoryTray(a,g));c("polarisLogAction")("fetchStoriesDataSuccess");b(f)}catch(a){c("polarisLogAction")("fetchStoriesDataFailure"),d("PolarisFeedLogger").logStoriesLoadFailure(a),e(a)}});return function(a,b){return e.apply(this,arguments)}}());try{l=(yield l);l!=null&&a(l);if(d("PolarisUA").isDesktop()&&!d("PolarisStoriesV3Gating").hasRelayStoriesTray()){var m;l=e();m=(m=(m=d("polarisStorySelectors").getFeedStoryTrayWithoutOwn(l))==null?void 0:(m=m.toArray())==null?void 0:(m=m.map(function(a){return a.userId}))==null?void 0:m.filter(Boolean))!=null?m:[];l=d("polarisStorySelectors").getStoriesContent(l).traySession;c("prefetchPolarisStoriesV3Ads")(m,l)}c("polarisLogAction")("loadFeedPageExtrasSuccess");(i||(i=c("QuickPerformanceLogger"))).markerPoint(c("qpl")._(27459585,"2172"),"stories_network_response");if(d("PolarisStoriesV3Gating").hasRelayStoriesTray())d("CometRelay").commitLocalUpdate(c("PolarisRelayEnvironment"),function(a){a=c("polarisGetXDTMaterialTray")(a,g==="following");a==null?void 0:(a=a.setValue(c("uuidv4")(),"tray_session_id"))==null?void 0:(a=a.setValue(Date.now(),"refresh_key"))==null?void 0:a.setValue(Date.now()-f,"refresh_latency")});else try{c("polarisLogAction")("logReelTrayRefreshAttempt"),j(e(),f),c("polarisLogAction")("logReelTrayRefreshSuccess")}catch(a){c("polarisLogAction")("logReelTrayRefreshFailure"),d("PolarisFeedLogger").logReelTrayRefreshFailure(a)}}catch(b){c("polarisLogAction")("loadFeedPageExtrasFailure",{errorMessage:(b==null?void 0:b.name)+" "+(b==null?void 0:b.message)}),d("PolarisFeedLogger").logFeedPageExtrasLoadFailure(b),(i||(i=c("QuickPerformanceLogger"))).markerPoint(c("qpl")._(27459585,"2172"),"stories_network_response_failure"),a({type:"FEED_PAGE_EXTRAS_FAILED"}),b instanceof d("PolarisInstajax").AjaxError||c("FBLogger")("ig_web").catching(b).mustfix("unexpected")}h.resolve()});return function(b,c){return a.apply(this,arguments)}}()}g.loadFeedPageExtras=a}),98);
__d("getViewportDimensions",["UserAgent"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){var a=null;return function(){var b=document.body;if(b==null)return null;(a==null||!b.contains(a))&&(a=document.createElement("div"),a.style.left=Number.MAX_SAFE_INTEGER+"px",a.style.width="100%",a.style.height="100%",a.style.position="fixed",b.appendChild(a));return a}}();function i(){var a;document.documentElement&&(a=document.documentElement.clientWidth);a==null&&document.body&&(a=document.body.clientWidth);return a||0}function j(){var a;document.documentElement&&(a=document.documentElement.clientHeight);a==null&&document.body&&(a=document.body.clientHeight);return a||0}function k(){return{width:window.innerWidth||i(),height:window.innerHeight||j()}}k.withoutScrollbars=function(){return c("UserAgent").isPlatform("Android")?k():{width:i(),height:j()}};k.layout=function(){var a,b=h();return{width:(a=b==null?void 0:b.clientWidth)!=null?a:i(),height:(a=b==null?void 0:b.clientHeight)!=null?a:j()}};g["default"]=k}),98);/*FB_PKG_DELIM*/
__d("PolarisMiniToast.react",["cx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(5),c=a.className;a=a.text;var e;b[0]!==a?(e=j.jsx("div",{className:"_ac7s",children:j.jsx("div",{className:"_ac7t",children:j.jsx("p",{className:"_ac7u",children:a})})}),b[0]=a,b[1]=e):e=b[1];b[2]!==c||b[3]!==e?(a=j.jsx("div",{className:c,children:e}),b[2]=c,b[3]=e,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("PolarisSnackbar.react",["cx","CometAccessibilityAnnouncement.react","PolarisIGCoreButton.react","joinClasses","react","warning"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){a.preventDefault(),c.props.onActionClick&&c.props.onActionClick(a)},b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.render=function(){var a=this.props,b=a.actionText,d=a.className,e=a.onActionClick;a=a.text;c("warning")(!!(b!=null&&e!=null)||b==null&&e==null,"Having action text without a callback, or vice versa, makes no sense");return j.jsxs("div",{className:c("joinClasses")(d,"_abmn"),children:[j.jsxs("div",{className:"_abmo",children:[j.jsx("p",{className:"_abmp",children:a}),j.jsx(c("CometAccessibilityAnnouncement.react"),{children:a})]}),b!=null&&j.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,color:"ig-primary-button",onClick:this.$1,children:b})]})};return b}(j.Component);g["default"]=a}),98);
__d("PolarisToastWrapper.react",["cx","BasePortal.react","PolarisEventLoop","PolarisMiniToast.react","PolarisReactRedux.react","PolarisSnackbar.react","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.$1=null;c.state={currentToast:b.toast,hasNextToast:!1,nextToast:null};return c}var d=b.prototype;d.componentWillUnmount=function(){c("PolarisEventLoop").clearTimeout(this.$1)};b.getDerivedStateFromProps=function(a,b){return b.currentToast!==a.toast?{hasNextToast:!0,nextToast:a.toast}:null};d.componentDidUpdate=function(a,b){var d=this;!b.hasNextToast&&this.state.hasNextToast&&(c("PolarisEventLoop").clearTimeout(this.$1),this.$1=c("PolarisEventLoop").setTimeout(function(){d.$1=null,d.setState(function(a){return{currentToast:a.nextToast,hasNextToast:!1,nextToast:null}})},200))};d.render=function(){var a=this.state.currentToast,b=c("joinClasses")(this.props.className,"_acb3"),d="_acb4"+(this.state.hasNextToast?" _acb5":""),e=c("joinClasses")(this.props.className,"_acb6"),f="_acb7"+(this.state.hasNextToast?" _acb8":""),g=null,h=null;if(a)switch(a==null?void 0:a.toastType){case"MINI_TOAST":g=j.jsx(c("PolarisMiniToast.react"),{className:"_acb9",text:a.text});break;case"DEFAULT_TOAST":default:h=j.jsx(c("PolarisSnackbar.react"),{actionText:a.actionText,className:"_acba",onActionClick:a.actionHandler,text:a.text});break}return j.jsxs(c("BasePortal.react"),{children:[j.jsx("div",{className:b,children:j.jsx("div",{className:d,children:h})}),j.jsx("div",{className:e,children:j.jsx("div",{className:f,children:g})})]})};return b}(j.PureComponent);function a(a){return{toast:a.toasts.toast}}e=d("PolarisReactRedux.react").connect(a)(b);g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("LSEncryptedBackupsClientRestoreState",[],(function(a,b,c,d,e,f){a=Object.freeze({RESTORE_IN_PROGRESS:1,RESTORE_COMPLETE:2});f["default"]=a}),66);
__d("MAWRestoreRewriteUtils",["qex"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return c("qex")._("656")===!0};g.isOneDBEnabled=a}),98);
__d("LSGetLatestThreadIds.nop",["ExecutionEnvironment","I64","LSVec","MAWBridge","MAWBridgeSafeActionsWorkerAndUI","MAWRestoreRewriteUtils","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=[];e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(e.mi_act_mapping_table)).then(function(a){return a.map(function(a){a=a.jid;return(j||(j=d("I64"))).to_string(a)})}));if(e.length>0){var g=new Set(e);a.forEach(function(a){g.has(a)&&f.push(a)})}return(i||(i=b("Promise"))).resolve([c("LSVec").ofArray(f),!0])});return l.apply(this,arguments)}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.e2ee_threads.index("threadOrder")).take((j||(j=d("I64"))).to_int32(b))));return a.map(function(a){a=a.jid;return a.split("@")[0]})});return n.apply(this,arguments)}function o(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("MAWBridgeSafeActionsWorkerAndUI").sendAndReceiveBackendWorkerAndUIShared("getLatestThreadIds",{numThreads:(j||(j=d("I64"))).to_int32(a)}));return a});return p.apply(this,arguments)}a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,l){l===void 0&&(l=!1);if((h||(h=c("ExecutionEnvironment"))).isInWorker)return d("MAWBridge").getBridge().sendAndReceive("event","getLSDBLatestThreadIds",{miActMappingFilteredThreads:l,numThreads:g});if((j||(j=d("I64"))).gt(g,(j||(j=d("I64"))).zero))try{e=d("MAWRestoreRewriteUtils").isOneDBEnabled()?yield m(a,g):yield o(g);return l?k(e,a):(i||(i=b("Promise"))).resolve([c("LSVec").ofArray(e),!0])}catch(a){return(i||(i=b("Promise"))).resolve([c("LSVec").ofArray([]),!1])}return(i||(i=b("Promise"))).resolve([c("LSVec").ofArray([]),!0])});function e(b,c,d,e,f){return a.apply(this,arguments)}return e}();a.__nop_name__="LSGetLatestThreadIds";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("IGDLegacyTLCBundleResource",["IGDLegacyTLCMainWebWorkerResource"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("IGDLegacyTLCMainWebWorkerResource")}),98);
__d("MAWLoadDbMigrationVersion",["MAWCurrentUser","MAWDBMigrationUtils","MAWDbAppMeta","MAWDbObjEncryption","MAWIndexedDbMetadata","MWEARKeychainV3","Promise","WATagsLogger","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MAWLoadDbMigrationVersion] "," blocked"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MAWLoadDbMigrationVersion] "," error ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MAWLoadDbMigrationVersion] Error accessing appMeta: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MAWLoadDbMigrationVersion] Request error: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MAWLoadDbMigrationVersion] Transaction error: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MAWLoadDbMigrationVersion] "," onupgradeneeded - closing db"]);n=function(){return a};return a}var o=d("WATagsLogger").TAGS(["DB","MIGRATION_VERSION"]);function a(a){var c=d("MAWCurrentUser").getID(),e=d("MAWIndexedDbMetadata").dbName(c);return new(h||(h=b("Promise")))(function(c){if(!indexedDB){c();return}var f=indexedDB.open(e);f.onupgradeneeded=function(a){a.target.transaction.abort();a=a.target.result;o.LOG(n(),e);a==null?void 0:a.close();c()};f.onsuccess=function(e){var f=e.target.result;if(f==null){c();return}try{e=f.transaction("appMeta","readonly");e.onerror=function(a){o.LOG(m(),(a=a.target.error)==null?void 0:a.message);f.close();c()};e=e.objectStore("appMeta");e=e.get(d("MAWDbAppMeta").AppMetaKeysEnum.dbMigrationVersion);e.onerror=function(a){o.LOG(l(),(a=a.target.error)==null?void 0:a.message);f.close();c()};e.onsuccess=function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){f.close();b=b.target.result;yield d("MWEARKeychainV3").waitForDbEncryptionNamespace("maw_ear");if(b!=null){b=d("MAWDbObjEncryption").decryptDbObj(babelHelpers["extends"]({},b),"appMeta",a);b=b.value.dbMigrationVersion;b!=null&&(d("MAWDBMigrationUtils").mawDbMigrationVersion.version=b)}c()});return function(a){return e.apply(this,arguments)}}()}catch(a){o.LOG(k(),a.message),f.close(),c()}};f.onerror=function(a){o.LOG(j(),e,a==null?void 0:(a=a.target)==null?void 0:(a=a.error)==null?void 0:a.message);c()};f.onblocked=function(a){a=a.target.result;o.LOG(i(),e);a==null?void 0:a.close()}})}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("Base64",[],(function(a,b,c,d,e,f){var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function h(a){a=a.charCodeAt(0)<<16|a.charCodeAt(1)<<8|a.charCodeAt(2);return String.fromCharCode(g.charCodeAt(a>>>18),g.charCodeAt(a>>>12&63),g.charCodeAt(a>>>6&63),g.charCodeAt(a&63))}var i=">___?456789:;<=_______\0\x01\x02\x03\x04\x05\x06\x07\b\t\n\v\f\r\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19______\x1a\x1b\x1c\x1d\x1e\x1f !\"#$%&'()*+,-./0123";function j(a){a=i.charCodeAt(a.charCodeAt(0)-43)<<18|i.charCodeAt(a.charCodeAt(1)-43)<<12|i.charCodeAt(a.charCodeAt(2)-43)<<6|i.charCodeAt(a.charCodeAt(3)-43);return String.fromCharCode(a>>>16,a>>>8&255,a&255)}var k={encode:function(a){a=unescape(encodeURI(a));var b=(a.length+2)%3;a=(a+"\0\0".slice(b)).replace(/[\s\S]{3}/g,h);return a.slice(0,a.length+b-2)+"==".slice(b)},decode:function(a){a=a.replace(/[^A-Za-z0-9+\/]/g,"");var b=a.length+3&3;a=(a+"AAA".slice(b)).replace(/..../g,j);a=a.slice(0,a.length+b-3);try{return decodeURIComponent(escape(a))}catch(a){throw new Error("Not valid UTF-8")}},encodeObject:function(a){return k.encode(JSON.stringify(a))},decodeObject:function(a){return JSON.parse(k.decode(a))},encodeNums:function(a){return String.fromCharCode.apply(String,a.map(function(a){return g.charCodeAt((a|-(a>63?1:0))&-(a>0?1:0)&63)}))}};a=k;f["default"]=a}),66);
__d("TrustedTypesNoOpPolicy_DO_NOT_USE",["TrustedTypes","TrustedTypesUtils"],(function(a,b,c,d,e,f,g){"use strict";a={createScriptURL:d("TrustedTypesUtils").noop,createHTML:d("TrustedTypesUtils").noop,createScript:d("TrustedTypesUtils").noop};b=c("TrustedTypes").createPolicy("noop-do-not-use",a);e=b;g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("PolarisAppStoreLauncher.react",["InstagramODS","PolarisUA","URI","polarisGetInstallAppHref","react","react-compiler-runtime","usePolarisDynamicIpadUpsell"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useEffect,k="launch_app_store",l="instagram_carbon",m="utm_campaign",n="utm_medium";function o(a){a=d("PolarisUA").isMobile()||a;var b=new URLSearchParams(location.search);if(!a||!b.get(k))return null;a=new URL(location.href);var e=b.get(l)==="true";a.searchParams["delete"](k);a.searchParams["delete"](l);history.replaceState({},document.title,a.toString());if(e){c("InstagramODS").incr("web.logging.preload_ods.iglite_open_app_store");c("InstagramODS").incr("web.logging.preload_ods.polaris_iglite_open_app_store");a=b.get(m);e=b.get(n);return d("polarisGetInstallAppHref").getInstallIGLiteCarbonAppHref(a!=null&&a!==""?a:"instagramlitecarbon",e!=null?e:"")}return d("polarisGetInstallAppHref").getInstallAppHref()}function a(){var a=d("react-compiler-runtime").c(3),b=d("usePolarisDynamicIpadUpsell").usePolarNewIpadUpsellExperience(),e,f;a[0]!==b?(e=function(){var a=o(b);a!=null&&(h||(h=c("URI"))).goURIOnWindow(a)},f=[b],a[0]=b,a[1]=e,a[2]=f):(e=a[1],f=a[2]);j(e,f);return null}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("first",[],(function(a,b,c,d,e,f){"use strict";function a(a){for(a of a)return a;return null}f["default"]=a}),66);
__d("mergeHelpers",["invariant","FbtResultBase"],(function(a,b,c,d,e,f,g,h){"use strict";var i=36,j=function(a){return typeof a!=="object"||a instanceof Date||a===null||a instanceof c("FbtResultBase")},k={MAX_MERGE_DEPTH:i,isTerminal:j,normalizeMergeArg:function(a){return a==null?{}:a},checkMergeArrayArgs:function(a,b){Array.isArray(a)&&Array.isArray(b)||h(0,3714,a,b)},checkMergeObjectArgs:function(a,b){k.checkMergeObjectArg(a),k.checkMergeObjectArg(b)},checkMergeObjectArg:function(a){!j(a)&&!Array.isArray(a)||h(0,3715,a)},checkMergeIntoObjectArg:function(a){(!j(a)||typeof a==="function")&&!Array.isArray(a)||h(0,3716,a)},checkMergeLevel:function(a){a<i||h(0,3717)},checkArrayStrategy:function(a){a==null||a in k.ArrayStrategies||h(0,3718)},ArrayStrategies:{Clobber:"Clobber",Concat:"Concat",IndexByIndex:"IndexByIndex"}};a=k;g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("EBGraphQLTypeUtils",["err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(/^\d+$/.test(a)===!1)throw c("err")("threadId is not a number");return Number(a)}function b(a){return a.toString()}g.threadIdToThreadIdInt=a;g.timestampMsToTimestampMsString=b}),98);
__d("getRequestConstUri",["ConstUriUtils","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("ConstUriUtils").getUri(window.location.href);if(a==null)throw c("unrecoverableViolation")("Cannot create ConstUriImpl of current request","comet_infra");return a}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSProgramTarget",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({DASM:1,JS:2,JSON:3});c=a;f["default"]=c}),66);
__d("XPlatRelayEnvironment",["CometRelayEnvironment","err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){throw c("err")("RelayEnvironment is already set")}function b(){return c("CometRelayEnvironment")}g.setRelayEnvironment=a;g.getRelayEnvironment=b}),98);/*FB_PKG_DELIM*/
__d("CAAFetaSavePasswordInterstitial.entrypoint",["CAAFetaSavePasswordInterstitialDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{query:{parameters:c("CAAFetaSavePasswordInterstitialDialogQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("CAAFetaSavePasswordInterstitialDialog.react").__setRef("CAAFetaSavePasswordInterstitial.entrypoint")};g["default"]=a}),98);